(window.webpackJsonp=window.webpackJsonp||[]).push([[11,12],{227:function(t,e,n){var o=n(4);o(o.P,"Array",{fill:n(228)}),n(75)("fill")},228:function(t,e,n){"use strict";var o=n(28),l=n(105),r=n(15);t.exports=function(t){for(var e=o(this),n=r(e.length),c=arguments.length,f=l(c>1?arguments[1]:void 0,n),v=c>2?arguments[2]:void 0,d=void 0===v?n:l(v,n);d>f;)e[f++]=t;return e}},229:function(t,e,n){"use strict";n.r(e);n(227),n(27);var o={data:function(){return{mic:void 0,analyzer:void 0,fft:void 0,meter:void 0,isActive:!0}},methods:{toggleActive:function(){this.isActive=!this.isActive},setup:function(t){t.createCanvas(260,50),t.frameRate(20),this.analyzer=new Tone.Waveform(2048),this.fft=new Tone.FFT(1024),Tone.Destination.connect(this.analyzer),Tone.Destination.connect(this.fft),t.noFill()},draw:function(t){t.background(255);var e=260,n=this.analyzer.getValue(),o=this.fft.getValue();t.noStroke(),t.fill("rgba(50, 115, 220, 0.6)"),t.beginShape(),t.vertex(0,50);for(var l=0;l<o.length;l++)t.vertex(t.map(t.log(l),0,t.log(o.length),0,e),t.map(o[l],-127,0,50,0));t.vertex(e,50),t.endShape(),t.noFill(),t.stroke("rgba(50, 115, 220, 1)"),t.strokeWeight(1.5),t.beginShape();for(var r=0,c=0,i=0;i<n.length;i++)n[i]>0&&n[i-1]<=0&&0==r&&(r=1,c=i),1==r&&t.vertex(t.map(i-c,0,n.length,0,338),t.map(n[i],-1,1,50,0));if(0==r)for(i=0;i<n.length;i++)t.vertex(t.map(i,0,n.length,0,338),t.map(n[i],-1,1,50,0));t.endShape()}}},l=n(35),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("b-tooltip",{attrs:{label:"Oscilloscope displaying waveform & spectrogram of audio",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{on:{click:t.toggleActive}},[e("client-only",[t.isActive?e("VueP5",{on:{setup:t.setup,draw:t.draw}}):t._e()],1),t._v(" "),t.isActive?t._e():e("b-skeleton",{attrs:{width:"260px",height:"56px",animated:!1}})],1)])}),[],!1,null,null,null);e.default=component.exports},233:function(t,e,n){var content=n(242);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("4e1420a3",content,!0,{sourceMap:!1})},240:function(t,e,n){(function(n){var o,l,r;l=[],o=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function e(a,b,t){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){g(e.response,b,t)},e.onerror=function(){console.error("could not download file")},e.send()}function o(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function l(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(t){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,t){var i=r.URL||r.webkitURL,n=document.createElement("a");g=g||b.name||"download",n.download=g,n.rel="noopener","string"==typeof b?(n.href=b,n.origin===location.origin?l(n):o(n.href)?e(b,g,t):l(n,n.target="_blank")):(n.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(n.href)}),4e4),setTimeout((function(){l(n)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,g,n){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(b(t,n),g);else if(o(t))e(t,g,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){l(i)}))}}:function(b,t,n,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return e(b,t,n);var o="application/octet-stream"===b.type,i=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&i||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var a=c.result;a=l?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},c.readAsDataURL(b)}else{var f=r.URL||r.webkitURL,v=f.createObjectURL(b);g?g.location=v:location.href=v,g=null,setTimeout((function(){f.revokeObjectURL(v)}),4e4)}});r.saveAs=g.saveAs=g,t.exports=g},void 0===(r="function"==typeof o?o.apply(e,l):o)||(t.exports=r)}).call(this,n(29))},241:function(t,e,n){"use strict";n(233)},242:function(t,e,n){var o=n(24)(!1);o.push([t.i,"\n[data-v-074722ad] .icon {\n  margin-right: 0.35em;\n}\n",""]),t.exports=o},254:function(t,e,n){"use strict";n.r(e);n(11),n(76),n(77),n(46);var o=n(239),l=n.n(o),r=n(229),c=n(240),f={components:{Oscilloscope:r.default},props:["value"],data:function(){return{file:void 0}},computed:{valueBase64:function(){return l.a.Buffer.from(JSON.stringify(this.value)).toString("base64")},version:function(){return"0.12.1"}},methods:{saveJson:function(){var t=JSON.stringify(this.value,null,2),e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(c.saveAs)(e,this.value.songName+".json"||!1)},getLink:function(){var t=this,e=window.location.origin+window.location.pathname+"?state=".concat(this.valueBase64),n=this.$buefy.toast,o={title:"Use this link to share the fun !",size:"is-small",message:'<div style="word-break:break-all">The state of the app is saved into this url:<br/><a href="'.concat(e,'">').concat(e,"</a></div>"),confirmText:"Paste link to clipboard",type:"is-link",hasIcon:!0,icon:"content-copy",onConfirm:function(){t.$copyText(e).then((function(){return n.open("Copied")}),(function(){return n.open("Did not copy")}))}};this.$buefy.dialog.confirm(o)},emitStateFromUrl:function(){if(this.$route.query.state){var input=JSON.parse(l.a.Buffer.from(this.$route.query.state,"base64").toString());this.$emit("input",input),this.resetUrlState()}},resetUrlState:function(){if(this.$route.query.state){var t=Object.assign({},this.$route.query);delete t.state,this.$router.replace({query:t})}}},mounted:function(){this.emitStateFromUrl()},watch:{file:function(t){var e=this;this.resetUrlState();var n=new FileReader;n.onload=function(t){var input=JSON.parse(t.target.result);e.$emit("input",input)},n.readAsText(t)},"$route.query.state":{handler:function(){this.emitStateFromUrl()}}}},v=(n(241),n(35)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("b-navbar",{attrs:{"wrapper-class":"container is-fluid",shadow:""}},[e("template",{slot:"brand"},[e("b-navbar-item",[e("h1",{staticClass:"title"},[e("b-icon",{staticStyle:{"margin-left":"0.75rem","margin-right":"0.75rem"},attrs:{size:"is-small",icon:"music-box-multiple-outline",type:"is-link"}}),t._v("\n        Scribbleton Live\n        "),e("sub",{staticClass:"has-text-weight-normal",staticStyle:{"font-size":"0.5em"}},[t._v("\n          v"+t._s(t.version)+"\n        ")])],1)]),t._v(" "),e("b-navbar-item",[e("Oscilloscope")],1)],1),t._v(" "),e("template",{slot:"start"},[e("b-navbar-dropdown",{attrs:{label:"File",hoverable:""}},[e("b-navbar-item",[e("b-tooltip",{attrs:{label:"Load JSON file from computer",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("b-field",{staticClass:"file"},[e("b-upload",{staticClass:"level",model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[e("b-icon",{attrs:{icon:"upload"}}),t._v(" "),e("span",{staticStyle:{"font-size":"0.875rem"}},[t._v("Load JSON")])],1)],1)],1)],1),t._v(" "),e("b-navbar-item",[e("b-tooltip",{attrs:{label:"Save JSON file locally",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{staticClass:"level",on:{click:t.saveJson}},[e("b-icon",{attrs:{icon:"download"}}),t._v(" "),e("span",[t._v("Save JSON")])],1)])],1),t._v(" "),e("b-navbar-item",[e("b-tooltip",{attrs:{label:"Save application state in a permalink, easy to share",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{staticClass:"level",on:{click:t.getLink}},[e("b-icon",{attrs:{icon:"share-variant"}}),t._v(" "),e("span",[t._v("Save link")])],1)])],1)],1),t._v(" "),e("b-navbar-dropdown",{attrs:{label:"Help",hoverable:""}},[e("b-navbar-item",{attrs:{tag:"nuxt-link",to:"/?modal=documentation"}},[e("b-tooltip",{attrs:{label:"Documentation of the app & references to other documentations",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{staticClass:"level"},[e("b-icon",{attrs:{icon:"book-open"}}),t._v(" "),e("span",[t._v("Documentation")])],1)])],1),t._v(" "),e("b-navbar-item",{attrs:{tag:"nuxt-link",to:"/?modal=about"}},[e("b-tooltip",{attrs:{label:"About this app: why? who?",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{staticClass:"level"},[e("b-icon",{attrs:{icon:"information-outline"}}),t._v(" "),e("span",[t._v("About")])],1)])],1)],1),t._v(" "),e("b-navbar-item",{attrs:{href:"https://discord.gg/jJHQWd8",target:"_blank"}},[e("b-tooltip",{attrs:{label:"Chat with the scribbletune & scribbleton.live community",delay:1e3,type:"is-link",position:"is-bottom",multilined:""}},[e("div",{staticClass:"level"},[e("b-icon",{attrs:{icon:"forum"}}),t._v(" "),e("span",[t._v("Chat")])],1)])],1)],1)],2)}),[],!1,null,"074722ad",null);e.default=component.exports;installComponents(component,{Oscilloscope:n(229).default})}}]);