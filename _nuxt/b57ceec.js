(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{225:function(t,n,e){var r=e(4),o=e(150)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},233:function(t,n,e){"use strict";var r=e(4),o=e(234),c=e(148),m=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);r(r.P+r.F*m,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},234:function(t,n,e){var r=e(15),o=e(151),c=e(36);t.exports=function(t,n,e,m){var l=String(c(t)),f=l.length,d=void 0===e?" ":String(e),h=r(n);if(h<=f||""==d)return l;var P=h-f,y=o.call(d,Math.ceil(P/d.length));return y.length>P&&(y=y.slice(0,P)),m?y+l:l+y}},242:function(t,n,e){(function(e){var r,o,c;o=[],r=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function n(a,b,t){var n=new XMLHttpRequest;n.open("GET",a),n.responseType="blob",n.onload=function(){g(n.response,b,t)},n.onerror=function(){console.error("could not download file")},n.send()}function r(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(t){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof e&&e.global===e?e:void 0,a=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,t){var i=c.URL||c.webkitURL,e=document.createElement("a");g=g||b.name||"download",e.download=g,e.rel="noopener","string"==typeof b?(e.href=b,e.origin===location.origin?o(e):r(e.href)?n(b,g,t):o(e,e.target="_blank")):(e.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(e.href)}),4e4),setTimeout((function(){o(e)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,g,e){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(b(t,e),g);else if(r(t))n(t,g,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){o(i)}))}}:function(b,t,e,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return n(b,t,e);var r="application/octet-stream"===b.type,i=/constructor/i.test(c.HTMLElement)||c.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&i||a)&&"undefined"!=typeof FileReader){var m=new FileReader;m.onloadend=function(){var a=m.result;a=o?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},m.readAsDataURL(b)}else{var l=c.URL||c.webkitURL,f=l.createObjectURL(b);g?g.location=f:location.href=f,g=null,setTimeout((function(){l.revokeObjectURL(f)}),4e4)}});c.saveAs=g.saveAs=g,t.exports=g},void 0===(c="function"==typeof r?r.apply(n,o):r)||(t.exports=c)}).call(this,e(35))},245:function(t,n,e){"use strict";var r=e(5),o=e(26),c=e(27),m=e(144),l=e(78),f=e(9),d=e(57).f,h=e(58).f,P=e(12).f,y=e(246).trim,M="Number",v=r.Number,w=v,A=v.prototype,I=c(e(101)(A))==M,T="trim"in String.prototype,_=function(t){var n=l(t,!1);if("string"==typeof n&&n.length>2){var e,r,o,c=(n=T?n.trim():y(n,3)).charCodeAt(0);if(43===c||45===c){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===c){switch(n.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+n}for(var code,m=n.slice(2),i=0,f=m.length;i<f;i++)if((code=m.charCodeAt(i))<48||code>o)return NaN;return parseInt(m,r)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof v&&(I?f((function(){A.valueOf.call(e)})):c(e)!=M)?m(new w(_(n)),e,v):_(n)};for(var E,j=e(8)?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;j.length>N;N++)o(w,E=j[N])&&!o(v,E)&&P(v,E,h(w,E));v.prototype=A,A.constructor=v,e(16)(r,M,v)}},246:function(t,n,e){var r=e(4),o=e(36),c=e(9),m=e(247),l="["+m+"]",f=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),h=function(t,n,e){var o={},l=c((function(){return!!m[t]()||"​"!="​"[t]()})),f=o[t]=l?n(P):m[t];e&&(o[e]=f),r(r.P+r.F*l,"String",o)},P=h.trim=function(t,n){return t=String(o(t)),1&n&&(t=t.replace(f,"")),2&n&&(t=t.replace(d,"")),t};t.exports=h},247:function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},258:function(t,n,e){"use strict";var r=e(17);e(245),e(38),e(11),e(14),e(21),e(37),e(33),e(34);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,m=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return m=t.done,t},e:function(t){l=!0,o=t},f:function(){try{m||null==e.return||e.return()}finally{if(l)throw o}}}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var m=["altKey","metaKey","ctrlKey","shiftKey"],l={props:{keyEvent:{type:String,default:"keyup"},keyCode:{type:Number,default:null},modifiers:{type:Array,default:function(){return[]}},preventDefault:{type:Boolean},multipleKeys:{type:Array,default:function(){return[]}}},data:function(){return{keyListeners:[]}},mounted:function(){this.setupListeners()},destroyed:function(){var t,n=o(this.keyListeners);try{for(n.s();!(t=n.n()).done;){var e=t.value,r=e.keyEvent,c=e.listener;window.removeEventListener(r,c)}}catch(t){n.e(t)}finally{n.f()}},methods:{setupListeners:function(){var t={keyEvent:this.keyEvent,keyCode:this.keyCode,preventDefault:this.preventDefault,modifiers:this.modifiers,multipleKeys:this.multipleKeys};this.addEventListener(t)},addEventListener:function(t){var n=this.eventHandler(t);window.addEventListener(t.keyEvent,n),this.keyListeners.push({expectedEvent:t,listener:n})},eventHandler:function(t){var n=this;return function(e){var c=function(r,o){n.$emit(r,{event:e,expectedEvent:t,message:o})};c("any","Any key was pressed.");var l=t.multipleKeys.length>0;if(!t.keyCode&&!l)c("success","Any key was pressed.");else{var f=[t];l&&(f=t.multipleKeys);var d,h=o(f);try{var P=function(){var n=d.value;if(!(n.keyCode===e.keyCode))return"continue";if(n.modifiers.length>0&&!m.every((function(t){return e[t]==(-1!==n.modifiers.indexOf(t))})))return"continue";return t.preventDefault&&e.preventDefault(),c("success","Correct key(s) pressed."),{v:void 0}};for(h.s();!(d=h.n()).done;){var y=P();if("continue"!==y&&"object"===Object(r.a)(y))return y.v}}catch(t){h.e(t)}finally{h.f()}c("wrong","Wrong key(s) pressed.")}}}},render:function(){return null}},f=e(32),component=Object(f.a)(l,undefined,undefined,!1,null,null,null);n.a=component.exports},259:function(t,n,e){var r=e(13);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},262:function(t,n,e){"use strict";var strong=e(263),r=e(259);t.exports=e(264)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(r(this,"Set"),t=0===t?0:t,t)}},strong)},263:function(t,n,e){"use strict";var r=e(12).f,o=e(101),c=e(149),m=e(30),l=e(146),f=e(147),d=e(104),h=e(153),P=e(105),y=e(8),M=e(145).fastKey,v=e(259),w=y?"_s":"size",A=function(t,n){var e,r=M(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,d){var h=t((function(t,r){l(t,h,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[w]=0,null!=r&&f(r,e,t[d],t)}));return c(h.prototype,{clear:function(){for(var t=v(this,n),data=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete data[e.i];t._f=t._l=void 0,t[w]=0},delete:function(t){var e=v(this,n),r=A(e,t);if(r){var o=r.n,c=r.p;delete e._i[r.i],r.r=!0,c&&(c.n=o),o&&(o.p=c),e._f==r&&(e._f=o),e._l==r&&(e._l=c),e[w]--}return!!r},forEach:function(t){v(this,n);for(var e,r=m(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!A(v(this,n),t)}}),y&&r(h.prototype,"size",{get:function(){return v(this,n)[w]}}),h},def:function(t,n,e){var r,o,c=A(t,n);return c?c.v=e:(t._l=c={i:o=M(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=c),r&&(r.n=c),t[w]++,"F"!==o&&(t._i[o]=c)),t},getEntry:A,setStrong:function(t,n,e){d(t,n,(function(t,e){this._t=v(t,n),this._k=e,this._l=void 0}),(function(){for(var t=this,n=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?h(0,"keys"==n?e.k:"values"==n?e.v:[e.k,e.v]):(t._t=void 0,h(1))}),e?"entries":"values",!e,!0),P(n)}}},264:function(t,n,e){"use strict";var r=e(5),o=e(4),c=e(16),m=e(149),meta=e(145),l=e(147),f=e(146),d=e(13),h=e(9),P=e(103),y=e(59),M=e(144);t.exports=function(t,n,e,v,w,A){var I=r[t],T=I,_=w?"set":"add",E=T&&T.prototype,j={},N=function(t){var n=E[t];c(E,t,"delete"==t||"has"==t?function(a){return!(A&&!d(a))&&n.call(this,0===a?0:a)}:"get"==t?function(a){return A&&!d(a)?void 0:n.call(this,0===a?0:a)}:"add"==t?function(a){return n.call(this,0===a?0:a),this}:function(a,b){return n.call(this,0===a?0:a,b),this})};if("function"==typeof T&&(A||E.forEach&&!h((function(){(new T).entries().next()})))){var x=new T,S=x[_](A?{}:-0,1)!=x,O=h((function(){x.has(1)})),C=P((function(t){new T(t)})),k=!A&&h((function(){for(var t=new T,n=5;n--;)t[_](n,n);return!t.has(-0)}));C||((T=n((function(n,e){f(n,T,t);var r=M(new I,n,T);return null!=e&&l(e,w,r[_],r),r}))).prototype=E,E.constructor=T),(O||k)&&(N("delete"),N("has"),w&&N("get")),(k||S)&&N(_),A&&E.clear&&delete E.clear}else T=v.getConstructor(n,t,w,_),m(T.prototype,e),meta.NEED=!0;return y(T,t),j[t]=T,o(o.G+o.W+o.F*(T!=I),j),A||v.setStrong(T,t,w),T}},265:function(t,n,e){!function(t,n){for(var e in n)t[e]=n[e]}(n,function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNote=function(t){return/^[a-gA-G](?:#|b)?\d$/.test(t)},n.expandStr=function(t){return t=(t=(t=(t=JSON.stringify(t.split(""))).replace(/,"\[",/g,", [")).replace(/"\[",/g,"[")).replace(/,"\]"/g,"]"),JSON.parse(t)},n.shuffle=function(t){var n=t.length-1;return t.forEach((function(e,r){var o=Math.round(Math.random()*n);t[r]=t[o],t[o]=e})),t},n.sizzleMap=function(t){void 0===t&&(t=127);var n=Math.PI,e=[n/6,n/4,n/3,n/2,2*n/3,3*n/4,5*n/6,n],r=[0,n/6,n/4,n/3,n/2,2*n/3,3*n/4,5*n/6];return r.reverse(),e.concat(r).map((function(n){return Math.round(Math.sin(n)*t)}))},n.pickOne=function(t){return t.length>1?t[Math.round(Math.random())]:t[0]},n.dice=function(){return!!Math.round(Math.random())},n.flat=function(t){return t.reduce((function(t,n){return t.concat(n)}),[])}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(5),o=e(0),i=r.ChordType.all(),a=o.flat(i.map((function(t){return t.aliases.concat([t.name])}))).filter(Boolean);n.getChord=function(t){if(o.isNote(t))throw new Error(t+" is not a chord!");var n=t.split("-"),e=r.Chord.tokenize(n[0]),i=e[0],a=e[1];"4"!==i[1]&&"5"!==i[1]||(a=i[1],i=i.replace(/\d/,""));var s={"4th":"4","5th":"5","7th":"7","9th":"9","11th":"11","13th":"13"};if(s[a]&&(a=s[a]),!r.ChordType.get(a))throw new TypeError("Invalid chord name: "+a);var c=r.Chord.get(i+a),u=i+(n[1]||4);return(c.intervals||[]).map((function(t){var n=r.Note.transpose(u,t);return r.Note.simplify(n)}))},n.chords=function(){var t={4:"4th",5:"5th",7:"7th",9:"9th",11:"11th",13:"13th"};return a.map((function(n){return/^\d+$/.test(n)&&t[n]?t[n]:n}))},n.addChord=function(t,n,e){r.ChordType.add(t,n,e)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(5);n.getScale=function(t){t=(t=(t=t&&t.toLowerCase()).replace("#5p","#5P")).replace("#7m","#7M");var n=r.Scale.tokenize(t)[1];if(!r.ScaleType.get(n))throw new Error(t+" does not exist!");return r.Scale.get(t).notes.map(r.Note.simplify)},n.scales=function(){return r.Scale.names()}},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),i=e(1),a="undefined"!=typeof window&&e(7).browserClip,s={"1m":2048,"2m":4096,"3m":6144,"4m":8192,"1n":512,"2n":256,"4n":128,"8n":64,"16n":32},c=function(t){if(o.isNote(t))return[t];if(Array.isArray(t))return t.forEach((function(t){if(!o.isNote(t))throw new TypeError("array must comprise valid notes")})),t;if(!Array.isArray(t)){var n=i.getChord(t);if(n&&n.length)return n}throw new Error("Chord "+t+" not found")};n.clip=function(t){if("string"==typeof(t=r(r({},{notes:["C4"],pattern:"x",shuffle:!1,sizzle:!1,sizzleReps:1,arpegiate:!1,subdiv:"4n",amp:100,accentLow:70,randomNotes:null,effects:[],offlineRendering:!1}),t||{})).notes&&(t.notes=t.notes.replace(/\s{2,}/g," "),t.notes=t.notes.split(" ")),t.notes=t.notes.map(c),/[^x\-_\[\]R]/.test(t.pattern))throw new TypeError("pattern can only comprise x - _ [ ], found "+t.pattern);if(t.shuffle&&(t.notes=o.shuffle(t.notes)),t.randomNotes&&"string"==typeof t.randomNotes&&(t.randomNotes=t.randomNotes.replace(/\s{2,}/g," ").split(/\s/)),t.randomNotes&&(t.randomNotes=t.randomNotes.map(c)),t.synth||t.instrument||t.sample||t.buffer||t.player||t.samples||t.sampler)return a(t);var n=[],e=0,i=function(r,o){r.forEach((function(r){if("string"==typeof r){var a=null;"x"===r&&(a=t.notes[e],e++),"R"===r&&(Math.round(Math.random())||t.randomNotes)&&(a=t.randomNotes?t.randomNotes[Math.round(Math.random()*(t.randomNotes.length-1))]:t.notes[e],e++),"x"!==r&&"-"!==r&&"R"!==r||n.push({note:a,length:o,level:"R"!==r||t.randomNotes?t.amp:t.accentLow}),"_"===r&&n.length&&(n[n.length-1].length+=o),e===t.notes.length&&(e=0)}Array.isArray(r)&&i(r,o/r.length)}))};if(i(o.expandStr(t.pattern),s[t.subdiv]||s["4n"]),t.sizzle){var u=[],m=!0===t.sizzle?"sin":t.sizzle,l=n.length,f=t.amp,d=t.sizzleReps,p=f/(l/d);if("sin"===m||"cos"===m)for(var h=0;h<l;h++){var P=Math[m](h*Math.PI/(l/d))*f;u.push(Math.round(Math.abs(P)))}if("rampUp"===m)for(P=0,h=0;h<l;h++)h%(l/d)==0?P=0:P+=p,u.push(Math.round(Math.abs(P)));if("rampDown"===m)for(P=f,h=0;h<l;h++)h%(l/d)==0?P=f:P-=p,u.push(Math.round(Math.abs(P)));for(h=0;h<u.length;h++)n[h].level=u[h]?u[h]:1}if(t.accent){if(/[^x\-]/.test(t.accent))throw new TypeError("Accent can only have x and - characters");for(var y=0,M=0,v=n;M<v.length;M++){var g=v[M];P="x"===t.accent[y]?t.amp:t.accentLow,t.sizzle&&(P=(g.level+P)/2),g.level=Math.round(P),(y+=1)===t.accent.length&&(y=0)}}return n}},function(t,n,e){(function(t){var e={};!function(t){var n=t.DEFAULT_VOLUME=90,e=(t.DEFAULT_DURATION=128,t.DEFAULT_CHANNEL=0,{midi_letter_pitches:{a:21,b:23,c:12,d:14,e:16,f:17,g:19},midiPitchFromNote:function(t){var n=/([a-g])(#+|b+)?([0-9]+)$/i.exec(t),r=n[1].toLowerCase(),o=n[2]||"";return 12*parseInt(n[3],10)+e.midi_letter_pitches[r]+("#"==o.substr(0,1)?1:-1)*o.length},ensureMidiPitch:function(t){return"number"!=typeof t&&/[^0-9]/.test(t)?e.midiPitchFromNote(t):parseInt(t,10)},midi_pitches_letter:{12:"c",13:"c#",14:"d",15:"d#",16:"e",17:"f",18:"f#",19:"g",20:"g#",21:"a",22:"a#",23:"b"},midi_flattened_notes:{"a#":"bb","c#":"db","d#":"eb","f#":"gb","g#":"ab"},noteFromMidiPitch:function(t,n){var r,o=0,i=t;return n=n||!1,t>23&&(i=t-12*(o=Math.floor(t/12)-1)),r=e.midi_pitches_letter[i],n&&r.indexOf("#")>0&&(r=e.midi_flattened_notes[r]),r+o},mpqnFromBpm:function(t){var n=Math.floor(6e7/t),e=[];do{e.unshift(255&n),n>>=8}while(n);for(;e.length<3;)e.push(0);return e},bpmFromMpqn:function(t){if(void 0!==t[0])for(var n=0,e=t.length-1;e>=0;++n,--e)t[n];return Math.floor(6e7/t)},codes2Str:function(t){return String.fromCharCode.apply(null,t)},str2Bytes:function(t,n){if(n)for(;t.length/2<n;)t="0"+t;for(var e=[],r=t.length-1;r>=0;r-=2){var o=0===r?t[r]:t[r-1]+t[r];e.unshift(parseInt(o,16))}return e},translateTickTime:function(t){for(var n=127&t;t>>=7;)n<<=8,n|=127&t|128;for(var e=[];e.push(255&n),128&n;)n>>=8;return e}}),r=function(t){if(!this)return new r(t);!t||null===t.type&&void 0===t.type||null===t.channel&&void 0===t.channel||null===t.param1&&void 0===t.param1||(this.setTime(t.time),this.setType(t.type),this.setChannel(t.channel),this.setParam1(t.param1),this.setParam2(t.param2))};r.NOTE_OFF=128,r.NOTE_ON=144,r.AFTER_TOUCH=160,r.CONTROLLER=176,r.PROGRAM_CHANGE=192,r.CHANNEL_AFTERTOUCH=208,r.PITCH_BEND=224,r.prototype.setTime=function(t){this.time=e.translateTickTime(t||0)},r.prototype.setType=function(t){if(t<r.NOTE_OFF||t>r.PITCH_BEND)throw new Error("Trying to set an unknown event: "+t);this.type=t},r.prototype.setChannel=function(t){if(t<0||t>15)throw new Error("Channel is out of bounds.");this.channel=t},r.prototype.setParam1=function(t){this.param1=t},r.prototype.setParam2=function(t){this.param2=t},r.prototype.toBytes=function(){var t=[],n=this.type|15&this.channel;return t.push.apply(t,this.time),t.push(n),t.push(this.param1),void 0!==this.param2&&null!==this.param2&&t.push(this.param2),t};var o=function(t){if(!this)return new o(t);this.setTime(t.time),this.setType(t.type),this.setData(t.data)};o.SEQUENCE=0,o.TEXT=1,o.COPYRIGHT=2,o.TRACK_NAME=3,o.INSTRUMENT=4,o.LYRIC=5,o.MARKER=6,o.CUE_POINT=7,o.CHANNEL_PREFIX=32,o.END_OF_TRACK=47,o.TEMPO=81,o.SMPTE=84,o.TIME_SIG=88,o.KEY_SIG=89,o.SEQ_EVENT=127,o.prototype.setTime=function(t){this.time=e.translateTickTime(t||0)},o.prototype.setType=function(t){this.type=t},o.prototype.setData=function(t){this.data=t},o.prototype.toBytes=function(){if(!this.type)throw new Error("Type for meta-event not specified.");var t=[];if(t.push.apply(t,this.time),t.push(255,this.type),Array.isArray(this.data))t.push(this.data.length),t.push.apply(t,this.data);else if("number"==typeof this.data)t.push(1,this.data);else if(null!==this.data&&void 0!==this.data){t.push(this.data.length);var n=this.data.split("").map((function(t){return t.charCodeAt(0)}));t.push.apply(t,n)}else t.push(0);return t};var i=function(t){if(!this)return new i(t);var n=t||{};this.events=n.events||[]};i.START_BYTES=[77,84,114,107],i.END_BYTES=[0,255,47,0],i.prototype.addEvent=function(t){return this.events.push(t),this},i.prototype.addNoteOn=i.prototype.noteOn=function(t,o,i,a){return this.events.push(new r({type:r.NOTE_ON,channel:t,param1:e.ensureMidiPitch(o),param2:a||n,time:i||0})),this},i.prototype.addNoteOff=i.prototype.noteOff=function(t,o,i,a){return this.events.push(new r({type:r.NOTE_OFF,channel:t,param1:e.ensureMidiPitch(o),param2:a||n,time:i||0})),this},i.prototype.addNote=i.prototype.note=function(t,n,e,r,o){return this.noteOn(t,n,r,o),e&&this.noteOff(t,n,e,o),this},i.prototype.addChord=i.prototype.chord=function(t,n,e,r){if(!Array.isArray(n)&&!n.length)throw new Error("Chord must be an array of pitches");return n.forEach((function(n){this.noteOn(t,n,0,r)}),this),n.forEach((function(n,r){0===r?this.noteOff(t,n,e):this.noteOff(t,n)}),this),this},i.prototype.setInstrument=i.prototype.instrument=function(t,n,e){return this.events.push(new r({type:r.PROGRAM_CHANGE,channel:t,param1:n,time:e||0})),this},i.prototype.setTempo=i.prototype.tempo=function(t,n){return this.events.push(new o({type:o.TEMPO,data:e.mpqnFromBpm(t),time:n||0})),this},i.prototype.toBytes=function(){var t=0,n=[],r=i.START_BYTES,o=i.END_BYTES;this.events.forEach((function(e){var r=e.toBytes();t+=r.length,n.push.apply(n,r)})),t+=o.length;var a=e.str2Bytes(t.toString(16),4);return r.concat(a,n,o)};var a=function(t){if(!this)return new a(t);var n=t||{};if(n.ticks){if("number"!=typeof n.ticks)throw new Error("Ticks per beat must be a number!");if(n.ticks<=0||n.ticks>=32768||n.ticks%1!=0)throw new Error("Ticks per beat must be an integer between 1 and 32767!")}this.ticks=n.ticks||128,this.tracks=n.tracks||[]};a.HDR_CHUNKID="MThd",a.HDR_CHUNK_SIZE="\0\0\0",a.HDR_TYPE0="\0\0",a.HDR_TYPE1="\0",a.prototype.addTrack=function(t){return t?(this.tracks.push(t),this):(t=new i,this.tracks.push(t),t)},a.prototype.toBytes=function(){var t=this.tracks.length.toString(16),n=a.HDR_CHUNKID+a.HDR_CHUNK_SIZE;return parseInt(t,16)>1?n+=a.HDR_TYPE1:n+=a.HDR_TYPE0,n+=e.codes2Str(e.str2Bytes(t,2)),n+=String.fromCharCode(this.ticks/256,this.ticks%256),this.tracks.forEach((function(t){n+=e.codes2Str(t.toBytes())})),n},t.Util=e,t.File=a,t.Track=i,t.Event=r,t.MetaEvent=o}(e),null!==t?t.exports=e:null!==n?n=e:this.Midi=e}).call(this,e(12)(t))},function(t,n,e){"use strict";e.r(n),e.d(n,"AbcNotation",(function(){return L})),e.d(n,"Array",(function(){return o})),e.d(n,"Chord",(function(){return Rt})),e.d(n,"ChordType",(function(){return vt})),e.d(n,"Collection",(function(){return W})),e.d(n,"accToAlt",(function(){return M})),e.d(n,"altToAcc",(function(){return y})),e.d(n,"coordToInterval",(function(){return x})),e.d(n,"coordToNote",(function(){return w})),e.d(n,"decode",(function(){return d})),e.d(n,"deprecate",(function(){return a})),e.d(n,"distance",(function(){return O})),e.d(n,"encode",(function(){return l})),e.d(n,"fillStr",(function(){return i})),e.d(n,"interval",(function(){return j})),e.d(n,"isNamed",(function(){return s})),e.d(n,"isPitch",(function(){return c})),e.d(n,"note",(function(){return v})),e.d(n,"stepToLetter",(function(){return P})),e.d(n,"tokenizeInterval",(function(){return _})),e.d(n,"tokenizeNote",(function(){return b})),e.d(n,"transpose",(function(){return S})),e.d(n,"Core",(function(){return r})),e.d(n,"DurationValue",(function(){return Bt})),e.d(n,"Interval",(function(){return Wt})),e.d(n,"Key",(function(){return Kn})),e.d(n,"Midi",(function(){return on})),e.d(n,"Mode",(function(){return Zn})),e.d(n,"Note",(function(){return In})),e.d(n,"Pcset",(function(){return mt})),e.d(n,"Progression",(function(){return te})),e.d(n,"Range",(function(){return ee})),e.d(n,"RomanNumeral",(function(){return Cn})),e.d(n,"Scale",(function(){return ae})),e.d(n,"ScaleType",(function(){return xt})),e.d(n,"TimeSignature",(function(){return fe})),e.d(n,"ChordDictionary",(function(){return he})),e.d(n,"PcSet",(function(){return pe})),e.d(n,"ScaleDictionary",(function(){return Pe})),e.d(n,"Tonal",(function(){return de}));var r={};e.r(r),e.d(r,"accToAlt",(function(){return M})),e.d(r,"altToAcc",(function(){return y})),e.d(r,"coordToInterval",(function(){return x})),e.d(r,"coordToNote",(function(){return w})),e.d(r,"decode",(function(){return d})),e.d(r,"deprecate",(function(){return a})),e.d(r,"distance",(function(){return O})),e.d(r,"encode",(function(){return l})),e.d(r,"fillStr",(function(){return i})),e.d(r,"interval",(function(){return j})),e.d(r,"isNamed",(function(){return s})),e.d(r,"isPitch",(function(){return c})),e.d(r,"note",(function(){return v})),e.d(r,"stepToLetter",(function(){return P})),e.d(r,"tokenizeInterval",(function(){return _})),e.d(r,"tokenizeNote",(function(){return b})),e.d(r,"transpose",(function(){return S}));var o={};e.r(o),e.d(o,"compact",(function(){return B})),e.d(o,"permutations",(function(){return H})),e.d(o,"range",(function(){return F})),e.d(o,"rotate",(function(){return U})),e.d(o,"shuffle",(function(){return q})),e.d(o,"sortedNoteNames",(function(){return $})),e.d(o,"sortedUniqNoteNames",(function(){return z}));const i=(t,n)=>Array(Math.abs(n)+1).join(t);function a(t,n,e){return function(...r){return console.warn(`${t} is deprecated. Use ${n}.`),e.apply(this,r)}}function s(t){return null!==t&&"object"==typeof t&&"string"==typeof t.name}function c(t){return null!==t&&"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const u=[0,2,4,-1,1,3,5],m=u.map((t=>Math.floor(7*t/12)));function l(t){const{step:n,alt:e,oct:r,dir:o=1}=t,i=u[n]+7*e;return void 0===r?[o*i]:[o*i,o*(r-m[n]-4*e)]}const f=[3,0,4,1,5,2,6];function d(t){const[n,e,r]=t,o=f[function(t){const n=(t+1)%7;return n<0?7+n:n}(n)],i=Math.floor((n+1)/7);return void 0===e?{step:o,alt:i,dir:r}:{step:o,alt:i,oct:e+4*i+m[o],dir:r}}const p={empty:!0,name:"",pc:"",acc:""},h=new Map,P=t=>"CDEFGAB".charAt(t),y=t=>t<0?i("b",-t):i("#",t),M=t=>"b"===t[0]?-t.length:t.length;function v(t){const n=h.get(t);if(n)return n;const e="string"==typeof t?function(t){const n=b(t);if(""===n[0]||""!==n[3])return p;const e=n[0],r=n[1],o=n[2],i=(e.charCodeAt(0)+3)%7,a=M(r),s=o.length?+o:void 0,c=l({step:i,alt:a,oct:s}),u=e+r+o,m=e+r,f=(A[i]+a+120)%12,d=void 0===s?(12,((A[i]+a)%12+12)%12-1188):A[i]+a+12*(s+1),h=d>=0&&d<=127?d:null;return{empty:!1,acc:r,alt:a,chroma:f,coord:c,freq:void 0===s?null:440*Math.pow(2,(d-69)/12),height:d,letter:e,midi:h,name:u,oct:s,pc:m,step:i}}(t):c(t)?v(function(t){const{step:n,alt:e,oct:r}=t,o=P(n);if(!o)return"";const i=o+y(e);return r||0===r?i+r:i}(t)):s(t)?v(t.name):p;return h.set(t,e),e}const g=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function b(t){const n=g.exec(t);return[n[1].toUpperCase(),n[2].replace(/x/g,"##"),n[3],n[4]]}function w(t){return v(d(t))}const A=[0,2,4,5,7,9,11],I={empty:!0,name:"",acc:""},T=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function _(t){const n=T.exec(""+t);return null===n?["",""]:n[1]?[n[1],n[2]]:[n[4],n[3]]}const E={};function j(t){return"string"==typeof t?E[t]||(E[t]=function(t){const n=_(t);if(""===n[0])return I;const e=+n[0],r=n[1],o=(Math.abs(e)-1)%7,i="PMMPPMM"[o];if("M"===i&&"P"===r)return I;const a="M"===i?"majorable":"perfectable",s=""+e+r,c=e<0?-1:1,u=8===e||-8===e?e:c*(o+1),m=function(t,n){return"M"===n&&"majorable"===t||"P"===n&&"perfectable"===t?0:"m"===n&&"majorable"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?-1*("perfectable"===t?n.length:n.length+1):0}(a,r),f=Math.floor((Math.abs(e)-1)/7);return{empty:!1,name:s,num:e,q:r,step:o,alt:m,dir:c,type:a,simple:u,semitones:c*(N[o]+m+12*f),chroma:(c*(N[o]+m)%12+12)%12,coord:l({step:o,alt:m,oct:f,dir:c}),oct:f}}(t)):c(t)?j(function(t){const{step:n,alt:e,oct:r=0,dir:o}=t;return o?(o<0?"-":"")+(n+1+7*r)+function(t,n){return 0===n?"majorable"===t?"M":"P":-1===n&&"majorable"===t?"m":n>0?i("A",n):i("d","perfectable"===t?n:n+1)}("M"==="PMMPPMM"[n]?"majorable":"perfectable",e):""}(t)):s(t)?j(t.name):I}const N=[0,2,4,5,7,9,11];function x(t){const[n,e=0]=t;return j(d(7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}function S(t,n){const e=v(t),r=j(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord;return w(1===o.length?[o[0]+i[0]]:[o[0]+i[0],o[1]+i[1]]).name}function O(t,n){const e=v(t),r=v(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord,a=i[0]-o[0];return x([a,2===o.length&&2===i.length?i[1]-o[1]:-Math.floor(7*a/12)]).name}const C=(t,n)=>Array(n+1).join(t),k=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function D(t){const n=k.exec(t);return n?[n[1],n[2],n[3]]:["","",""]}function R(t){const[n,e,r]=D(t);if(""===e)return"";let o=4;for(let t=0;t<r.length;t++)o+=","===r.charAt(t)?-1:1;const i="_"===n[0]?n.replace(/_/g,"b"):"^"===n[0]?n.replace(/\^/g,"#"):"";return e.charCodeAt(0)>96?e.toUpperCase()+i+(o+1):e+i+o}function V(t){const n=v(t);if(n.empty||!n.oct)return"";const{letter:e,acc:r,oct:o}=n;return("b"===r[0]?r.replace(/b/g,"_"):r.replace(/#/g,"^"))+(o>4?e.toLowerCase():e)+(5===o?"":o>4?C("'",o-5):C(",",4-o))}var L={abcToScientificNotation:R,scientificToAbcNotation:V,tokenize:D,transpose:function(t,n){return V(S(R(t),n))},distance:function(t,n){return O(R(t),R(n))}};function F(t,n){return t<n?function(t,n){const e=[];for(;n--;e[n]=n+t);return e}(t,n-t+1):function(t,n){const e=[];for(;n--;e[n]=t-n);return e}(t,t-n+1)}function U(t,n){const e=n.length,r=(t%e+e)%e;return n.slice(r,e).concat(n.slice(0,r))}function B(t){return t.filter((t=>0===t||t))}function $(t){return t.map((t=>v(t))).filter((t=>!t.empty)).sort(((t,n)=>t.height-n.height)).map((t=>t.name))}function z(t){return $(t).filter(((t,n,e)=>0===n||t!==e[n-1]))}function q(t,n=Math.random){let e,r,o=t.length;for(;o;)e=Math.floor(n()*o--),r=t[o],t[o]=t[e],t[e]=r;return t}function H(t){return 0===t.length?[[]]:H(t.slice(1)).reduce(((n,e)=>n.concat(t.map(((n,r)=>{const o=e.slice();return o.splice(r,0,t[0]),o})))),[])}function K(t,n){return t<n?function(t,n){const e=[];for(;n--;e[n]=n+t);return e}(t,n-t+1):function(t,n){const e=[];for(;n--;e[n]=t-n);return e}(t,t-n+1)}function G(t,n){const e=n.length,r=(t%e+e)%e;return n.slice(r,e).concat(n.slice(0,r))}function Y(t){return t.filter((t=>0===t||t))}var W={compact:Y,permutations:function t(n){return 0===n.length?[[]]:t(n.slice(1)).reduce(((t,e)=>t.concat(n.map(((t,r)=>{const o=e.slice();return o.splice(r,0,n[0]),o})))),[])},range:K,rotate:G,shuffle:function(t,n=Math.random){let e,r,o=t.length;for(;o;)e=Math.floor(n()*o--),r=t[o],t[o]=t[e],t[e]=r;return t}};const X={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},J=t=>Number(t).toString(2),Q=t=>parseInt(t,2),Z=/^[01]{12}$/;function tt(t){return Z.test(t)}const nt={[X.chroma]:X};function et(t){const n=tt(t)?t:"number"==typeof(e=t)&&e>=0&&e<=4095?J(t):Array.isArray(t)?function(t){if(0===t.length)return X.chroma;let n;const e=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)n=v(t[r]),n.empty&&(n=j(t[r])),n.empty||(e[n.chroma]=1);return e.join("")}(t):(t=>t&&tt(t.chroma))(t)?t.chroma:X.chroma;var e;return nt[n]=nt[n]||function(t){const n=Q(t),e=function(t){const n=t.split("");return n.map(((t,e)=>G(e,n).join("")))}(t).map(Q).filter((t=>t>=2048)).sort()[0];return{empty:!1,name:"",setNum:n,chroma:t,normalized:J(e),intervals:it(t)}}(n)}const rt=a("Pcset.pcset","Pcset.get",et),ot=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function it(t){const n=[];for(let e=0;e<12;e++)"1"===t.charAt(e)&&n.push(ot[e]);return n}function at(t,n=!0){const e=et(t).chroma.split("");return Y(e.map(((t,r)=>{const o=G(r,e);return n&&"0"===o[0]?null:o.join("")})))}function st(t){const n=et(t).setNum;return t=>{const e=et(t).setNum;return n&&n!==e&&(e&n)===e}}function ct(t){const n=et(t).setNum;return t=>{const e=et(t).setNum;return n&&n!==e&&(e|n)===e}}function ut(t){const n=et(t);return t=>{const e=v(t);return n&&!e.empty&&"1"===n.chroma.charAt(e.chroma)}}var mt={get:et,chroma:t=>et(t).chroma,num:t=>et(t).setNum,intervals:t=>et(t).intervals,chromas:function(){return K(2048,4095).map(J)},isSupersetOf:ct,isSubsetOf:st,isNoteIncludedIn:ut,isEqual:function(t,n){return et(t).setNum===et(n).setNum},filter:function(t){const n=ut(t);return t=>t.filter(n)},modes:at,pcset:rt};const lt={...X,name:"",quality:"Unknown",intervals:[],aliases:[]};let ft=[],dt={};function pt(t){return dt[t]||lt}const ht=a("ChordType.chordType","ChordType.get",pt);function Pt(){return ft.slice()}const yt=a("ChordType.entries","ChordType.all",Pt);function Mt(t,n,e){const r=function(t){const n=n=>-1!==t.indexOf(n);return n("5A")?"Augmented":n("3M")?"Major":n("5d")?"Diminished":n("3m")?"Minor":"Unknown"}(t),o={...et(t),name:e||"",quality:r,intervals:t,aliases:n};ft.push(o),o.name&&(dt[o.name]=o),dt[o.setNum]=o,dt[o.chroma]=o,o.aliases.forEach((t=>function(t,n){dt[n]=t}(o,t)))}[["1P 3M 5P","major","M "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69"],["1P 3M 5P 7M 11A","lydian","maj#4 Δ#4 Δ#11"],["1P 3M 6m 7M","major seventh flat sixth","M7b6"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ"],["1P 3m 5P 6M","minor sixth","m6"],["1P 3m 5P 7m 9M","minor ninth","m9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 13m","","Mb6"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5A","","m#5 m+ mb6"],["1P 3m 5P 6M 9M","","m69"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7M 9M","","mMaj9"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 6m 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach((([t,n,e])=>Mt(t.split(" "),e.split(" "),n))),ft.sort(((t,n)=>t.setNum-n.setNum));var vt={names:function(){return ft.map((t=>t.name)).filter((t=>t))},symbols:function(){return ft.map((t=>t.aliases[0])).filter((t=>t))},get:pt,all:Pt,add:Mt,removeAll:function(){ft=[],dt={}},keys:function(){return Object.keys(dt)},entries:yt,chordType:ht};const gt={weight:0,name:""};const bt={...X,intervals:[],aliases:[]};let wt=[],At={};function It(){return wt.map((t=>t.name))}function Tt(t){return At[t]||bt}const _t=a("ScaleDictionary.scaleType","ScaleType.get",Tt);function Et(){return wt.slice()}const jt=a("ScaleDictionary.entries","ScaleType.all",Et);function Nt(t,n,e=[]){const r={...et(t),name:n,intervals:t,aliases:e};return wt.push(r),At[r.name]=r,At[r.setNum]=r,At[r.chroma]=r,r.aliases.forEach((t=>function(t,n){At[n]=t}(r,t))),r}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 3m 3M 5d 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","·superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 5d 5P 6M 7m","romanian minor"],["1P 2M 3m 4A 5P 6M 7m","dorian #4"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach((([t,n,...e])=>Nt(t.split(" "),n,e)));var xt={names:It,get:Tt,all:Et,add:Nt,removeAll:function(){wt=[],At={}},keys:function(){return Object.keys(At)},entries:jt,scaleType:_t};const St={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},Ot=/^(6|64|7|9|11|13)$/;function Ct(t){const[n,e,r,o]=b(t);return""===n?["",t]:"A"===n&&"ug"===o?["","aug"]:o||"4"!==r&&"5"!==r?Ot.test(r)?[n+e,r+o]:[n+e+r,o]:[n+e,r]}function kt(t){if(""===t)return St;if(Array.isArray(t)&&2===t.length)return Dt(t[1],t[0]);{const[n,e]=Ct(t),r=Dt(e,n);return r.empty?Dt(t):r}}function Dt(t,n,e){const r=pt(t),o=v(n||""),i=v(e||"");if(r.empty||n&&o.empty||e&&i.empty)return St;const a=O(o.pc,i.pc),s=r.intervals.indexOf(a)+1;if(!i.empty&&!s)return St;const c=o.empty?[]:r.intervals.map((t=>S(o,t)));t=-1!==r.aliases.indexOf(t)?t:r.aliases[0];const u=`${o.empty?"":o.pc}${t}${i.empty?"":"/"+i.pc}`,m=`${n?o.pc+" ":""}${r.name}${e?" over "+i.pc:""}`;return{...r,name:m,symbol:u,type:r.name,root:i.name,rootDegree:s,tonic:o.name,notes:c}}var Rt={getChord:Dt,get:kt,detect:function(t){const n=t.map((t=>v(t).pc)).filter((t=>t));return 0===v.length?[]:function(t,n){const e=t[0],r=v(e).chroma,o=(t=>{const n=t.reduce(((t,n)=>{const e=v(n).chroma;return void 0!==e&&(t[e]=t[e]||v(n).name),t}),{});return t=>n[t]})(t);return at(t,!1).map(((t,i)=>{const a=pt(t).aliases[0];if(!a)return gt;const s=o(i);return i!==r?{weight:.5,name:`${s}${a}/${e}`}:{weight:1,name:`${s}${a}`}}))}(n).filter((t=>t.weight)).sort(((t,n)=>n.weight-t.weight)).map((t=>t.name))},chordScales:function(t){const n=ct(kt(t).chroma);return Et().filter((t=>n(t.chroma))).map((t=>t.name))},extended:function(t){const n=kt(t),e=ct(n.chroma);return Pt().filter((t=>e(t.chroma))).map((t=>n.tonic+t.aliases[0]))},reduced:function(t){const n=kt(t),e=st(n.chroma);return Pt().filter((t=>e(t.chroma))).map((t=>n.tonic+t.aliases[0]))},tokenize:Ct,transpose:function(t,n){const[e,r]=Ct(t);return e?S(e,n)+r:t},chord:a("Chord.chord","Chord.get",kt)};const Vt=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach((([t,n,e])=>function(t,n,e){Vt.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:n,names:e})}(t,n,e)));const Lt={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]},Ft=/^([^.]+)(\.*)$/;function Ut(t){const[n,e,r]=Ft.exec(t)||[],o=Vt.find((t=>t.shorthand===e||t.names.includes(e)));if(!o)return Lt;const i=function(t,n){const e=Math.pow(2,n);let r=t[0]*e,o=t[1]*e;const i=r;for(let t=0;t<n;t++)r+=i/Math.pow(2,t+1);for(;r%2==0&&o%2==0;)r/=2,o/=2;return[r,o]}(o.fraction,r.length),a=i[0]/i[1];return{...o,name:t,dots:r,value:a,fraction:i}}var Bt={names:function(){return Vt.reduce(((t,n)=>(n.names.forEach((n=>t.push(n))),t)),[])},shorthands:function(){return Vt.map((t=>t.shorthand))},get:Ut,value:t=>Ut(t).value,fraction:t=>Ut(t).fraction};const $t=j,zt=[1,2,2,3,3,4,5,5,6,6,7,7],qt="P m M m M P d P m M m M".split(" "),Ht=O,Kt=Yt(((t,n)=>[t[0]+n[0],t[1]+n[1]])),Gt=Yt(((t,n)=>[t[0]-n[0],t[1]-n[1]]));function Yt(t){return(n,e)=>{const r=j(n).coord,o=j(e).coord;if(r&&o)return x(t(r,o)).name}}var Wt={names:function(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")},get:$t,name:t=>j(t).name,num:t=>j(t).num,semitones:t=>j(t).semitones,quality:t=>j(t).q,fromSemitones:function(t){const n=t<0?-1:1,e=Math.abs(t),r=e%12,o=Math.floor(e/12);return n*(zt[r]+7*o)+qt[r]},distance:Ht,invert:function(t){const n=j(t);return n.empty?"":j({step:(7-n.step)%7,alt:"perfectable"===n.type?-n.alt:-(n.alt+1),oct:n.oct,dir:n.dir}).name},simplify:function(t){const n=j(t);return n.empty?"":n.simple+n.q},add:Kt,addTo:t=>n=>Kt(t,n),substract:Gt};function Xt(t){return+t>=0&&+t<=127}function Jt(t){if(Xt(t))return+t;const n=v(t);return n.empty?null:n.midi}const Qt=Math.log(2),Zt=Math.log(440);function tn(t){const n=12*(Math.log(t)-Zt)/Qt+69;return Math.round(100*n)/100}const nn="C C# D D# E F F# G G# A A# B".split(" "),en="C Db D Eb E F Gb G Ab A Bb B".split(" ");function rn(t,n={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const e=(!0===n.sharps?nn:en)[t%12];return n.pitchClass?e:e+(Math.floor(t/12)-1)}var on={isMidi:Xt,toMidi:Jt,midiToFreq:function(t,n=440){return Math.pow(2,(t-69)/12)*n},midiToNoteName:rn,freqToMidi:tn};const an=["C","D","E","F","G","A","B"],sn=t=>t.name,cn=t=>t.map(v).filter((t=>!t.empty)),un=v,mn=S,ln=S,fn=t=>n=>mn(n,t),dn=fn,pn=t=>n=>mn(t,n),hn=pn;function Pn(t,n){const e=un(t);if(e.empty)return"";const[r,o]=e.coord;return w(void 0===o?[r+n]:[r+n,o]).name}const yn=Pn,Mn=(t,n)=>t.height-n.height;function vn(t,n){return n=n||Mn,cn(t).sort(n).map(sn)}function gn(t){return vn(t,Mn).filter(((t,n,e)=>0===n||t!==e[n-1]))}const bn=An(!0),wn=An(!1);function An(t){return n=>{const e=un(n);if(e.empty)return"";const r=t?e.alt>0:e.alt<0,o=null===e.midi;return rn(e.midi||e.chroma,{sharps:r,pitchClass:o})}}var In={names:function(t){return void 0===t?an.slice():Array.isArray(t)?cn(t).map(sn):[]},get:un,name:t=>un(t).name,pitchClass:t=>un(t).pc,accidentals:t=>un(t).acc,octave:t=>un(t).oct,midi:t=>un(t).midi,ascending:Mn,descending:(t,n)=>n.height-t.height,sortedNames:vn,sortedUniqNames:gn,fromMidi:function(t){return rn(t)},fromMidiSharps:function(t){return rn(t,{sharps:!0})},freq:t=>un(t).freq,fromFreq:function(t){return rn(tn(t))},fromFreqSharps:function(t){return rn(tn(t),{sharps:!0})},chroma:t=>un(t).chroma,transpose:mn,tr:ln,transposeBy:fn,trBy:dn,transposeFrom:pn,trFrom:hn,transposeFifths:Pn,trFifths:yn,simplify:bn,enharmonic:wn};const Tn={empty:!0,name:"",chordType:""},_n={};function En(t){return"string"==typeof t?_n[t]||(_n[t]=function(t){const[n,e,r,o]=(i=t,Nn.exec(i)||["","","",""]);var i;if(!r)return Tn;const a=r.toUpperCase(),s=Sn.indexOf(a),c=M(e);return{empty:!1,name:n,roman:r,interval:j({step:s,alt:c,dir:1}).name,acc:e,chordType:o,alt:c,step:s,major:r===a,oct:0,dir:1}}(t)):"number"==typeof t?En(Sn[t]||""):c(t)?En(y((n=t).alt)+Sn[n.step]):s(t)?En(t.name):Tn;var n}const jn=a("RomanNumeral.romanNumeral","RomanNumeral.get",En),Nn=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/,xn="I II III IV V VI VII",Sn=xn.split(" "),On=xn.toLowerCase().split(" ");var Cn={names:function(t=!0){return(t?Sn:On).slice()},get:En,romanNumeral:jn};const kn=Object.freeze([]),Dn={type:"major",tonic:"",alteration:0,keySignature:""},Rn={tonic:"",grades:kn,intervals:kn,scale:kn,chords:kn,chordsHarmonicFunction:kn,chordScales:kn},Vn={...Dn,...Rn,type:"major",minorRelative:"",scale:kn,secondaryDominants:kn,secondaryDominantsMinorRelative:kn,substituteDominants:kn,substituteDominantsMinorRelative:kn},Ln={...Dn,type:"minor",relativeMajor:"",natural:Rn,harmonic:Rn,melodic:Rn},Fn=(t,n,e="")=>n.map(((n,r)=>`${t[r]}${e}${n}`));function Un(t,n,e,r){return o=>{const i=t.map((t=>En(t).interval||"")),a=i.map((t=>S(o,t)));return{tonic:o,grades:t,intervals:i,scale:a,chords:Fn(a,n),chordsHarmonicFunction:Fn(a,e),chordScales:Fn(a,r," ")}}}const Bn=(t,n)=>{const e=v(t),r=v(n);return e.empty||r.empty?0:r.coord[0]-e.coord[0]},$n=Un("I II III IV V VI VII".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),zn=Un("I II bIII IV V bVI bVII".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),qn=Un("I II bIII IV V bVI VII".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Hn=Un("I II bIII IV V VI VII".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D - -".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var Kn={majorKey:function(t){const n=v(t).pc;if(!n)return Vn;const e=$n(n),r=Bn("C",n),o=n=>{const e=En(n);return e.empty?"":S(t,e.interval)+e.chordType};return{...e,type:"major",minorRelative:S(n,"-3m"),alteration:r,keySignature:y(r),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(o),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(o),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(o),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(o)}},majorTonicFromKeySignature:function(t){return"number"==typeof t?Pn("C",t):"string"==typeof t&&/^b+|#+$/.test(t)?Pn("C",M(t)):null},minorKey:function(t){const n=v(t).pc;if(!n)return Ln;const e=Bn("C",n)-3;return{type:"minor",tonic:n,relativeMajor:S(n,"3m"),alteration:e,keySignature:y(e),natural:zn(n),harmonic:qn(n),melodic:Hn(n)}}};const Gn={...X,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Yn=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]].map((function(t){const[n,e,r,o,i,a,s]=t,c=s?[s]:[],u=Number(e).toString(2);return{empty:!1,intervals:it(u),modeNum:n,chroma:u,normalized:u,name:o,setNum:e,alt:r,triad:i,seventh:a,aliases:c}})),Wn={};function Xn(t){return"string"==typeof t?Wn[t.toLowerCase()]||Gn:t&&t.name?Xn(t.name):Gn}Yn.forEach((t=>{Wn[t.name]=t,t.aliases.forEach((n=>{Wn[n]=t}))}));const Jn=a("Mode.mode","Mode.get",Xn);function Qn(){return Yn.slice()}var Zn={get:Xn,names:function(){return Yn.map((t=>t.name))},all:Qn,entries:a("Mode.mode","Mode.all",Qn),mode:Jn},te={fromRomanNumerals:function(t,n){return n.map(En).map((n=>S(t,j(n))+n.chordType))},toRomanNumerals:function(t,n){return n.map((n=>{const[e,r]=Ct(n);return En(j(O(t,e))).name+r}))}};function ne(t){const n=Y(t.map(Jt));return t.length&&n.length===t.length?n.reduce(((t,n)=>{const e=t[t.length-1];return t.concat(K(e,n).slice(1))}),[n[0]]):[]}var ee={numeric:ne,chromatic:function(t,n){return ne(t).map((t=>rn(t,n)))}};const re={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function oe(t){if("string"!=typeof t)return["",""];const n=t.indexOf(" "),e=v(t.substring(0,n));if(e.empty){const n=v(t);return n.empty?["",t]:[n.name,""]}const r=t.substring(e.name.length+1);return[e.name,r.length?r:""]}function ie(t){const n=Array.isArray(t)?t:oe(t),e=v(n[0]).name,r=Tt(n[1]);if(r.empty)return re;const o=r.name,i=e?r.intervals.map((t=>S(e,t))):[],a=e?e+" "+o:o;return{...r,name:a,type:o,tonic:e,notes:i}}var ae={get:ie,names:It,extended:function(t){const n=ct(ie(t).chroma);return Et().filter((t=>n(t.chroma))).map((t=>t.name))},modeNames:function(t){const n=ie(t);if(n.empty)return[];const e=n.tonic?n.notes:n.intervals;return at(n.chroma).map(((t,n)=>{const r=ie(t).name;return r?[e[n],r]:["",""]})).filter((t=>t[0]))},reduced:function(t){const n=st(ie(t).chroma);return Et().filter((t=>n(t.chroma))).map((t=>t.name))},scaleChords:function(t){const n=st(ie(t).chroma);return Pt().filter((t=>n(t.chroma))).map((t=>t.aliases[0]))},scaleNotes:function(t){const n=t.map((t=>v(t).pc)).filter((t=>t)),e=n[0],r=gn(n);return G(r.indexOf(e),r)},tokenize:oe,scale:a("Scale.scale","Scale.get",ie)};const se={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},ce=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"],ue=/^(\d?\d(?:\+\d)*)\/(\d)$/,me=new Map;function le(t){if("string"==typeof t){const[n,e,r]=ue.exec(t)||[];return le([e,r])}const[n,e]=t,r=+e;if("number"==typeof n)return[n,r];const o=n.split("+").map((t=>+t));return 1===o.length?[o[0],r]:[o,r]}var fe={names:function(){return ce.slice()},parse:le,get:function(t){const n=me.get(t);if(n)return n;const e=function([t,n]){const e=Array.isArray(t)?t.reduce(((t,n)=>t+n),0):t,r=n;if(0===e||0===r)return se;return{empty:!1,name:Array.isArray(t)?`${t.join("+")}/${n}`:`${t}/${n}`,type:4===r||2===r?"simple":8===r&&e%3==0?"compound":"irregular",upper:e,lower:r,additive:Array.isArray(t)?t:[]}}(le(t));return me.set(t,e),e}};const de=r,pe=mt,he=vt,Pe=xt},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(2);n.scale=r.getScale,n.mode=r.getScale,n.scales=r.scales,n.modes=r.scales;var o=e(1);n.addChord=o.addChord,n.chord=o.getChord,n.chords=o.chords;var i=e(3);n.clip=i.clip;var a=e(8);n.getChordDegrees=a.getChordDegrees,n.getChordsByProgression=a.getChordsByProgression,n.progression=a.progression;var s=e(9);n.arp=s.arp;var c=e(10);n.midi=c.midi;var u=e(13);n.Session=u.Session;var m=e(15);n.max=m.max},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),s=function(t,n,e){return"R"===t&&n.randomNotes?n.randomNotes[(r=n.randomNotes.length-1,void 0===r&&(r=1),Math.round(Math.random()*r))]:n.notes[e%n.notes.length];var r},c=function(t,n){return t.durations?t.durations[n%t.durations.length]:t.dur||t.subdiv||"8n"},u=function(t){var n=0;return t.instrument instanceof Tone.Player?function(e,r){"x"!==r&&"R"!==r||(t.instrument.start(e),n++)}:t.instrument instanceof Tone.PolySynth||t.instrument instanceof Tone.Sampler?function(e,r){"x"!==r&&"R"!==r||(t.instrument.triggerAttackRelease(s(r,t,n),c(t,n),e),n++)}:t.instrument instanceof Tone.NoiseSynth?function(e,r){"x"!==r&&"R"!==r||(t.instrument.triggerAttackRelease(c(t,n),e),n++)}:function(e,r){"x"!==r&&"R"!==r||(t.instrument.triggerAttackRelease(s(r,t,n)[0],c(t,n),e),n++)}};n.recursivelyApplyPatternToDurations=function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){"string"==typeof t&&("x"!==t&&"R"!==t||r.push(e),"_"===t&&r.length&&(r[r.length-1]+=e)),Array.isArray(t)&&n.recursivelyApplyPatternToDurations(t,e/t.length,r)})),r};var m=function(t,e){var r;if(e=e||Tone.getContext(),!t.pattern)throw new Error("No pattern provided!");if(!(t.player||t.instrument||t.sample||t.buffer||t.synth||t.sampler||t.samples))throw new Error("No player or instrument provided!");t.durations||t.dur||(t.durations=n.recursivelyApplyPatternToDurations(a.expandStr(t.pattern),Tone.Ticks(t.subdiv||"4n").toSeconds()));var o=[];return t.effects&&(Array.isArray(t.effects)||(t.effects=[t.effects]),o=t.effects.map((function(t){return("string"==typeof t?new Tone[t]({context:e}):t.context!==e?d(t,e):t).toDestination()})).map((function(t){return"function"==typeof t.start?t.start():t}))),t.synth&&!t.instrument&&(t.instrument=t.synth,console.warn('The "synth" parameter will be deprecated in the future. Please use the "instrument" parameter instead.')),t.instrument=t.sample||t.buffer?new Tone.Player({url:t.sample||t.buffer,context:e}):t.sampler?t.sampler:t.player?t.player:t.samples?new Tone.Sampler({url:t.samples,context:e}):"string"==typeof t.instrument?new Tone[t.instrument]({context:e}):t.instrument,t.instrument.context!==e&&(t.instrument=d(t.instrument,e)),t.volume&&(t.instrument.volume.value=t.volume),(r=t.instrument).chain.apply(r,o).toDestination(),new Tone.Sequence({callback:u(t),events:a.expandStr(t.pattern),subdivision:t.subdiv||"4n",context:e})};n.totalPatternDuration=function(t,n){return"number"==typeof n?n*a.expandStr(t).length:Tone.Ticks(n).toSeconds()*a.expandStr(t).length},n.renderingDuration=function(t,e,r,o){var i,a=t.split("").filter((function(t){return"x"===t})).length,s=t.split("").filter((function(t){return"R"===t})).length,c=(null===(i=o)||void 0===i?void 0:i.length)?a:a+s,u=r.length||1;return n.totalPatternDuration(t,e)/c*function(t,n){for(var e=t<n?[t,n]:[n,t],r=e[0],o=e[1],i=o;i%r!=0;)i+=o;return i}(u,c)};var l,f=0,d=function(t,n){if(t instanceof Tone.PolySynth)return new Tone.PolySynth(Tone[t._dummyVoice.name],r(r({},t.get()),{context:n}));if(t instanceof Tone.Player)return new Tone.Player({url:t._buffer,context:n});if(t instanceof Tone.Sampler){var e=t.get(),o={attack:e.attack,curve:e.curve,release:e.release,volume:e.volume},i={baseUrl:t._buffers.baseUrl,urls:Object.fromEntries(t._buffers._buffers.entries())};return new Tone.Sampler(r(r(r({},o),i),{context:n}))}return new Tone[t.name](r(r({},t.get()),{context:n}))};n.browserClip=function(t){return t.offlineRendering?function(t,n){l||(l=Tone.getContext()),f++;var e=new Tone.Player({context:l,loop:!0});return Tone.Offline((function(n){return o(void 0,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return e=m(t,n),[4,Tone.loaded()];case 1:return r.sent(),e.start(),n.transport.start(),[2]}}))}))}),n).then((function(n){var r,o;e.buffer=n,0==--f&&(Tone.setContext(l),null===(o=(r=t).offlineRenderingCallback)||void 0===o||o.call(r))})),e.toDestination(),e.sync(),e}(t,n.renderingDuration(t.pattern,t.subdiv||"4n",t.notes,t.randomNotes)):m(t,l)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),o=e(0);n.getChordDegrees=function(t){var n={ionian:["I","ii","iii","IV","V","vi","vii°"],dorian:["i","ii","III","IV","v","vi°","VII"],phrygian:["i","II","III","iv","v°","VI","vii"],lydian:["I","II","iii","iv°","V","vi","vii"],mixolydian:["I","ii","iii°","IV","v","vi","VII"],aeolian:["i","ii°","III","iv","v","VI","VII"],locrian:["i°","II","iii","iv","V","VI","vii"],"melodic minor":["i","ii","III+","IV","V","vi°","vii°"],"harmonic minor":["i","ii°","III+","iv","V","VI","vii°"]};return n.major=n.ionian,n.minor=n.aeolian,n[t]||[]};var i={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6};n.getChordsByProgression=function(t,n){var e=t.split(" ");e[0].match(/\d/)||(e[0]+="4",t=e.join(" "));var o=r.getScale(t);return n.replace(/\s*,+\s*/g," ").split(" ").map((function(t,n){var e=function(t){var n=t.replace(/\W/g,""),e="M";return n.toLowerCase()===n&&(e="m"),t.indexOf("°")>-1?e+"7b5":t.indexOf("+")>-1?e+"#5":t.indexOf("7")>-1?"M"===e?"Maj7":"m7":e}(t),r=i[t.replace(/\W|\d/g,"").toLowerCase()],a=o[r],s=a.replace(/\D+/,"");return a.replace(/\d/,"")+e+"-"+s})).toString().replace(/,/g," ")};var a=function(t){var n=t.T,e=t.P,r=t.D;return function(t){void 0===t&&(t=4);var i=[];i.push(o.pickOne(n));var a=1;for(a<t-1&&(i.push(o.pickOne(e)),a++),a<t-1&&o.dice()&&(i.push(o.pickOne(e)),a++),a<t-1&&(i.push(o.pickOne(r)),a++),a<t-1&&(i.push(o.pickOne(e)),a++),a<t-1&&(i.push(o.pickOne(r)),a++),a<t-1&&o.dice()&&(i.push(o.pickOne(e)),a++);a<t;)i.push(o.pickOne(r)),a++;return i}},s=a({T:["I","vi"],P:["ii","IV"],D:["V"]}),c=a({T:["i","VI"],P:["ii","iv"],D:["V"]});n.progression=function(t,n){return void 0===n&&(n=4),"major"===t||"M"===t?s(n):"minor"===t||"m"===t?c(n):void 0}},function(t,n,e){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var o=e(1),i=function(t,n){var e=function(t){return t.replace(/\d/,"")+(+t.replace(/\D/g,"")+1)},o=t.map(e),i=o.map(e);return r(t,o,i).slice(0,n)};n.arp=function(t){var n=[],e={count:4,order:"0123",chords:""};if("string"==typeof t)e.chords=t;else{if(t.order&&t.order.match(/\D/g))throw new TypeError("Invalid value for order");if(t.count>8||t.count<2)throw new TypeError("Invalid value for count");t.count&&!t.order&&(e.order=Array.from(Array(t.count).keys()).join("")),Object.assign(e,t)}if("string"==typeof e.chords)for(var a=function(t){var a=i(o.getChord(t),e.count),s=e.order.split("").map((function(t){return a[t]}));n=r(n,s)},s=0,c=e.chords.split(" ");s<c.length;s++)a(c[s]);else{if(!Array.isArray(e.chords))throw new TypeError("Invalid value for chords");for(var u=function(t){var o=i(t,e.count),a=e.order.split("").map((function(t){return o[t]}));n=r(n,a)},m=0,l=e.chords;m<l.length;m++)u(l[m])}return n}},function(t,n,e){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(11)),a=o(e(4));n.midi=function(t,n,e){void 0===n&&(n="music.mid");var r=c(t,e).toBytes();return null===n?r:(n.endsWith(".mid")||(n+=".mid"),"undefined"!=typeof window&&window.URL&&window.URL.createObjectURL?s(r,n):(i.default.writeFileSync(n,r,"binary"),void console.log("MIDI file generated: "+n+".")))};var s=function(t,n){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++){var o=t.charCodeAt(r);e[r]=o}var i=new Blob([e],{type:"audio/midi"}),a=document.createElement("a");return a.href="undefined"!=typeof window&&void 0!==window.URL&&void 0!==window.URL.createObjectURL&&window.URL.createObjectURL(i)||"",a.download=n,a.innerText="Download MIDI file",a},c=function(t,n){var e=new a.File,r=new a.Track;"number"==typeof n&&r.setTempo(n),e.addTrack(r);for(var o=0,i=t;o<i.length;o++){var s=i[o],c=s.level||127;s.note?"string"==typeof s.note?(r.noteOn(0,s.note,s.length,c),r.noteOff(0,s.note,s.length,c)):r.addChord(0,s.note,s.length,c):r.noteOff(0,"",s.length)}return e}},function(t,n){t.exports=e(266)},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(14),o=function(){function t(t){t=t||[],this.sessionChannels=t.map((function(t,n){return t.idx=t.idx||n,new r.Channel(t)}))}return t.prototype.createChannel=function(t){t.idx=t.idx||this.sessionChannels.length;var n=new r.Channel(t);return this.sessionChannels.push(n),n},Object.defineProperty(t.prototype,"channels",{get:function(){return this.sessionChannels},enumerable:!0,configurable:!0}),t.prototype.startRow=function(t){this.sessionChannels.forEach((function(n){n.startClip(t)}))},t.prototype.play=function(t){var n=this,e=t.channelPatterns,r=t.clipDuration||"4:0:0",o=Tone.Time(r).toSeconds(),i=function(t,n){t.map((function(t){return t.stop(n)}))};e.forEach((function(t){var e=t.channelIdx,r=t.pattern,a=[],s=0,c="-";r.split("").forEach((function(t){t!==c&&"_"!==t&&(i(a,s),a=function(t,e,r){return"-"===e?[]:n.channels.filter((function(n){return n.idx===t})).map((function(t){return t.clips[e].start(r)}))}(e,t,s)),c=t,s+=o})),i(a,s)}))},t}();n.Session=o},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},o=this&&this.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e};Object.defineProperty(n,"__esModule",{value:!0});var i=e(3),a=function(){var t=Tone.Transport.position.split(":");return"0"===t[0]&&"0"===t[1]?0:+t[0]+1+":0:0"},s=function(){function t(t){var n=this;this.idx=t.idx||0,this.activePatternIdx=-1,this.channelClips=[],t.sample&&(this.player=new Tone.Player(t.sample)),t.synth&&(this.instrument=new Tone[t.synth]),t.samples&&(this.sampler=new Tone.Sampler(t.samples)),t.clips,t.samples,t.sample,t.synth;var e=o(t,["clips","samples","sample","synth"]);t.clips.forEach((function(t){n.addClip(r(r({},t),e))}),this)}return Object.defineProperty(t.prototype,"clips",{get:function(){return this.channelClips},enumerable:!0,configurable:!0}),t.prototype.startClip=function(t){this.activePatternIdx>-1&&this.activePatternIdx!==t&&this.stopClip(this.activePatternIdx),this.channelClips[t]&&"started"!==this.channelClips[t].state&&(this.activePatternIdx=t,this.channelClips[t].start(a()))},t.prototype.stopClip=function(t){this.channelClips[t].stop(a())},t.prototype.addClip=function(t,n){n=n||this.channelClips.length,t.pattern?this.channelClips[n]=i.clip(r({player:this.player,instrument:this.instrument,sampler:this.sampler},t)):this.channelClips[n]=null},Object.defineProperty(t.prototype,"activeClipIdx",{get:function(){return this.activePatternIdx},enumerable:!0,configurable:!0}),t}();n.Channel=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(4);n.max=function(t,n){void 0===n&&(n="live_set view highlighted_clip_slot clip");var e=new LiveAPI(n),o=t.reduce((function(t,n){return t+n.length}),0);e.set("loop_end",o/512),e.call("remove_notes",0,1,258,127),e.call("set_notes");var i=t.reduce((function(t,n){return t+(n.note?n.note.length:0)}),0);e.call("notes",i);var a=0;t.forEach((function(t){t.note?(t.note.forEach((function(n){e.call("note",r.Util.midiPitchFromNote(n),a.toFixed(2).toString(),(t.length/512).toFixed(2).toString(),t.level||100,0)})),a+=t.length/512):a+=t.length/512})),e.call("done")}}]))},266:function(t,n){},284:function(t,n,e){"use strict";function r(source,t){if(null==source)return{};var n,i,e=function(source,t){if(null==source)return{};var n,i,e={},r=Object.keys(source);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(e[n]=source[n]);return e}(source,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(source,n)&&(e[n]=source[n])}return e}e.d(n,"a",(function(){return r}))}}]);