/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{214:function(e,t,n){var r;e.exports=(r=n(237),function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=window.CodeMirror||r.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)}));var n={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(e){return!n[e]&&(n[e]=!0)})).forEach((function(t){e.cminstance.on(t,(function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.$emit.apply(e,[t].concat(r));var i=t.replace(/([A-Z])/g,"-$1").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(r))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick((function(){e.cminstance.refresh()}))},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",n.gutterMarkers?null:e.marker())}))},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r);for(var i in r)["default","default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var s=n(5),a=n(4)(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var i=r(n(0)),o=r(n(2)),a=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(o.default.props.globalOptions.default=function(){return t.options}),t.events&&(o.default.props.globalEvents.default=function(){return t.events})),e.component(o.default.name,o.default)},l={CodeMirror:a,codemirror:o.default,install:u};t.default=l,t.CodeMirror=a,t.codemirror=o.default,t.install=u},function(e,t){e.exports=function(e,t,n,r,o,i){var s,l=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(s=e,l=e.default);var c,u="function"==typeof l?l.options:l;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var f=u.functional,h=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(e,t){return c.call(t),h(e,t)}):u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:s,exports:l,options:u}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?n("div",{ref:"mergeview"}):n("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},i={render:r,staticRenderFns:[]};t.a=i}]))},215:function(e,t,n){var content=n(267);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(45).default)("cd69a5f8",content,!0,{sourceMap:!1})},216:function(e,t,n){var content=n(268);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(45).default)("281810ec",content,!0,{sourceMap:!1})},217:function(e,t,n){!function(e){"use strict";function t(t,n,r){this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;function l(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}e.on(this.inner,"mousedown",(function(t){if(1==t.which){e.e_preventDefault(t);var n="horizontal"==o.orientation?"pageX":"pageY",r=t[n],l=o.pos;e.on(document,"mousemove",f),e.on(document,"mouseup",c)}function c(){e.off(document,"mousemove",f),e.off(document,"mouseup",c)}function f(e){if(1!=e.which)return c();o.moveTo(l+(e[n]-r)*(o.total/o.size))}})),e.on(this.node,"click",(function(t){e.e_preventDefault(t);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)})),e.on(this.node,"mousewheel",l),e.on(this.node,"DOMMouseScroll",l)}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos||(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",0))},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var n=10;function r(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.update=function(e,t,r){var o=this.screen!=t||this.total!=e||this.size!=r;o&&(this.screen=t,this.total=e,this.size=r);var l=this.screen*(this.size/this.total);l<n&&(this.size-=n-l,l=n),this.inner.style["horizontal"==this.orientation?"width":"height"]=l+"px",this.setPos(this.pos,o)},r.prototype.update=function(e){if(null==this.width){var style=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;style&&(this.width=parseInt(style.height))}var t=this.width||0,n=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=r?"block":"none",this.horiz.node.style.display=n?"block":"none",r&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(n?t:0)),this.vert.node.style.bottom=n?t+"px":"0"),n&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(r?t:0)-e.barLeft),this.horiz.node.style.right=r?t+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:r?t:0,bottom:n?t:0}},r.prototype.setScrollTop=function(e){this.vert.setPos(e)},r.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},r.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new r("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new r("CodeMirror-overlayscroll",e,t)}}(n(237))},218:function(e,t,n){!function(e){"use strict";e.defineMode("yaml",(function(){var e=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(t,n){var r=t.peek(),o=n.escaped;if(n.escaped=!1,"#"==r&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&t.indentation()>n.keyCol)return t.skipToEnd(),"string";if(n.literal&&(n.literal=!1),t.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,t.match("---"))return"def";if(t.match("..."))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!o&&","==r)return t.next(),"meta";if(n.inlinePairs>0&&!o&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,t.next(),"meta";if(n.pairStart){if(t.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!n.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=t.indentation(),"atom"):n.pair&&t.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}})),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")}(n(237))},219:function(e,t,n){e.exports=n(283).YAML},220:function(e,t,n){!function(e){"use strict";function t(){}function n(e,t,n,r,o){for(var l=0,c=t.length,f=0,h=0;l<c;l++){var component=t[l];if(component.removed){if(component.value=e.join(r.slice(h,h+component.count)),h+=component.count,l&&t[l-1].added){var d=t[l-1];t[l-1]=t[l],t[l]=d}}else{if(!component.added&&o){var v=n.slice(f,f+component.count);v=v.map((function(e,i){var t=r[h+i];return t.length>e.length?t:e})),component.value=e.join(v)}else component.value=e.join(n.slice(f,f+component.count));f+=component.count,component.added||(h+=component.count)}}var m=t[c-1];return c>1&&"string"==typeof m.value&&(m.added||m.removed)&&e.equals("",m.value)&&(t[c-2].value+=m.value,t.pop()),t}function r(path){return{newPos:path.newPos,components:path.components.slice(0)}}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=o.callback;"function"==typeof o&&(l=o,o={}),this.options=o;var c=this;function f(e){return l?(setTimeout((function(){l(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var h=(t=this.removeEmpty(this.tokenize(t))).length,d=e.length,v=1,m=h+d,y=[{newPos:-1,components:[]}],w=this.extractCommon(y[0],t,e,0);if(y[0].newPos+1>=h&&w+1>=d)return f([{value:this.join(t),count:t.length}]);function x(){for(var o=-1*v;o<=v;o+=2){var l=void 0,m=y[o-1],w=y[o+1],x=(w?w.newPos:0)-o;m&&(y[o-1]=void 0);var k=m&&m.newPos+1<h,C=w&&0<=x&&x<d;if(k||C){if(!k||C&&m.newPos<w.newPos?(l=r(w),c.pushComponent(l.components,void 0,!0)):((l=m).newPos++,c.pushComponent(l.components,!0,void 0)),x=c.extractCommon(l,t,e,o),l.newPos+1>=h&&x+1>=d)return f(n(c,l.components,t,e,c.useLongestToken));y[o]=l}else y[o]=void 0}v++}if(l)!function e(){setTimeout((function(){if(v>m)return l();x()||e()}),0)}();else for(;v<=m;){var k=x();if(k)return k}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,l=n.length,c=e.newPos,f=c-r,h=0;c+1<o&&f+1<l&&this.equals(t[c+1],n[f+1]);)c++,f++,h++;return h&&e.components.push({count:h}),e.newPos=c,f},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function l(e,t,n){return o.diff(e,t,n)}function c(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var f=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,h=/\S/,d=new t;function v(e,t,n){return n=c(n,{ignoreWhitespace:!0}),d.diff(e,t,n)}function m(e,t,n){return d.diff(e,t,n)}d.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!h.test(e)&&!h.test(t)},d.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&f.test(t[i])&&f.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};var y=new t;function w(e,t,n){return y.diff(e,t,n)}function x(e,t,n){var r=c(n,{ignoreWhitespace:!0});return y.diff(e,t,r)}y.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var line=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=line:(this.options.ignoreWhitespace&&(line=line.trim()),t.push(line))}return t};var k=new t;function C(e,t,n){return k.diff(e,t,n)}k.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var S=new t;function O(e,t,n){return S.diff(e,t,n)}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function M(e){return T(e)||N(e)||E()}function T(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}function N(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance")}S.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var A=Object.prototype.toString,j=new t;function I(e,t,n){return j.diff(e,t,n)}function P(e,t,n,r,o){var i,l;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===A.call(e)){for(t.push(e),l=new Array(e.length),n.push(l),i=0;i<e.length;i+=1)l[i]=P(e[i],t,n,r,o);return t.pop(),n.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),"object"===L(e)&&null!==e){t.push(e),l={},n.push(l);var c,f=[];for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),i=0;i<f.length;i+=1)l[c=f[i]]=P(e[c],t,n,r,c);t.pop(),n.pop()}else l=e;return l}j.useLongestToken=!0,j.tokenize=y.tokenize,j.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(P(e,null,null,o),o,"  ")},j.equals=function(e,n){return t.prototype.equals.call(j,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var D=new t;function W(e,t,n){return D.diff(e,t,n)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function l(){var e={};for(o.push(e);i<n.length;){var line=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(line))break;var header=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(line);header&&(e.index=header[1]),i++}for(c(e),c(e),e.hunks=[];i<n.length;){var r=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(r))break;if(/^@@/.test(r))e.hunks.push(f());else{if(r&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(r));i++}}}function c(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(t){var r="---"===t[1]?"old":"new",data=t[2].split("\t",2),o=data[0].replace(/\\\\/g,"\\");/^".*"$/.test(o)&&(o=o.substr(1,o.length-2)),e[r+"FileName"]=o,e[r+"Header"]=(data[1]||"").trim(),i++}}function f(){for(var e=i,o=n[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),l={oldStart:+o[1],oldLines:+o[2]||1,newStart:+o[3],newLines:+o[4]||1,lines:[],linedelimiters:[]},c=0,f=0;i<n.length&&!(0===n[i].indexOf("--- ")&&i+2<n.length&&0===n[i+1].indexOf("+++ ")&&0===n[i+2].indexOf("@@"));i++){var h=0==n[i].length&&i!=n.length-1?" ":n[i][0];if("+"!==h&&"-"!==h&&" "!==h&&"\\"!==h)break;l.lines.push(n[i]),l.linedelimiters.push(r[i]||"\n"),"+"===h?c++:"-"===h?f++:" "===h&&(c++,f++)}if(c||1!==l.newLines||(l.newLines=0),f||1!==l.oldLines||(l.oldLines=0),t.strict){if(c!==l.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(f!==l.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return l}for(;i<n.length;)l();return o}function F(e,t,n){var r=!0,o=!1,l=!1,c=1;return function f(){if(r&&!l){if(o?c++:r=!1,e+c<=n)return c;l=!0}if(!o)return l||(r=!0),t<=e-c?-c++:(o=!0,f())}}function B(source,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=R(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n,r,o=source.split(/\r\n|[\n\v\f\r\x85]/),l=source.match(/\r\n|[\n\v\f\r\x85]/g)||[],c=e.hunks,f=t.compareLine||function(e,line,t,n){return line===n},h=0,d=t.fuzzFactor||0,v=0,m=0;function y(e,t){for(var n=0;n<e.lines.length;n++){var line=e.lines[n],r=line.length>0?line[0]:" ",content=line.length>0?line.substr(1):line;if(" "===r||"-"===r){if(!f(t+1,o[t],r,content)&&++h>d)return!1;t++}}return!0}for(var i=0;i<c.length;i++){for(var w=c[i],x=o.length-w.oldLines,k=0,C=m+w.oldStart-1,S=F(C,v,x);void 0!==k;k=S())if(y(w,C+k)){w.offset=m+=k;break}if(void 0===k)return!1;v=w.offset+w.oldStart+w.oldLines}for(var O=0,L=0;L<c.length;L++){var M=c[L],T=M.oldStart+M.offset+O-1;O+=M.newLines-M.oldLines,T<0&&(T=0);for(var N=0;N<M.lines.length;N++){var line=M.lines[N],E=line.length>0?line[0]:" ",content=line.length>0?line.substr(1):line,A=M.linedelimiters[N];if(" "===E)T++;else if("-"===E)o.splice(T,1),l.splice(T,1);else if("+"===E)o.splice(T,0,content),l.splice(T,0,A),T++;else if("\\"===E){var j=M.lines[N-1]?M.lines[N-1][0]:null;"+"===j?n=!0:"-"===j&&(r=!0)}}}if(n)for(;!o[o.length-1];)o.pop(),l.pop();else r&&(o.push(""),l.push("\n"));for(var I=0;I<o.length-1;I++)o[I]=o[I]+l[I];return o.join("")}function H(e,t){"string"==typeof e&&(e=R(e));var n=0;function r(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,(function(e,data){if(e)return t.complete(e);var n=B(data,o,t);t.patched(o,n,(function(e){if(e)return t.complete(e);r()}))}))}r()}function z(e,t,n,r,o,l,c){c||(c={}),void 0===c.context&&(c.context=4);var f=w(n,r,c);function h(e){return e.map((function(e){return" "+e}))}f.push({value:"",lines:[]});for(var d=[],v=0,m=0,y=[],x=1,k=1,C=function(i){var e=f[i],t=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=t,e.added||e.removed){var o;if(!v){var l=f[i-1];v=x,m=k,l&&(y=c.context>0?h(l.lines.slice(-c.context)):[],v-=y.length,m-=y.length)}(o=y).push.apply(o,M(t.map((function(t){return(e.added?"+":"-")+t})))),e.added?k+=t.length:x+=t.length}else{if(v)if(t.length<=2*c.context&&i<f.length-2){var w;(w=y).push.apply(w,M(h(t)))}else{var C,S=Math.min(t.length,c.context);(C=y).push.apply(C,M(h(t.slice(0,S))));var O={oldStart:v,oldLines:x-v+S,newStart:m,newLines:k-m+S,lines:y};if(i>=f.length-2&&t.length<=c.context){var L=/\n$/.test(n),T=/\n$/.test(r),N=0==t.length&&y.length>O.oldLines;!L&&N&&y.splice(O.oldLines,0,"\\ No newline at end of file"),(L||N)&&T||y.push("\\ No newline at end of file")}d.push(O),v=0,m=0,y=[]}x+=t.length,k+=t.length}},i=0;i<f.length;i++)C(i);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:l,hunks:d}}function _(e,t,n,r,o,l,c){var f=z(e,t,n,r,o,l,c),h=[];e==t&&h.push("Index: "+e),h.push("==================================================================="),h.push("--- "+f.oldFileName+(void 0===f.oldHeader?"":"\t"+f.oldHeader)),h.push("+++ "+f.newFileName+(void 0===f.newHeader?"":"\t"+f.newHeader));for(var i=0;i<f.hunks.length;i++){var d=f.hunks[i];h.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),h.push.apply(h,d.lines)}return h.join("\n")+"\n"}function U(e,t,n,r,o,l){return _(e,e,t,n,r,o,l)}function V(a,b){return a.length===b.length&&K(a,b)}function K(e,t){if(t.length>e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function $(e){var t=ue(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function G(e,t,base){e=Y(e,base),t=Y(t,base);var n={};(e.index||t.index)&&(n.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Q(e)?Q(t)?(n.oldFileName=J(n,e.oldFileName,t.oldFileName),n.newFileName=J(n,e.newFileName,t.newFileName),n.oldHeader=J(n,e.oldHeader,t.oldHeader),n.newHeader=J(n,e.newHeader,t.newHeader)):(n.oldFileName=e.oldFileName,n.newFileName=e.newFileName,n.oldHeader=e.oldHeader,n.newHeader=e.newHeader):(n.oldFileName=t.oldFileName||e.oldFileName,n.newFileName=t.newFileName||e.newFileName,n.oldHeader=t.oldHeader||e.oldHeader,n.newHeader=t.newHeader||e.newHeader)),n.hunks=[];for(var r=0,o=0,l=0,c=0;r<e.hunks.length||o<t.hunks.length;){var f=e.hunks[r]||{oldStart:1/0},h=t.hunks[o]||{oldStart:1/0};if(X(f,h))n.hunks.push(Z(f,l)),r++,c+=f.newLines-f.oldLines;else if(X(h,f))n.hunks.push(Z(h,c)),o++,l+=h.newLines-h.oldLines;else{var d={oldStart:Math.min(f.oldStart,h.oldStart),oldLines:0,newStart:Math.min(f.newStart+l,h.oldStart+c),newLines:0,lines:[]};ee(d,f.oldStart,f.lines,h.oldStart,h.lines),o++,r++,n.hunks.push(d)}}return n}function Y(param,base){if("string"==typeof param){if(/^@@/m.test(param)||/^Index:/m.test(param))return R(param)[0];if(!base)throw new Error("Must provide a base reference or pass in a patch");return z(void 0,void 0,base,param)}return param}function Q(e){return e.newFileName&&e.newFileName!==e.oldFileName}function J(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function X(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function Z(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function ee(e,t,n,r,o){var l={offset:t,lines:n,index:0},c={offset:r,lines:o,index:0};for(ie(e,l,c),ie(e,c,l);l.index<l.lines.length&&c.index<c.lines.length;){var f=l.lines[l.index],h=c.lines[c.index];if("-"!==f[0]&&"+"!==f[0]||"-"!==h[0]&&"+"!==h[0])if("+"===f[0]&&" "===h[0]){var d;(d=e.lines).push.apply(d,M(ae(l)))}else if("+"===h[0]&&" "===f[0]){var v;(v=e.lines).push.apply(v,M(ae(c)))}else"-"===f[0]&&" "===h[0]?ne(e,l,c):"-"===h[0]&&" "===f[0]?ne(e,c,l,!0):f===h?(e.lines.push(f),l.index++,c.index++):re(e,ae(l),ae(c));else te(e,l,c)}oe(e,l),oe(e,c),$(e)}function te(e,t,n){var r=ae(t),o=ae(n);if(le(r)&&le(o)){var l,c;if(K(r,o)&&ce(n,r,r.length-o.length))return void(l=e.lines).push.apply(l,M(r));if(K(o,r)&&ce(t,o,o.length-r.length))return void(c=e.lines).push.apply(c,M(o))}else if(V(r,o)){var f;return void(f=e.lines).push.apply(f,M(r))}re(e,r,o)}function ne(e,t,n,r){var o,l=ae(t),c=se(n,l);c.merged?(o=e.lines).push.apply(o,M(c.merged)):re(e,r?c:l,r?l:c)}function re(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function ie(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var line=t.lines[t.index++];e.lines.push(line),t.offset++}}function oe(e,t){for(;t.index<t.lines.length;){var line=t.lines[t.index++];e.lines.push(line)}}function ae(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var line=e.lines[e.index];if("-"===n&&"+"===line[0]&&(n="+"),n!==line[0])break;t.push(line),e.index++}return t}function se(e,t){for(var n=[],r=[],o=0,l=!1,c=!1;o<t.length&&e.index<e.lines.length;){var f=e.lines[e.index],h=t[o];if("+"===h[0])break;if(l=l||" "!==f[0],r.push(h),o++,"+"===f[0])for(c=!0;"+"===f[0];)n.push(f),f=e.lines[++e.index];h.substr(1)===f.substr(1)?(n.push(f),e.index++):c=!0}if("+"===(t[o]||"")[0]&&l&&(c=!0),c)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}function le(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function ce(e,t,n){for(var i=0;i<n;i++){var r=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+r)return!1}return e.index+=n,!0}function ue(e){var t=0,n=0;return e.forEach((function(line){if("string"!=typeof line){var e=ue(line.mine),r=ue(line.theirs);void 0!==t&&(e.oldLines===r.oldLines?t+=e.oldLines:t=void 0),void 0!==n&&(e.newLines===r.newLines?n+=e.newLines:n=void 0)}else void 0===n||"+"!==line[0]&&" "!==line[0]||n++,void 0===t||"-"!==line[0]&&" "!==line[0]||t++})),{oldLines:t,newLines:n}}function fe(e){for(var t,n,r=[],i=0;i<e.length;i++)n=(t=e[i]).added?1:t.removed?-1:0,r.push([n,t.value]);return r}function he(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push(de(n.value)),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}return t.join("")}function de(s){var e=s;return e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}D.tokenize=function(e){return e.slice()},D.join=D.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=l,e.diffWords=v,e.diffWordsWithSpace=m,e.diffLines=w,e.diffTrimmedLines=x,e.diffSentences=C,e.diffCss=O,e.diffJson=I,e.diffArrays=W,e.structuredPatch=z,e.createTwoFilesPatch=_,e.createPatch=U,e.applyPatch=B,e.applyPatches=H,e.parsePatch=R,e.merge=G,e.convertChangesToDMP=fe,e.convertChangesToXML=he,e.canonicalize=P,Object.defineProperty(e,"__esModule",{value:!0})}(t)},226:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function v(e,p){return v=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e},v(e,p)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t,n){return y=m()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&v(r,n.prototype),r},y.apply(null,arguments)}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)},w(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?x(e):t}function C(e){var t=m();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function S(e,t,n){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var base=function(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=d(object)););return object}(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(n):desc.value}},S(e,t,n||e)}function O(e,i){return M(e)||function(e,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(t.push(l.value),!i||t.length!==i);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return t}(e,i)||T(e,i)||E()}function L(e){return M(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||T(e)||E()}function M(e){if(Array.isArray(e))return e}function T(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return K})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return $})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return L})),n.d(t,"y",(function(){return k}));var j={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},I={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},P="tag:yaml.org,2002:",D={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function W(e){for(var t=[0],n=e.indexOf("\n");-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function R(e){var t,n;return"string"==typeof e?(t=W(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=W(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function F(e,t){if("number"!=typeof e||e<0)return null;var n=R(t),r=n.lineStarts,o=n.src;if(!r||!o||e>o.length)return null;for(var i=0;i<r.length;++i){var l=r[i];if(e<l)return{line:i,col:e-r[i-1]+1};if(e===l)return{line:i+1,col:1}}var line=r.length;return{line:line,col:e-r[line-1]+1}}function B(line,e){var t=R(e),n=t.lineStarts,r=t.src;if(!n||!(line>=1)||line>n.length)return null;for(var o=n[line-1],l=n[line];l&&l>o&&"\n"===r[l-1];)--l;return r.slice(o,l)}var H=function(){function e(t,n){o(this,e),this.start=t,this.end=n||t}return c(e,[{key:"isEmpty",value:function(){return"number"!=typeof this.start||!this.end||this.end<=this.start}},{key:"setOrigRange",value:function(e,t){var n=this.start,r=this.end;if(0===e.length||r<=e[0])return this.origStart=n,this.origEnd=r,t;for(var i=t;i<e.length&&!(e[i]>n);)++i;this.origStart=n+i;for(var o=i;i<e.length&&!(e[i]>=r);)++i;return this.origEnd=r+i,o}}],[{key:"copy",value:function(t){return new e(t.start,t.end)}}]),e}(),z=function(){function e(t,n,r){o(this,e),Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=t,this.value=null}return c(e,[{key:"getPropValue",value:function(e,t,n){if(!this.context)return null;var r=this.context.src,o=this.props[e];return o&&r[o.start]===t?r.slice(o.start+(n?1:0),o.end):null}},{key:"anchor",get:function(){for(var i=0;i<this.props.length;++i){var e=this.getPropValue(i,j.ANCHOR,!0);if(null!=e)return e}return null}},{key:"comment",get:function(){for(var e=[],i=0;i<this.props.length;++i){var t=this.getPropValue(i,j.COMMENT,!0);null!=t&&e.push(t)}return e.length>0?e.join("\n"):null}},{key:"commentHasRequiredWhitespace",value:function(t){var n=this.context.src;if(this.header&&t===this.header.end)return!1;if(!this.valueRange)return!1;var r=this.valueRange.end;return t!==r||e.atBlank(n,r-1)}},{key:"hasComment",get:function(){if(this.context)for(var e=this.context.src,i=0;i<this.props.length;++i)if(e[this.props[i].start]===j.COMMENT)return!0;return!1}},{key:"hasProps",get:function(){if(this.context)for(var e=this.context.src,i=0;i<this.props.length;++i)if(e[this.props[i].start]!==j.COMMENT)return!0;return!1}},{key:"includesTrailingLines",get:function(){return!1}},{key:"jsonLike",get:function(){return-1!==[I.FLOW_MAP,I.FLOW_SEQ,I.QUOTE_DOUBLE,I.QUOTE_SINGLE].indexOf(this.type)}},{key:"rangeAsLinePos",get:function(){if(this.range&&this.context){var e=F(this.range.start,this.context.root);if(e)return{start:e,end:F(this.range.end,this.context.root)}}}},{key:"rawValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end;return this.context.src.slice(t,n)}},{key:"tag",get:function(){for(var i=0;i<this.props.length;++i){var e=this.getPropValue(i,j.TAG,!1);if(null!=e){if("<"===e[1])return{verbatim:e.slice(2,-1)};var t=O(e.match(/^(.*!)([^!]*)$/),3);return t[0],{handle:t[1],suffix:t[2]}}}return null}},{key:"valueRangeContainsNewline",get:function(){if(!this.valueRange||!this.context)return!1;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,i=t;i<n;++i)if("\n"===r[i])return!0;return!1}},{key:"parseComment",value:function(t){var n=this.context.src;if(n[t]===j.COMMENT){var r=e.endOfLine(n,t+1),o=new H(t,r);return this.props.push(o),r}return t}},{key:"setOrigRanges",value:function(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((function(n){return n.setOrigRange(e,t)})),t}},{key:"toString",value:function(){var t=this.context.src,n=this.range,r=this.value;if(null!=r)return r;var o=t.slice(n.start,n.end);return e.addStringTerminator(t,n.end,o)}}],[{key:"addStringTerminator",value:function(t,n,r){if("\n"===r[r.length-1])return r;var o=e.endOfWhiteSpace(t,n);return o>=t.length||"\n"===t[o]?r+"\n":r}},{key:"atDocumentBoundary",value:function(e,t,n){var r=e[t];if(!r)return!0;var o=e[t-1];if(o&&"\n"!==o)return!1;if(n){if(r!==n)return!1}else if(r!==j.DIRECTIVES_END&&r!==j.DOCUMENT_END)return!1;var l=e[t+1],c=e[t+2];if(l!==r||c!==r)return!1;var f=e[t+3];return!f||"\n"===f||"\t"===f||" "===f}},{key:"endOfIdentifier",value:function(e,t){for(var n=e[t],r="<"===n,o=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];n&&-1===o.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}},{key:"endOfIndent",value:function(e,t){for(var n=e[t];" "===n;)n=e[t+=1];return t}},{key:"endOfLine",value:function(e,t){for(var n=e[t];n&&"\n"!==n;)n=e[t+=1];return t}},{key:"endOfWhiteSpace",value:function(e,t){for(var n=e[t];"\t"===n||" "===n;)n=e[t+=1];return t}},{key:"startOfLine",value:function(e,t){var n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}},{key:"endOfBlockIndent",value:function(t,n,r){var o=e.endOfIndent(t,r);if(o>r+n)return o;var l=e.endOfWhiteSpace(t,o),c=t[l];return c&&"\n"!==c?null:l}},{key:"atBlank",value:function(e,t,n){var r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}},{key:"nextNodeIsIndented",value:function(e,t,n){return!(!e||t<0)&&(t>0||n&&"-"===e)}},{key:"normalizeOffset",value:function(t,n){var r=t[n];return r?"\n"!==r&&"\n"===t[n-1]?n-1:e.endOfWhiteSpace(t,n):n}},{key:"foldNewline",value:function(t,n,r){for(var o=0,l=!1,c="",f=t[n+1];" "===f||"\t"===f||"\n"===f;){switch(f){case"\n":o=0,n+=1,c+="\n";break;case"\t":o<=r&&(l=!0),n=e.endOfWhiteSpace(t,n+2)-1;break;case" ":o+=1,n+=1}f=t[n+1]}return c||(c=" "),f&&o<=r&&(l=!0),{fold:c,offset:n,error:l}}}]),e}(),_=function(e){h(n,e);var t=C(n);function n(e,source,r){var l;if(o(this,n),!(r&&source instanceof z))throw new Error("Invalid arguments for new ".concat(e));return(l=t.call(this)).name=e,l.message=r,l.source=source,l}return c(n,[{key:"makePretty",value:function(){if(this.source){this.nodeType=this.source.type;var e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new H(this.offset,this.offset+1);var t=e&&F(this.offset,e);if(t){var n={line:t.line,col:t.col+1};this.linePos={start:t,end:n}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){var r=this.linePos.start,line=r.line,col=r.col;this.message+=" at line ".concat(line,", column ").concat(col);var o=e&&function(e,t){var n=e.start,r=e.end,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,l=B(n.line,t);if(!l)return null;var col=n.col;if(l.length>o)if(col<=o-10)l=l.substr(0,o-1)+"…";else{var c=Math.round(o/2);l.length>col+c&&(l=l.substr(0,col+c-1)+"…"),col-=l.length-o,l="…"+l.substr(1-o)}var f=1,h="";r&&(r.line===n.line&&col+(r.col-n.col)<=o+1?f=r.col-n.col:(f=Math.min(l.length+1,o)-col,h="…"));var d=col>1?" ".repeat(col-1):"",v="^".repeat(f);return"".concat(l,"\n").concat(d).concat(v).concat(h)}(this.linePos,e);o&&(this.message+=":\n\n".concat(o,"\n"))}delete this.source}}}]),n}(w(Error)),U=function(e){h(n,e);var t=C(n);function n(source,e){return o(this,n),t.call(this,"YAMLReferenceError",source,e)}return n}(_),V=function(e){h(n,e);var t=C(n);function n(source,e){return o(this,n),t.call(this,"YAMLSemanticError",source,e)}return n}(_),K=function(e){h(n,e);var t=C(n);function n(source,e){return o(this,n),t.call(this,"YAMLSyntaxError",source,e)}return n}(_),$=function(e){h(n,e);var t=C(n);function n(source,e){return o(this,n),t.call(this,"YAMLWarning",source,e)}return n}(_),G=function(e){h(n,e);var t=C(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,o=r[n-1];t<n&&("\n"===o||"\t"===o||" "===o);)o=r[--n-1];for(var l="",i=t;i<n;++i){var c=r[i];if("\n"===c){var f=z.foldNewline(r,i,-1);l+=f.fold,i=f.offset}else if(" "===c||"\t"===c){for(var h=i,d=r[i+1];i<n&&(" "===d||"\t"===d);)d=r[(i+=1)+1];"\n"!==d&&(l+=i>h?r.slice(h,i+1):c)}else l+=c}var v=r[t];switch(v){case"\t":return{errors:[new V(this,"Plain value cannot start with a tab character")],str:l};case"@":case"`":var m="Plain value cannot start with reserved character ".concat(v);return{errors:[new V(this,m)],str:l};default:return l}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,r=t.indent,o=t.inFlow,l=t.src,c=e,f=e,h=l[c];"\n"===h&&!z.atDocumentBoundary(l,c+1);h=l[c]){var d=z.endOfBlockIndent(l,r,c+1);if(null===d||"#"===l[d])break;c="\n"===l[d]?d:f=n.endOfLine(l,d,o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=f,f}},{key:"parse",value:function(e,t){this.context=e;var r=e.inFlow,o=e.src,l=t,c=o[l];return c&&"#"!==c&&"\n"!==c&&(l=n.endOfLine(o,t,r)),this.valueRange=new H(t,l),l=z.endOfWhiteSpace(o,l),l=this.parseComment(l),this.hasComment&&!this.valueRange.isEmpty()||(l=this.parseBlockValue(l)),l}}],[{key:"endOfLine",value:function(e,t,n){for(var r=e[t],o=t;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){var l=e[o+1];if(":"===r&&(!l||"\n"===l||"\t"===l||" "===l||n&&","===l))break;if((" "===r||"\t"===r)&&"#"===l)break;o+=1,r=l}return o}}]),n}(z)},237:function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),l=/Edge\/(\d+)/.exec(e),c=r||o||l,f=c&&(r?document.documentMode||6:+(l||o)[1]),h=!l&&/WebKit\//.test(e),d=h&&/Qt\/\d+\.\d+/.test(e),v=!l&&/Chrome\/(\d+)/.exec(e),m=v&&+v[1],y=/Opera\//.test(e),w=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),k=/PhantomJS/.test(e),C=w&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),S=/Android/.test(e),O=C||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),L=C||/Mac/.test(t),M=/\bCrOS\b/.test(e),T=/win/i.test(t),N=y&&e.match(/Version\/(\d*\.\d*)/);N&&(N=Number(N[1])),N&&N>=15&&(y=!1,h=!0);var E=L&&(d||y&&(null==N||N<12.11)),A=n||c&&f>=9;function j(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var I,P=function(e,t){var n=e.className,r=j(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function W(e,t){return D(e).appendChild(t)}function R(e,content,t,style){var n=document.createElement(e);if(t&&(n.className=t),style&&(n.style.cssText=style),"string"==typeof content)n.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)n.appendChild(content[i]);return n}function F(e,content,t,style){var n=R(e,content,t,style);return n.setAttribute("role","presentation"),n}function B(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function H(e){var t;try{t=e.activeElement}catch(n){t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function z(e,t){var n=e.className;j(t).test(n)||(e.className+=(n?" ":"")+t)}function _(a,b){for(var e=a.split(" "),i=0;i<e.length;i++)e[i]&&!j(e[i]).test(b)&&(b+=" "+e[i]);return b}I=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var U=function(e){e.select()};function V(e){return e.display.wrapper.ownerDocument}function K(e){return V(e).defaultView}function $(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function G(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Y(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,l=o||0;;){var c=e.indexOf("\t",i);if(c<0||c>=t)return l+(t-i);l+=c-i,l+=n-l%n,i=c+1}}C?U=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:c&&(U=function(e){try{e.select()}catch(e){}});var Q=function(){this.id=null,this.f=null,this.time=0,this.handler=$(this.onTimeout,this)};function J(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}Q.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Q.prototype.set=function(e,t){this.f=t;var time=+new Date+e;(!this.id||time<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=time)};var X=50,Z={toString:function(){return"CodeMirror.Pass"}},ee={scroll:!1},te={origin:"*mouse"},ne={origin:"+move"};function re(e,t,n){for(var r=0,col=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var l=o-r;if(o==e.length||col+l>=t)return r+Math.min(l,t-col);if(col+=o-r,r=o+1,(col+=n-col%n)>=t)return r}}var ie=[""];function oe(e){for(;ie.length<=e;)ie.push(ae(ie)+" ");return ie[e]}function ae(e){return e[e.length-1]}function map(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function se(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function le(){}function ce(base,e){var t;return Object.create?t=Object.create(base):(le.prototype=base,t=new le),e&&G(e,t),t}var ue=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fe(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ue.test(e))}function he(e,t){return t?!!(t.source.indexOf("\\w")>-1&&fe(e))||t.test(e):fe(e)}function de(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var pe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ve(e){return e.charCodeAt(0)>=768&&pe.test(e)}function ge(e,t,n){for(;(n<0?t>0:t<e.length)&&ve(e.charAt(t));)t+=n;return t}function me(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,l=r<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function ye(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var l=e[i];(l.from<n&&l.to>t||t==n&&l.to==t)&&(r(Math.max(l.from,t),Math.min(l.to,n),1==l.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var be=null;function we(e,t,n){var r;be=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:be=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:be=i)}return null!=r?r:be}var xe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(code){return code<=247?e.charAt(code):1424<=code&&code<=1524?"R":1536<=code&&code<=1785?t.charAt(code-1536):1774<=code&&code<=2220?"r":8192<=code&&code<=8203?"w":8204==code?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,c=/[Lb1n]/,f=/[1n]/;function h(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var d="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var v=e.length,m=[],i=0;i<v;++i)m.push(n(e.charCodeAt(i)));for(var y=0,w=d;y<v;++y){var x=m[y];"m"==x?m[y]=w:w=x}for(var k=0,C=d;k<v;++k){var S=m[k];"1"==S&&"r"==C?m[k]="n":l.test(S)&&(C=S,"r"==S&&(m[k]="R"))}for(var O=1,L=m[0];O<v-1;++O){var M=m[O];"+"==M&&"1"==L&&"1"==m[O+1]?m[O]="1":","!=M||L!=m[O+1]||"1"!=L&&"n"!=L||(m[O]=L),L=M}for(var T=0;T<v;++T){var N=m[T];if(","==N)m[T]="N";else if("%"==N){var E=void 0;for(E=T+1;E<v&&"%"==m[E];++E);for(var A=T&&"!"==m[T-1]||E<v&&"1"==m[E]?"1":"N",j=T;j<E;++j)m[j]=A;T=E-1}}for(var I=0,P=d;I<v;++I){var D=m[I];"L"==P&&"1"==D?m[I]="L":l.test(D)&&(P=D)}for(var W=0;W<v;++W)if(o.test(m[W])){var R=void 0;for(R=W+1;R<v&&o.test(m[R]);++R);for(var F="L"==(W?m[W-1]:d),B=F==("L"==(R<v?m[R]:d))?F?"L":"R":d,H=W;H<R;++H)m[H]=B;W=R-1}for(var z,_=[],U=0;U<v;)if(c.test(m[U])){var V=U;for(++U;U<v&&c.test(m[U]);++U);_.push(new h(0,V,U))}else{var K=U,$=_.length,G="rtl"==t?1:0;for(++U;U<v&&"L"!=m[U];++U);for(var Y=K;Y<U;)if(f.test(m[Y])){K<Y&&(_.splice($,0,new h(1,K,Y)),$+=G);var Q=Y;for(++Y;Y<U&&f.test(m[Y]);++Y);_.splice($,0,new h(2,Q,Y)),$+=G,K=Y}else++Y;K<U&&_.splice($,0,new h(1,K,U))}return"ltr"==t&&(1==_[0].level&&(z=e.match(/^\s+/))&&(_[0].from=z[0].length,_.unshift(new h(0,0,z[0].length))),1==ae(_).level&&(z=e.match(/\s+$/))&&(ae(_).to-=z[0].length,_.push(new h(0,v-z[0].length,v)))),"rtl"==t?_.reverse():_}}();function ke(line,e){var t=line.order;return null==t&&(t=line.order=xe(line.text,e)),t}var Ce=[],Se=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var map=e._handlers||(e._handlers={});map[t]=(map[t]||Ce).concat(n)}};function Oe(e,t){return e._handlers&&e._handlers[t]||Ce}function Le(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var map=e._handlers,r=map&&map[t];if(r){var o=J(r,n);o>-1&&(map[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function Me(e,t){var n=Oe(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Te(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Me(e,n||t.type,e,t),Pe(t)||t.codemirrorIgnore}function Ne(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==J(n,t[i])&&n.push(t[i])}function Ee(e,t){return Oe(e,t).length>0}function Ae(e){e.prototype.on=function(e,t){Se(this,e,t)},e.prototype.off=function(e,t){Le(this,e,t)}}function je(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function De(e){je(e),Ie(e)}function We(e){return e.target||e.srcElement}function Re(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),L&&e.ctrlKey&&1==b&&(b=3),b}var Fe,Be,He=function(){if(c&&f<9)return!1;var div=R("div");return"draggable"in div||"dragDrop"in div}();function ze(e){if(null==Fe){var t=R("span","​");W(e,R("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Fe=t.offsetWidth<=1&&t.offsetHeight>2&&!(c&&f<8))}var n=Fe?R("span","​"):R("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function _e(e){if(null!=Be)return Be;var t=W(e,document.createTextNode("AخA")),n=I(t,0,1).getBoundingClientRect(),r=I(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Be=r.right-n.right<3)}var Ue,Ve=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var line=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),rt=line.indexOf("\r");-1!=rt?(n.push(line.slice(0,rt)),t+=rt+1):(n.push(line),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ke=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},$e="oncopy"in(Ue=R("div"))||(Ue.setAttribute("oncopy","return;"),"function"==typeof Ue.oncopy),Ge=null;function qe(e){if(null!=Ge)return Ge;var t=W(e,R("span","x")),n=t.getBoundingClientRect(),r=I(t,0,1).getBoundingClientRect();return Ge=Math.abs(n.left-r.left)>1}var Ye={},Qe={};function Je(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ye[e]=t}function Xe(e,t){Qe[e]=t}function Ze(e){if("string"==typeof e&&Qe.hasOwnProperty(e))e=Qe[e];else if(e&&"string"==typeof e.name&&Qe.hasOwnProperty(e.name)){var t=Qe[e.name];"string"==typeof t&&(t={name:t}),(e=ce(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ze("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ze("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function et(e,t){t=Ze(t);var n=Ye[t.name];if(!n)return et(e,"text/plain");var r=n(e,t);if(tt.hasOwnProperty(t.name)){var o=tt[t.name];for(var l in o)o.hasOwnProperty(l)&&(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=o[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var c in t.modeProps)r[c]=t.modeProps[c];return r}var tt={};function nt(e,t){G(t,tt.hasOwnProperty(e)?tt[e]:tt[e]={})}function it(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function ot(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function at(e,t,n){return!e.startState||e.startState(t,n)}var st=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function lt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function ct(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(line){var text=line.text;o==n.line&&(text=text.slice(0,n.ch)),o==t.line&&(text=text.slice(t.ch)),r.push(text),++o})),r}function ut(e,t,n){var r=[];return e.iter(t,n,(function(line){r.push(line.text)})),r}function ft(line,e){var t=e-line.height;if(t)for(var n=line;n;n=n.parent)n.height+=t}function ht(line){if(null==line.parent)return null;for(var e=line.parent,t=J(e.lines,line),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)t+=n.children[i].chunkSize();return t+e.first}function pt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],l=o.height;if(t<l){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var c=e.lines[i].height;if(t<c)break;t-=c}return n+i}function vt(e,t){return t>=e.first&&t<e.first+e.size}function gt(e,i){return String(e.lineNumberFormatter(i+e.firstLineNumber))}function mt(line,e,t){if(void 0===t&&(t=null),!(this instanceof mt))return new mt(line,e,t);this.line=line,this.ch=e,this.sticky=t}function yt(a,b){return a.line-b.line||a.ch-b.ch}function bt(a,b){return a.sticky==b.sticky&&0==yt(a,b)}function wt(e){return mt(e.line,e.ch)}function xt(a,b){return yt(a,b)<0?b:a}function kt(a,b){return yt(a,b)<0?a:b}function Ct(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function St(e,t){if(t.line<e.first)return mt(e.first,0);var n=e.first+e.size-1;return t.line>n?mt(n,lt(e,n).text.length):Ot(t,lt(e,t.line).text.length)}function Ot(e,t){var n=e.ch;return null==n||n>t?mt(e.line,t):n<0?mt(e.line,0):e}function Lt(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=St(e,t[i]);return n}st.prototype.eol=function(){return this.pos>=this.string.length},st.prototype.sol=function(){return this.pos==this.lineStart},st.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},st.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},st.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},st.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},st.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},st.prototype.skipToEnd=function(){this.pos=this.string.length},st.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},st.prototype.backUp=function(e){this.pos-=e},st.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Y(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Y(this.string,this.lineStart,this.tabSize):0)},st.prototype.indentation=function(){return Y(this.string,null,this.tabSize)-(this.lineStart?Y(this.string,this.lineStart,this.tabSize):0)},st.prototype.match=function(pattern,e,t){if("string"!=typeof pattern){var n=this.string.slice(this.pos).match(pattern);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var r=function(e){return t?e.toLowerCase():e};if(r(this.string.substr(this.pos,pattern.length))==r(pattern))return!1!==e&&(this.pos+=pattern.length),!0},st.prototype.current=function(){return this.string.slice(this.start,this.pos)},st.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},st.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},st.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Mt=function(e,t){this.state=e,this.lookAhead=t},Tt=function(e,t,line,n){this.state=t,this.doc=e,this.line=line,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Nt(e,line,t,n){var r=[e.state.modeGen],o={};Ft(e,line.text,e.doc.mode,t,(function(e,style){return r.push(e,style)}),o,n);for(var l=t.state,c=function(n){t.baseTokens=r;var c=e.state.overlays[n],i=1,f=0;t.state=!0,Ft(e,line.text,c.mode,t,(function(e,style){for(var t=i;f<e;){var n=r[i];n>e&&r.splice(i,1,e,r[i+1],n),i+=2,f=Math.min(e,n)}if(style)if(c.opaque)r.splice(t,i-t,e,"overlay "+style),i=t+2;else for(;t<i;t+=2){var o=r[t+1];r[t+1]=(o?o+" ":"")+"overlay "+style}}),o),t.state=l,t.baseTokens=null,t.baseTokenPos=1},f=0;f<e.state.overlays.length;++f)c(f);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Et(e,line,t){if(!line.styles||line.styles[0]!=e.state.modeGen){var n=At(e,ht(line)),r=line.text.length>e.options.maxHighlightLength&&it(e.doc.mode,n.state),o=Nt(e,line,n);r&&(n.state=r),line.stateAfter=n.save(!r),line.styles=o.styles,o.classes?line.styleClasses=o.classes:line.styleClasses&&(line.styleClasses=null),t===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return line.styles}function At(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new Tt(r,!0,t);var l=Bt(e,t,n),c=l>r.first&&lt(r,l-1).stateAfter,f=c?Tt.fromSaved(r,c,l):new Tt(r,at(r.mode),l);return r.iter(l,t,(function(line){jt(e,line.text,f);var n=f.line;line.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?f.save():null,f.nextLine()})),n&&(r.modeFrontier=f.line),f}function jt(e,text,t,n){var r=e.doc.mode,o=new st(text,e.options.tabSize,t);for(o.start=o.pos=n||0,""==text&&It(r,t.state);!o.eol();)Pt(r,o,t.state),o.start=o.pos}function It(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=ot(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Pt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=ot(e,n).mode);var style=e.token(t,n);if(t.pos>t.start)return style}throw new Error("Mode "+e.name+" failed to advance stream.")}Tt.prototype.lookAhead=function(e){var line=this.doc.getLine(this.line+e);return null!=line&&e>this.maxLookAhead&&(this.maxLookAhead=e),line},Tt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Tt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Tt.fromSaved=function(e,t,line){return t instanceof Mt?new Tt(e,it(e.mode,t.state),line,t.lookAhead):new Tt(e,it(e.mode,t),line)},Tt.prototype.save=function(e){var t=!1!==e?it(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Mt(t,this.maxLookAhead):t};var Dt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Wt(e,t,n,r){var style,o,l=e.doc,c=l.mode,line=lt(l,(t=St(l,t)).line),f=At(e,t.line,n),h=new st(line.text,e.options.tabSize,f);for(r&&(o=[]);(r||h.pos<t.ch)&&!h.eol();)h.start=h.pos,style=Pt(c,h,f.state),r&&o.push(new Dt(h,style,it(l.mode,f.state)));return r?o:new Dt(h,style,f.state)}function Rt(e,output){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var n=t[1]?"bgClass":"textClass";null==output[n]?output[n]=t[2]:new RegExp("(?:^|\\s)"+t[2]+"(?:$|\\s)").test(output[n])||(output[n]+=" "+t[2])}return e}function Ft(e,text,t,n,r,o,l){var c=t.flattenSpans;null==c&&(c=e.options.flattenSpans);var style,f=0,h=null,d=new st(text,e.options.tabSize,n),v=e.options.addModeClass&&[null];for(""==text&&Rt(It(t,n.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(c=!1,l&&jt(e,text,n,d.pos),d.pos=text.length,style=null):style=Rt(Pt(t,d,n.state,v),o),v){var m=v[0].name;m&&(style="m-"+(style?m+" "+style:m))}if(!c||h!=style){for(;f<d.start;)r(f=Math.min(d.start,f+5e3),h);h=style}d.start=d.pos}for(;f<d.pos;){var y=Math.min(d.pos,f+5e3);r(y,h),f=y}}function Bt(e,t,n){for(var r,o,l=e.doc,c=n?-1:t-(e.doc.mode.innerMode?1e3:100),f=t;f>c;--f){if(f<=l.first)return l.first;var line=lt(l,f-1),h=line.stateAfter;if(h&&(!n||f+(h instanceof Mt?h.lookAhead:0)<=l.modeFrontier))return f;var d=Y(line.text,null,e.options.tabSize);(null==o||r>d)&&(o=f-1,r=d)}return o}function Ht(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,line=t-1;line>n;line--){var r=lt(e,line).stateAfter;if(r&&(!(r instanceof Mt)||line+r.lookAhead<t)){n=line+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var zt=!1,_t=!1;function Ut(){zt=!0}function Vt(){_t=!0}function Kt(marker,e,t){this.marker=marker,this.from=e,this.to=t}function $t(e,marker){if(e)for(var i=0;i<e.length;++i){var span=e[i];if(span.marker==marker)return span}}function Gt(e,span){for(var t,i=0;i<e.length;++i)e[i]!=span&&(t||(t=[])).push(e[i]);return t}function qt(line,span,e){var t=e&&window.WeakSet&&(e.markedSpans||(e.markedSpans=new WeakSet));t&&line.markedSpans&&t.has(line.markedSpans)?line.markedSpans.push(span):(line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],t&&t.add(line.markedSpans)),span.marker.attachLine(line)}function Yt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var span=e[i],marker=span.marker;if(null==span.from||(marker.inclusiveLeft?span.from<=t:span.from<t)||span.from==t&&"bookmark"==marker.type&&(!n||!span.marker.insertLeft)){var o=null==span.to||(marker.inclusiveRight?span.to>=t:span.to>t);(r||(r=[])).push(new Kt(marker,span.from,o?null:span.to))}}return r}function Qt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var span=e[i],marker=span.marker;if(null==span.to||(marker.inclusiveRight?span.to>=t:span.to>t)||span.from==t&&"bookmark"==marker.type&&(!n||span.marker.insertLeft)){var o=null==span.from||(marker.inclusiveLeft?span.from<=t:span.from<t);(r||(r=[])).push(new Kt(marker,o?null:span.from-t,null==span.to?null:span.to-t))}}return r}function Jt(e,t){if(t.full)return null;var n=vt(e,t.from.line)&&lt(e,t.from.line).markedSpans,r=vt(e,t.to.line)&&lt(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,l=t.to.ch,c=0==yt(t.from,t.to),f=Yt(n,o,c),h=Qt(r,l,c),d=1==t.text.length,v=ae(t.text).length+(d?o:0);if(f)for(var i=0;i<f.length;++i){var span=f[i];if(null==span.to){var m=$t(h,span.marker);m?d&&(span.to=null==m.to?null:m.to+v):span.to=o}}if(h)for(var y=0;y<h.length;++y){var w=h[y];null!=w.to&&(w.to+=v),null==w.from?$t(f,w.marker)||(w.from=v,d&&(f||(f=[])).push(w)):(w.from+=v,d&&(f||(f=[])).push(w))}f&&(f=Xt(f)),h&&h!=f&&(h=Xt(h));var x=[f];if(!d){var k,C=t.text.length-2;if(C>0&&f)for(var S=0;S<f.length;++S)null==f[S].to&&(k||(k=[])).push(new Kt(f[S].marker,null,null));for(var O=0;O<C;++O)x.push(k);x.push(h)}return x}function Xt(e){for(var i=0;i<e.length;++i){var span=e[i];null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty&&e.splice(i--,1)}return e.length?e:null}function Zt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||r&&-1!=J(r,mark)||(r||(r=[])).push(mark)}})),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var l=r[i],c=l.find(0),f=0;f<o.length;++f){var p=o[f];if(!(yt(p.to,c.from)<0||yt(p.from,c.to)>0)){var h=[f,1],d=yt(p.from,c.from),v=yt(p.to,c.to);(d<0||!l.inclusiveLeft&&!d)&&h.push({from:p.from,to:c.from}),(v>0||!l.inclusiveRight&&!v)&&h.push({from:c.to,to:p.to}),o.splice.apply(o,h),f+=h.length-3}}return o}function en(line){var e=line.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(line);line.markedSpans=null}}function tn(line,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(line);line.markedSpans=e}}function nn(marker){return marker.inclusiveLeft?-1:0}function rn(marker){return marker.inclusiveRight?1:0}function on(a,b){var e=a.lines.length-b.lines.length;if(0!=e)return e;var t=a.find(),n=b.find(),r=yt(t.from,n.from)||nn(a)-nn(b);if(r)return-r;var o=yt(t.to,n.to)||rn(a)-rn(b);return o||b.id-a.id}function an(line,e){var t,n=_t&&line.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)(r=n[i]).marker.collapsed&&null==(e?r.from:r.to)&&(!t||on(t,r.marker)<0)&&(t=r.marker);return t}function sn(line){return an(line,!0)}function ln(line){return an(line,!1)}function cn(line,e){var t,n=_t&&line.markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];r.marker.collapsed&&(null==r.from||r.from<e)&&(null==r.to||r.to>e)&&(!t||on(t,r.marker)<0)&&(t=r.marker)}return t}function un(e,t,n,r,marker){var line=lt(e,t),o=_t&&line.markedSpans;if(o)for(var i=0;i<o.length;++i){var l=o[i];if(l.marker.collapsed){var c=l.marker.find(0),f=yt(c.from,n)||nn(l.marker)-nn(marker),h=yt(c.to,r)||rn(l.marker)-rn(marker);if(!(f>=0&&h<=0||f<=0&&h>=0)&&(f<=0&&(l.marker.inclusiveRight&&marker.inclusiveLeft?yt(c.to,n)>=0:yt(c.to,n)>0)||f>=0&&(l.marker.inclusiveRight&&marker.inclusiveLeft?yt(c.from,r)<=0:yt(c.from,r)<0)))return!0}}}function fn(line){for(var e;e=sn(line);)line=e.find(-1,!0).line;return line}function hn(line){for(var e;e=ln(line);)line=e.find(1,!0).line;return line}function dn(line){for(var e,t;e=ln(line);)line=e.find(1,!0).line,(t||(t=[])).push(line);return t}function pn(e,t){var line=lt(e,t),n=fn(line);return line==n?t:ht(n)}function vn(e,t){if(t>e.lastLine())return t;var n,line=lt(e,t);if(!gn(e,line))return t;for(;n=ln(line);)line=n.find(1,!0).line;return ht(line)+1}function gn(e,line){var t=_t&&line.markedSpans;if(t)for(var n=void 0,i=0;i<t.length;++i)if((n=t[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&mn(e,line,n))return!0}}function mn(e,line,span){if(null==span.to){var t=span.marker.find(1,!0);return mn(e,t.line,$t(t.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var n=void 0,i=0;i<line.markedSpans.length;++i)if((n=line.markedSpans[i]).marker.collapsed&&!n.marker.widgetNode&&n.from==span.to&&(null==n.to||n.to!=span.from)&&(n.marker.inclusiveLeft||span.marker.inclusiveRight)&&mn(e,line,n))return!0}function yn(e){for(var t=0,n=(e=fn(e)).parent,i=0;i<n.lines.length;++i){var line=n.lines[i];if(line==e)break;t+=line.height}for(var p=n.parent;p;p=(n=p).parent)for(var r=0;r<p.children.length;++r){var o=p.children[r];if(o==n)break;t+=o.height}return t}function bn(line){if(0==line.height)return 0;for(var e,t=line.text.length,n=line;e=sn(n);){var r=e.find(0,!0);n=r.from.line,t+=r.from.ch-r.to.ch}for(n=line;e=ln(n);){var o=e.find(0,!0);t-=n.text.length-o.from.ch,t+=(n=o.to.line).text.length-o.to.ch}return t}function wn(e){var t=e.display,n=e.doc;t.maxLine=lt(n,n.first),t.maxLineLength=bn(t.maxLine),t.maxLineChanged=!0,n.iter((function(line){var e=bn(line);e>t.maxLineLength&&(t.maxLineLength=e,t.maxLine=line)}))}var xn=function(text,e,t){this.text=text,tn(this,e),this.height=t?t(this):1};function kn(line,text,e,t){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),en(line),tn(line,e);var n=t?t(line):1;n!=line.height&&ft(line,n)}function Cn(line){line.parent=null,en(line)}xn.prototype.lineNo=function(){return ht(this)},Ae(xn);var Sn={},On={};function Ln(style,e){if(!style||/^\s*$/.test(style))return null;var t=e.addModeClass?On:Sn;return t[style]||(t[style]=style.replace(/\S+/g,"cm-$&"))}function Mn(e,t){var content=F("span",null,null,h?"padding-right: .1px":null),n={pre:F("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var line=i?t.rest[i-1]:t.line,r=void 0;n.pos=0,n.addToken=Nn,_e(e.display.measure)&&(r=ke(line,e.doc.direction))&&(n.addToken=An(n.addToken,r)),n.map=[],In(line,n,Et(e,line,t!=e.display.externalMeasured&&ht(line))),line.styleClasses&&(line.styleClasses.bgClass&&(n.bgClass=_(line.styleClasses.bgClass,n.bgClass||"")),line.styleClasses.textClass&&(n.textClass=_(line.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(ze(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(h){var o=n.content.lastChild;(/\bcm-tab\b/.test(o.className)||o.querySelector&&o.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Me(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=_(n.pre.className,n.textClass||"")),n}function Tn(e){var t=R("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Nn(e,text,style,t,n,r,o){if(text){var content,l=e.splitSpaces?En(text,e.trailingSpace):text,h=e.cm.state.specialChars,d=!1;if(h.test(text)){content=document.createDocumentFragment();for(var v=0;;){h.lastIndex=v;var m=h.exec(text),y=m?m.index-v:text.length-v;if(y){var w=document.createTextNode(l.slice(v,v+y));c&&f<9?content.appendChild(R("span",[w])):content.appendChild(w),e.map.push(e.pos,e.pos+y,w),e.col+=y,e.pos+=y}if(!m)break;v+=y+1;var x=void 0;if("\t"==m[0]){var k=e.cm.options.tabSize,C=k-e.col%k;(x=content.appendChild(R("span",oe(C),"cm-tab"))).setAttribute("role","presentation"),x.setAttribute("cm-text","\t"),e.col+=C}else"\r"==m[0]||"\n"==m[0]?((x=content.appendChild(R("span","\r"==m[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",m[0]),e.col+=1):((x=e.cm.options.specialCharPlaceholder(m[0])).setAttribute("cm-text",m[0]),c&&f<9?content.appendChild(R("span",[x])):content.appendChild(x),e.col+=1);e.map.push(e.pos,e.pos+1,x),e.pos++}}else e.col+=text.length,content=document.createTextNode(l),e.map.push(e.pos,e.pos+text.length,content),c&&f<9&&(d=!0),e.pos+=text.length;if(e.trailingSpace=32==l.charCodeAt(text.length-1),style||t||n||d||r||o){var S=style||"";t&&(S+=t),n&&(S+=n);var O=R("span",[content],S,r);if(o)for(var L in o)o.hasOwnProperty(L)&&"style"!=L&&"class"!=L&&O.setAttribute(L,o[L]);return e.content.appendChild(O)}e.content.appendChild(content)}}function En(text,e){if(text.length>1&&!/  /.test(text))return text;for(var t=e,n="",i=0;i<text.length;i++){var r=text.charAt(i);" "!=r||!t||i!=text.length-1&&32!=text.charCodeAt(i+1)||(r=" "),n+=r,t=" "==r}return n}function An(e,t){return function(n,text,style,r,o,l,c){style=style?style+" cm-force-border":"cm-force-border";for(var f=n.pos,h=f+text.length;;){for(var d=void 0,i=0;i<t.length&&!((d=t[i]).to>f&&d.from<=f);i++);if(d.to>=h)return e(n,text,style,r,o,l,c);e(n,text.slice(0,d.to-f),style,r,null,l,c),r=null,text=text.slice(d.to-f),f=d.to}}}function jn(e,t,marker,n){var r=!n&&marker.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",marker.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function In(line,e,t){var n=line.markedSpans,r=line.text,o=0;if(n)for(var style,l,c,f,h,d,v,m=r.length,y=0,i=1,text="",w=0;;){if(w==y){c=f=h=l="",v=null,d=null,w=1/0;for(var x=[],k=void 0,C=0;C<n.length;++C){var S=n[C],O=S.marker;if("bookmark"==O.type&&S.from==y&&O.widgetNode)x.push(O);else if(S.from<=y&&(null==S.to||S.to>y||O.collapsed&&S.to==y&&S.from==y)){if(null!=S.to&&S.to!=y&&w>S.to&&(w=S.to,f=""),O.className&&(c+=" "+O.className),O.css&&(l=(l?l+";":"")+O.css),O.startStyle&&S.from==y&&(h+=" "+O.startStyle),O.endStyle&&S.to==w&&(k||(k=[])).push(O.endStyle,S.to),O.title&&((v||(v={})).title=O.title),O.attributes)for(var L in O.attributes)(v||(v={}))[L]=O.attributes[L];O.collapsed&&(!d||on(d.marker,O)<0)&&(d=S)}else S.from>y&&w>S.from&&(w=S.from)}if(k)for(var M=0;M<k.length;M+=2)k[M+1]==w&&(f+=" "+k[M]);if(!d||d.from==y)for(var T=0;T<x.length;++T)jn(e,0,x[T]);if(d&&(d.from||0)==y){if(jn(e,(null==d.to?m+1:d.to)-y,d.marker,null==d.from),null==d.to)return;d.to==y&&(d=!1)}}if(y>=m)break;for(var N=Math.min(m,w);;){if(text){var E=y+text.length;if(!d){var A=E>N?text.slice(0,N-y):text;e.addToken(e,A,style?style+c:c,h,y+A.length==w?f:"",l,v)}if(E>=N){text=text.slice(N-y),y=N;break}y=E,h=""}text=r.slice(o,o=t[i++]),style=Ln(t[i++],e.cm.options)}}else for(var j=1;j<t.length;j+=2)e.addToken(e,r.slice(o,o=t[j]),Ln(t[j+1],e.cm.options))}function Pn(e,line,t){this.line=line,this.rest=dn(line),this.size=this.rest?ht(ae(this.rest))-t+1:1,this.node=this.text=null,this.hidden=gn(e,line)}function Dn(e,t,n){for(var r,o=[],l=t;l<n;l=r){var view=new Pn(e.doc,lt(e.doc,l),l);r=l+view.size,o.push(view)}return o}var Wn=null;function Rn(e){Wn?Wn.ops.push(e):e.ownsGroup=Wn={ops:[e],delayedCallbacks:[]}}function Fn(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}function Bn(e,t){var n=e.ownsGroup;if(n)try{Fn(n)}finally{Wn=null,t(n)}}var Hn=null;function zn(e,t){var n=Oe(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Wn?r=Wn.delayedCallbacks:Hn?r=Hn:(r=Hn=[],setTimeout(_n,0));for(var l=function(i){r.push((function(){return n[i].apply(null,o)}))},i=0;i<n.length;++i)l(i)}}function _n(){var e=Hn;Hn=null;for(var i=0;i<e.length;++i)e[i]()}function Un(e,t,n,r){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];"text"==l?Gn(e,t):"gutter"==l?Yn(e,t,n,r):"class"==l?qn(e,t):"widget"==l&&Qn(e,t,r)}t.changes=null}function Vn(e){return e.node==e.text&&(e.node=R("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),c&&f<8&&(e.node.style.zIndex=2)),e.node}function Kn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Vn(t);t.background=r.insertBefore(R("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function $n(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Mn(e,t)}function Gn(e,t){var n=t.text.className,r=$n(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,qn(e,t)):n&&(t.text.className=n)}function qn(e,t){Kn(e,t),t.line.wrapClass?Vn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Yn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Vn(t);t.gutterBackground=R("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var c=Vn(t),f=t.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(f.setAttribute("aria-hidden","true"),e.display.input.setUneditable(f),c.insertBefore(f,t.text),t.line.gutterClass&&(f.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=f.appendChild(R("div",gt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var h=0;h<e.display.gutterSpecs.length;++h){var d=e.display.gutterSpecs[h].className,v=l.hasOwnProperty(d)&&l[d];v&&f.appendChild(R("div",[v],"CodeMirror-gutter-elt","left: "+r.gutterLeft[d]+"px; width: "+r.gutterWidth[d]+"px"))}}}function Qn(e,t,n){t.alignable&&(t.alignable=null);for(var r=j("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Xn(e,t,n)}function Jn(e,t,n,r){var o=$n(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),qn(e,t),Yn(e,t,n,r),Xn(e,t,r),t.node}function Xn(e,t,n){if(Zn(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)Zn(e,t.rest[i],t,n,!1)}function Zn(e,line,t,n,r){if(line.widgets)for(var o=Vn(t),i=0,l=line.widgets;i<l.length;++i){var c=l[i],f=R("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||f.setAttribute("cm-ignore-events","true"),er(c,f,t,n),e.display.input.setUneditable(f),r&&c.above?o.insertBefore(f,t.gutter||t.text):o.appendChild(f),zn(c,"redraw")}}function er(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function nr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!B(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),W(t.display.measure,R("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function rr(e,t){for(var n=We(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function ir(e){return e.lineSpace.offsetTop}function or(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ar(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=W(e.measure,R("pre","x","CodeMirror-line-like")),style=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(e.cachedPaddingH=data),data}function sr(e){return X-e.display.nativeBarWidth}function lr(e){return e.display.scroller.clientWidth-sr(e)-e.display.barWidth}function cr(e){return e.display.scroller.clientHeight-sr(e)-e.display.barHeight}function ur(e,t,rect){var n=e.options.lineWrapping,r=n&&lr(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var l=t.text.firstChild.getClientRects(),i=0;i<l.length-1;i++){var c=l[i],f=l[i+1];Math.abs(c.bottom-f.bottom)>2&&o.push((c.bottom+f.top)/2-rect.top)}}o.push(rect.bottom-rect.top)}}function fr(e,line,t){if(e.line==line)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var i=0;i<e.rest.length;i++)if(e.rest[i]==line)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var n=0;n<e.rest.length;n++)if(ht(e.rest[n])>t)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}}function dr(e,line){var t=ht(line=fn(line)),view=e.display.externalMeasured=new Pn(e.doc,line,t);view.lineN=t;var n=view.built=Mn(e,view);return view.text=n.pre,W(e.display.lineMeasure,n.pre),view}function pr(e,line,t,n){return mr(e,gr(e,line),t,n)}function vr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Jr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function gr(e,line){var t=ht(line),view=vr(e,t);view&&!view.text?view=null:view&&view.changes&&(Un(e,view,t,$r(e)),e.curOp.forceUpdate=!0),view||(view=dr(e,line));var n=fr(view,line,t);return{line:line,view:view,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function mr(e,t,n,r,o){t.before&&(n=-1);var l,c=n+(r||"");return t.cache.hasOwnProperty(c)?l=t.cache[c]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ur(e,t.view,t.rect),t.hasHeights=!0),(l=Cr(e,t,n,r)).bogus||(t.cache[c]=l)),{left:l.left,right:l.right,top:o?l.rtop:l.top,bottom:o?l.rbottom:l.bottom}}var yr,wr={left:0,right:0,top:0,bottom:0};function xr(map,e,t){for(var n,r,o,l,c,f,i=0;i<map.length;i+=3)if(c=map[i],f=map[i+1],e<c?(r=0,o=1,l="left"):e<f?o=1+(r=e-c):(i==map.length-3||e==f&&map[i+3]>e)&&(r=(o=f-c)-1,e>=f&&(l="right")),null!=r){if(n=map[i+2],c==f&&t==(n.insertLeft?"left":"right")&&(l=t),"left"==t&&0==r)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;)n=map[2+(i-=3)],l="left";if("right"==t&&r==f-c)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;)n=map[(i+=3)+2],l="right";break}return{node:n,start:r,end:o,collapse:l,coverStart:c,coverEnd:f}}function kr(e,t){var rect=wr;if("left"==t)for(var i=0;i<e.length&&(rect=e[i]).left==rect.right;i++);else for(var n=e.length-1;n>=0&&(rect=e[n]).left==rect.right;n--);return rect}function Cr(e,t,n,r){var rect,o=xr(t.map,n,r),l=o.node,h=o.start,d=o.end,v=o.collapse;if(3==l.nodeType){for(var m=0;m<4;m++){for(;h&&ve(t.line.text.charAt(o.coverStart+h));)--h;for(;o.coverStart+d<o.coverEnd&&ve(t.line.text.charAt(o.coverStart+d));)++d;if((rect=c&&f<9&&0==h&&d==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():kr(I(l,h,d).getClientRects(),r)).left||rect.right||0==h)break;d=h,h-=1,v="right"}c&&f<11&&(rect=Sr(e.display.measure,rect))}else{var y;h>0&&(v=r="right"),rect=e.options.lineWrapping&&(y=l.getClientRects()).length>1?y["right"==r?y.length-1:0]:l.getBoundingClientRect()}if(c&&f<9&&!h&&(!rect||!rect.left&&!rect.right)){var w=l.parentNode.getClientRects()[0];rect=w?{left:w.left,right:w.left+Kr(e.display),top:w.top,bottom:w.bottom}:wr}for(var x=rect.top-t.rect.top,k=rect.bottom-t.rect.top,C=(x+k)/2,S=t.view.measure.heights,i=0;i<S.length-1&&!(C<S[i]);i++);var O=i?S[i-1]:0,L=S[i],M={left:("right"==v?rect.right:rect.left)-t.rect.left,right:("left"==v?rect.left:rect.right)-t.rect.left,top:O,bottom:L};return rect.left||rect.right||(M.bogus=!0),e.options.singleCursorHeightPerLine||(M.rtop=x,M.rbottom=k),M}function Sr(e,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!qe(e))return rect;var t=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*t,right:rect.right*t,top:rect.top*n,bottom:rect.bottom*n}}function Or(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var i=0;i<e.rest.length;i++)e.measure.caches[i]={}}function Lr(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var i=0;i<e.display.view.length;i++)Or(e.display.view[i])}function Mr(e){Lr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Tr(e){return v&&S?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Nr(e){return v&&S?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Er(e){var t=fn(e).widgets,n=0;if(t)for(var i=0;i<t.length;++i)t[i].above&&(n+=nr(t[i]));return n}function Ar(e,t,rect,n,r){if(!r){var o=Er(t);rect.top+=o,rect.bottom+=o}if("line"==n)return rect;n||(n="local");var l=yn(t);if("local"==n?l+=ir(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var c=e.display.lineSpace.getBoundingClientRect();l+=c.top+("window"==n?0:Nr(V(e)));var f=c.left+("window"==n?0:Tr(V(e)));rect.left+=f,rect.right+=f}return rect.top+=l,rect.bottom+=l,rect}function jr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=Tr(V(e)),o-=Nr(V(e));else if("local"==n||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,o+=l.top}var c=e.display.lineSpace.getBoundingClientRect();return{left:r-c.left,top:o-c.top}}function Ir(e,t,n,r,o){return r||(r=lt(e.doc,t.line)),Ar(e,r,pr(e,r,t.ch,o),n)}function Pr(e,t,n,r,o,l){function c(t,c){var f=mr(e,o,t,c?"right":"left",l);return c?f.left=f.right:f.right=f.left,Ar(e,r,f,n)}r=r||lt(e.doc,t.line),o||(o=gr(e,r));var f=ke(r,e.doc.direction),h=t.ch,d=t.sticky;if(h>=r.text.length?(h=r.text.length,d="before"):h<=0&&(h=0,d="after"),!f)return c("before"==d?h-1:h,"before"==d);function v(e,t,n){return c(n?e-1:e,1==f[t].level!=n)}var m=we(f,h,d),y=be,w=v(h,m,"before"==d);return null!=y&&(w.other=v(h,y,"before"!=d)),w}function Dr(e,t){var n=0;t=St(e.doc,t),e.options.lineWrapping||(n=Kr(e.display)*t.ch);var r=lt(e.doc,t.line),o=yn(r)+ir(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function Wr(line,e,t,n,r){var o=mt(line,e,t);return o.xRel=r,n&&(o.outside=n),o}function Rr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Wr(r.first,0,null,-1,-1);var o=pt(r,n),l=r.first+r.size-1;if(o>l)return Wr(r.first+r.size-1,lt(r,l).text.length,null,1,1);t<0&&(t=0);for(var c=lt(r,o);;){var f=zr(e,c,o,t,n),h=cn(c,f.ch+(f.xRel>0||f.outside>0?1:0));if(!h)return f;var d=h.find(1);if(d.line==o)return d;c=lt(r,o=d.line)}}function Fr(e,t,n,r){r-=Er(t);var o=t.text.length,l=me((function(t){return mr(e,n,t-1).bottom<=r}),o,0);return{begin:l,end:o=me((function(t){return mr(e,n,t).top>r}),l,o)}}function Br(e,t,n,r){return n||(n=gr(e,t)),Fr(e,t,n,Ar(e,t,mr(e,n,r),"line").top)}function Hr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function zr(e,t,n,r,o){o-=yn(t);var l=gr(e,t),c=Er(t),f=0,h=t.text.length,d=!0,v=ke(t,e.doc.direction);if(v){var m=(e.options.lineWrapping?Ur:_r)(e,t,n,l,v,r,o);f=(d=1!=m.level)?m.from:m.to-1,h=d?m.to:m.from-1}var y,w,x=null,k=null,C=me((function(t){var n=mr(e,l,t);return n.top+=c,n.bottom+=c,!!Hr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(x=t,k=n),!0)}),f,h),S=!1;if(k){var O=r-k.left<k.right-r,L=O==d;C=x+(L?0:1),w=L?"after":"before",y=O?k.left:k.right}else{d||C!=h&&C!=f||C++,w=0==C?"after":C==t.text.length?"before":mr(e,l,C-(d?1:0)).bottom+c<=o==d?"after":"before";var M=Pr(e,mt(n,C,w),"line",t,l);y=M.left,S=o<M.top?-1:o>=M.bottom?1:0}return Wr(n,C=ge(t.text,C,1),w,S,r-y)}function _r(e,t,n,r,o,l,c){var f=me((function(i){var f=o[i],h=1!=f.level;return Hr(Pr(e,mt(n,h?f.to:f.from,h?"before":"after"),"line",t,r),l,c,!0)}),0,o.length-1),h=o[f];if(f>0){var d=1!=h.level,v=Pr(e,mt(n,d?h.from:h.to,d?"after":"before"),"line",t,r);Hr(v,l,c,!0)&&v.top>c&&(h=o[f-1])}return h}function Ur(e,t,n,r,o,l,c){var f=Fr(e,t,r,c),h=f.begin,d=f.end;/\s/.test(t.text.charAt(d-1))&&d--;for(var v=null,m=null,i=0;i<o.length;i++){var p=o[i];if(!(p.from>=d||p.to<=h)){var y=mr(e,r,1!=p.level?Math.min(d,p.to)-1:Math.max(h,p.from)).right,w=y<l?l-y+1e9:y-l;(!v||m>w)&&(v=p,m=w)}}return v||(v=o[o.length-1]),v.from<h&&(v={from:h,to:v.to,level:v.level}),v.to>d&&(v={from:v.from,to:d,level:v.level}),v}function Vr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==yr){yr=R("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)yr.appendChild(document.createTextNode("x")),yr.appendChild(R("br"));yr.appendChild(document.createTextNode("x"))}W(e.measure,yr);var t=yr.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),D(e.measure),t||1}function Kr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=R("span","xxxxxxxxxx"),pre=R("pre",[t],"CodeMirror-line-like");W(e.measure,pre);var rect=t.getBoundingClientRect(),n=(rect.right-rect.left)/10;return n>2&&(e.cachedCharWidth=n),n||10}function $r(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,l=t.gutters.firstChild,i=0;l;l=l.nextSibling,++i){var c=e.display.gutterSpecs[i].className;n[c]=l.offsetLeft+l.clientLeft+o,r[c]=l.clientWidth}return{fixedPos:Gr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Gr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function qr(e){var th=Vr(e.display),t=e.options.lineWrapping,n=t&&Math.max(5,e.display.scroller.clientWidth/Kr(e.display)-3);return function(line){if(gn(e.doc,line))return 0;var r=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(r+=line.widgets[i].height);return t?r+(Math.ceil(line.text.length/n)||1)*th:r+th}}function Yr(e){var t=e.doc,n=qr(e);t.iter((function(line){var e=n(line);e!=line.height&&ft(line,e)}))}function Qr(e,t,n,r){var o=e.display;if(!n&&"true"==We(t).getAttribute("cm-not-content"))return null;var l,c,f=o.lineSpace.getBoundingClientRect();try{l=t.clientX-f.left,c=t.clientY-f.top}catch(e){return null}var line,h=Rr(e,l,c);if(r&&h.xRel>0&&(line=lt(e.doc,h.line).text).length==h.ch){var d=Y(line,line.length,e.options.tabSize)-line.length;h=mt(h.line,Math.max(0,Math.round((l-ar(e.display).left)/Kr(e.display))-d))}return h}function Jr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var view=e.display.view,i=0;i<view.length;i++)if((t-=view[i].size)<0)return i}function Xr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)_t&&pn(e.doc,t)<o.viewTo&&ei(e);else if(n<=o.viewFrom)_t&&vn(e.doc,n+r)>o.viewFrom?ei(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)ei(e);else if(t<=o.viewFrom){var l=ti(e,n,n+r,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=r):ei(e)}else if(n>=o.viewTo){var c=ti(e,t,t,-1);c?(o.view=o.view.slice(0,c.index),o.viewTo=c.lineN):ei(e)}else{var f=ti(e,t,t,-1),h=ti(e,n,n+r,1);f&&h?(o.view=o.view.slice(0,f.index).concat(Dn(e,f.lineN,h.lineN)).concat(o.view.slice(h.index)),o.viewTo+=r):ei(e)}var d=o.externalMeasured;d&&(n<d.lineN?d.lineN+=r:t<d.lineN+d.size&&(o.externalMeasured=null))}function Zr(e,line,t){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&line>=r.lineN&&line<r.lineN+r.size&&(n.externalMeasured=null),!(line<n.viewFrom||line>=n.viewTo)){var o=n.view[Jr(e,line)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==J(l,t)&&l.push(t)}}}function ei(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ti(e,t,n,r){var o,l=Jr(e,t),view=e.display.view;if(!_t||n==e.doc.first+e.doc.size)return{index:l,lineN:n};for(var c=e.display.viewFrom,i=0;i<l;i++)c+=view[i].size;if(c!=t){if(r>0){if(l==view.length-1)return null;o=c+view[l].size-t,l++}else o=c-t;t+=o,n+=o}for(;pn(e.doc,n)!=n;){if(l==(r<0?0:view.length-1))return null;n+=r*view[l-(r<0?1:0)].size,l+=r}return{index:l,lineN:n}}function ni(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Dn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Dn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Jr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Dn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Jr(e,n)))),r.viewTo=n}function ri(e){for(var view=e.display.view,t=0,i=0;i<view.length;i++){var n=view[i];n.hidden||n.node&&!n.changes||++t}return t}function ii(e){e.display.input.showSelection(e.display.input.prepareSelection())}function oi(e,t){void 0===t&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),c=e.options.$customCursor;c&&(t=!0);for(var i=0;i<n.sel.ranges.length;i++)if(t||i!=n.sel.primIndex){var f=n.sel.ranges[i];if(!(f.from().line>=e.display.viewTo||f.to().line<e.display.viewFrom)){var h=f.empty();if(c){var head=c(e,f);head&&ai(e,head,o)}else(h||e.options.showCursorWhenSelecting)&&ai(e,f.head,o);h||ci(e,f,l)}}return r}function ai(e,head,output){var t=Pr(e,head,"div",null,null,!e.options.singleCursorHeightPerLine),cursor=output.appendChild(R("div"," ","CodeMirror-cursor"));if(cursor.style.left=t.left+"px",cursor.style.top=t.top+"px",cursor.style.height=Math.max(0,t.bottom-t.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var n=Ir(e,head,"div",null,null),r=n.right-n.left;cursor.style.width=(r>0?r:e.defaultCharWidth())+"px"}if(t.other){var o=output.appendChild(R("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=t.other.left+"px",o.style.top=t.other.top+"px",o.style.height=.85*(t.other.bottom-t.other.top)+"px"}}function si(a,b){return a.top-b.top||a.left-b.left}function ci(e,t,output){var n=e.display,r=e.doc,o=document.createDocumentFragment(),l=ar(e.display),c=l.left,f=Math.max(n.sizerWidth,lr(e)-n.sizer.offsetLeft)-l.right,h="ltr"==r.direction;function d(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(r-t)+"px"))}function v(line,t,n){var o,l,v=lt(r,line),m=v.text.length;function y(t,n){return Ir(e,mt(line,t),"div",v,n)}function w(t,n,r){var o=Br(e,v,null,t),l="ltr"==n==("after"==r)?"left":"right";return y("after"==r?o.begin:o.end-(/\s/.test(v.text.charAt(o.end-1))?2:1),l)[l]}var x=ke(v,r.direction);return ye(x,t||0,null==n?m:n,(function(e,r,v,i){var k="ltr"==v,C=y(e,k?"left":"right"),S=y(r-1,k?"right":"left"),O=null==t&&0==e,L=null==n&&r==m,M=0==i,T=!x||i==x.length-1;if(S.top-C.top<=3){var N=(h?L:O)&&T,E=(h?O:L)&&M?c:(k?C:S).left,A=N?f:(k?S:C).right;d(E,C.top,A-E,C.bottom)}else{var j,I,P,D;k?(j=h&&O&&M?c:C.left,I=h?f:w(e,v,"before"),P=h?c:w(r,v,"after"),D=h&&L&&T?f:S.right):(j=h?w(e,v,"before"):c,I=!h&&O&&M?f:C.right,P=!h&&L&&T?c:S.left,D=h?w(r,v,"after"):f),d(j,C.top,I-j,C.bottom),C.bottom<S.top&&d(c,C.bottom,null,S.top),d(P,S.top,D-P,S.bottom)}(!o||si(C,o)<0)&&(o=C),si(S,o)<0&&(o=S),(!l||si(C,l)<0)&&(l=C),si(S,l)<0&&(l=S)})),{start:o,end:l}}var m=t.from(),y=t.to();if(m.line==y.line)v(m.line,m.ch,y.ch);else{var w=lt(r,m.line),x=lt(r,y.line),k=fn(w)==fn(x),C=v(m.line,m.ch,k?w.text.length+1:null).end,S=v(y.line,k?0:null,y.ch).start;k&&(C.top<S.top-2?(d(C.right,C.top,null,C.bottom),d(c,S.top,S.left,S.bottom)):d(C.right,C.top,S.left-C.right,C.bottom)),C.bottom<S.top&&d(c,C.bottom,null,S.top)}output.appendChild(o)}function ui(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||pi(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function fi(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||di(e))}function hi(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&pi(e))}),100)}function di(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Me(e,"focus",e,t),e.state.focused=!0,z(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),h&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),ui(e))}function pi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Me(e,"blur",e,t),e.state.focused=!1,P(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function vi(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,l=0,i=0;i<t.view.length;i++){var h=t.view[i],d=e.options.lineWrapping,v=void 0,m=0;if(!h.hidden){if(o+=h.line.height,c&&f<8){var y=h.node.offsetTop+h.node.offsetHeight;v=y-n,n=y}else{var w=h.node.getBoundingClientRect();v=w.bottom-w.top,!d&&h.text.firstChild&&(m=h.text.firstChild.getBoundingClientRect().right-w.left-1)}var x=h.line.height-v;if((x>.005||x<-.005)&&(o<r&&(l-=x),ft(h.line,v),gi(h.line),h.rest))for(var k=0;k<h.rest.length;k++)gi(h.rest[k]);if(m>e.display.sizerWidth){var C=Math.ceil(m/Kr(e.display));C>e.display.maxLineLength&&(e.display.maxLineLength=C,e.display.maxLine=h.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function gi(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){var e=line.widgets[i],t=e.node.parentNode;t&&(e.height=t.offsetHeight)}}function mi(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-ir(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,l=pt(t,r),c=pt(t,o);if(n&&n.ensure){var f=n.ensure.from.line,h=n.ensure.to.line;f<l?(l=f,c=pt(t,yn(lt(t,f))+e.wrapper.clientHeight)):Math.min(h,t.lastLine())>=c&&(l=pt(t,yn(lt(t,h))-e.wrapper.clientHeight),c=h)}return{from:l,to:Math.max(c,l+1)}}function yi(e,rect){if(!Te(e,"scrollCursorIntoView")){var t=e.display,n=t.sizer.getBoundingClientRect(),r=null,o=t.wrapper.ownerDocument;if(rect.top+n.top<0?r=!0:rect.bottom+n.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(r=!1),null!=r&&!k){var l=R("div","​",null,"position: absolute;\n                         top: "+(rect.top-t.viewOffset-ir(e.display))+"px;\n                         height: "+(rect.bottom-rect.top+sr(e)+t.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(r),e.display.lineSpace.removeChild(l)}}}function bi(e,t,n,r){var rect;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?mt(t.line,t.ch+1,"before"):t,t=t.ch?mt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var l=!1,c=Pr(e,t),f=n&&n!=t?Pr(e,n):c,h=xi(e,rect={left:Math.min(c.left,f.left),top:Math.min(c.top,f.top)-r,right:Math.max(c.left,f.left),bottom:Math.max(c.bottom,f.bottom)+r}),d=e.doc.scrollTop,v=e.doc.scrollLeft;if(null!=h.scrollTop&&(Ti(e,h.scrollTop),Math.abs(e.doc.scrollTop-d)>1&&(l=!0)),null!=h.scrollLeft&&(Ei(e,h.scrollLeft),Math.abs(e.doc.scrollLeft-v)>1&&(l=!0)),!l)break}return rect}function wi(e,rect){var t=xi(e,rect);null!=t.scrollTop&&Ti(e,t.scrollTop),null!=t.scrollLeft&&Ei(e,t.scrollLeft)}function xi(e,rect){var t=e.display,n=Vr(e.display);rect.top<0&&(rect.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:t.scroller.scrollTop,o=cr(e),l={};rect.bottom-rect.top>o&&(rect.bottom=rect.top+o);var c=e.doc.height+or(t),f=rect.top<n,h=rect.bottom>c-n;if(rect.top<r)l.scrollTop=f?0:rect.top;else if(rect.bottom>r+o){var d=Math.min(rect.top,(h?c:rect.bottom)-o);d!=r&&(l.scrollTop=d)}var v=e.options.fixedGutter?0:t.gutters.offsetWidth,m=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:t.scroller.scrollLeft-v,y=lr(e)-t.gutters.offsetWidth,w=rect.right-rect.left>y;return w&&(rect.right=rect.left+y),rect.left<10?l.scrollLeft=0:rect.left<m?l.scrollLeft=Math.max(0,rect.left+v-(w?0:10)):rect.right>y+m-3&&(l.scrollLeft=rect.right+(w?0:10)-y),l}function ki(e,t){null!=t&&(Li(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ci(e){Li(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Si(e,t,n){null==t&&null==n||Li(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Oi(e,t){Li(e),e.curOp.scrollToPos=t}function Li(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mi(e,Dr(e,t.from),Dr(e,t.to),t.margin))}function Mi(e,t,n,r){var o=xi(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Si(e,o.scrollLeft,o.scrollTop)}function Ti(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||oo(e,{top:t}),Ni(e,t,!0),n&&oo(e),Ji(e,100))}function Ni(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ei(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,co(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ai(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+or(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+sr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var ji=function(e,t,n){this.cm=n;var r=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),Se(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),Se(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,c&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ji.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},ji.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ji.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ji.prototype.zeroWidthHack=function(){var e=L&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Q,this.disableVert=new Q},ji.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},ji.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ii=function(){};function Pi(e,t){t||(t=Ai(e));var n=e.display.barWidth,r=e.display.barHeight;Di(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&vi(e),Di(e,Ai(e)),n=e.display.barWidth,r=e.display.barHeight}function Di(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ii.prototype.update=function(){return{bottom:0,right:0}},Ii.prototype.setScrollLeft=function(){},Ii.prototype.setScrollTop=function(){},Ii.prototype.clear=function(){};var Wi={native:ji,null:Ii};function Ri(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Wi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Se(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Ei(e,t):Ti(e,t)}),e),e.display.scrollbars.addClass&&z(e.display.wrapper,e.display.scrollbars.addClass)}var Fi=0;function Bi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Fi,markArrays:null},Rn(e.curOp)}function Hi(e){var t=e.curOp;t&&Bn(t,(function(e){for(var i=0;i<e.ops.length;i++)e.ops[i].cm.curOp=null;zi(e)}))}function zi(e){for(var t=e.ops,i=0;i<t.length;i++)_i(t[i]);for(var n=0;n<t.length;n++)Ui(t[n]);for(var r=0;r<t.length;r++)Vi(t[r]);for(var o=0;o<t.length;o++)Ki(t[o]);for(var l=0;l<t.length;l++)$i(t[l])}function _i(e){var t=e.cm,n=t.display;eo(t),e.updateMaxLine&&wn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Zi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ui(e){e.updatedDisplay=e.mustUpdate&&ro(e.cm,e.update)}function Vi(e){var t=e.cm,n=t.display;e.updatedDisplay&&vi(t),e.barMeasure=Ai(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=pr(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+sr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-lr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ki(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ei(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==H(V(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Pi(t,e.barMeasure),e.updatedDisplay&&lo(t,e.barMeasure),e.selectionChanged&&ui(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&fi(e.cm)}function $i(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&io(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Ni(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ei(t,e.scrollLeft,!0,!0),e.scrollToPos&&yi(t,bi(t,St(r,e.scrollToPos.from),St(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var i=0;i<o.length;++i)o[i].lines.length||Me(o[i],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&Me(l[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Gi(e,t){if(e.curOp)return t();Bi(e);try{return t()}finally{Hi(e)}}function qi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Bi(e);try{return t.apply(e,arguments)}finally{Hi(e)}}}function Yi(e){return function(){if(this.curOp)return e.apply(this,arguments);Bi(this);try{return e.apply(this,arguments)}finally{Hi(this)}}}function Qi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Bi(t);try{return e.apply(this,arguments)}finally{Hi(t)}}}function Ji(e,time){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(time,$(Xi,e))}function Xi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=At(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(line){if(r.line>=e.display.viewFrom){var l=line.styles,c=line.text.length>e.options.maxHighlightLength?it(t.mode,r.state):null,f=Nt(e,line,r,!0);c&&(r.state=c),line.styles=f.styles;var h=line.styleClasses,d=f.classes;d?line.styleClasses=d:h&&(line.styleClasses=null);for(var v=!l||l.length!=line.styles.length||h!=d&&(!h||!d||h.bgClass!=d.bgClass||h.textClass!=d.textClass),i=0;!v&&i<l.length;++i)v=l[i]!=line.styles[i];v&&o.push(r.line),line.stateAfter=r.save(),r.nextLine()}else line.text.length<=e.options.maxHighlightLength&&jt(e,line.text,r),line.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Ji(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Gi(e,(function(){for(var i=0;i<o.length;i++)Zr(e,o[i],"text")}))}}var Zi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=mi(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=lr(e),this.force=n,this.dims=$r(e),this.events=[]};function eo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=sr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=sr(e)+"px",t.scrollbarsClipped=!0)}function to(e){if(e.hasFocus())return null;var t=H(V(e));if(!t||!B(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=K(e).getSelection();r.anchorNode&&r.extend&&B(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function no(e){if(e&&e.activeElt&&e.activeElt!=H(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&B(document.body,e.anchorNode)&&B(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function ro(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return ei(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ri(e))return!1;uo(e)&&(ei(e),t.dims=$r(e));var o=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),c=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>c&&n.viewTo-c<20&&(c=Math.min(o,n.viewTo)),_t&&(l=pn(e.doc,l),c=vn(e.doc,c));var f=l!=n.viewFrom||c!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;ni(e,l,c),n.viewOffset=yn(lt(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var h=ri(e);if(!f&&0==h&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var d=to(e);return h>4&&(n.lineDiv.style.display="none"),ao(e,n.updateLineNumbers,t.dims),h>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,no(d),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,f&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ji(e,400)),n.updateLineNumbers=null,!0}function io(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=lr(e))r&&(t.visible=mi(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+or(e.display)-cr(e),n.top)}),t.visible=mi(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ro(e,t))break;vi(e);var o=Ai(e);ii(e),Pi(e,o),lo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function oo(e,t){var n=new Zi(e,t);if(ro(e,n)){vi(e),io(e,n);var r=Ai(e);ii(e),Pi(e,r),lo(e,r),n.finish()}}function ao(e,t,n){var r=e.display,o=e.options.lineNumbers,l=r.lineDiv,c=l.firstChild;function f(t){var n=t.nextSibling;return h&&L&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var view=r.view,d=r.viewFrom,i=0;i<view.length;i++){var v=view[i];if(v.hidden);else if(v.node&&v.node.parentNode==l){for(;c!=v.node;)c=f(c);var m=o&&null!=t&&t<=d&&v.lineNumber;v.changes&&(J(v.changes,"gutter")>-1&&(m=!1),Un(e,v,d,n)),m&&(D(v.lineNumber),v.lineNumber.appendChild(document.createTextNode(gt(e.options,d)))),c=v.node.nextSibling}else{var y=Jn(e,v,d,n);l.insertBefore(y,c)}d+=v.size}for(;c;)c=f(c)}function so(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",zn(e,"gutterChanged",e)}function lo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+sr(e)+"px"}function co(e){var t=e.display,view=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Gr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",i=0;i<view.length;i++)if(!view[i].hidden){e.options.fixedGutter&&(view[i].gutter&&(view[i].gutter.style.left=o),view[i].gutterBackground&&(view[i].gutterBackground.style.left=o));var l=view[i].alignable;if(l)for(var c=0;c<l.length;c++)l[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function uo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=gt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(R("div",[R("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,c=o.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-c)+1,r.lineNumWidth=r.lineNumInnerWidth+c,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",so(e.display),!0}return!1}function fo(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],style=null;if("string"!=typeof o&&(style=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:style})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function ho(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],o=r.className,style=r.style,l=t.appendChild(R("div",null,"CodeMirror-gutter "+o));style&&(l.style.cssText=style),"CodeMirror-linenumbers"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",so(e)}function po(e){ho(e.display),Xr(e),co(e)}function vo(e,t,input,r){var o=this;this.input=input,o.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=F("div",null,"CodeMirror-code"),o.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=R("div",null,"CodeMirror-cursors"),o.measure=R("div",null,"CodeMirror-measure"),o.lineMeasure=R("div",null,"CodeMirror-measure"),o.lineSpace=F("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=F("div",[o.lineSpace],"CodeMirror-lines");o.mover=R("div",[l],null,"position: relative"),o.sizer=R("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=R("div",null,null,"position: absolute; height: "+X+"px; width: 1px;"),o.gutters=R("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=R("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=R("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),v&&m>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),c&&f<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),h||n&&O||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=fo(r.gutters,r.lineNumbers),ho(o),input.init(o)}Zi.prototype.signal=function(e,t){Ee(e,t)&&this.events.push(arguments)},Zi.prototype.finish=function(){for(var i=0;i<this.events.length;i++)Me.apply(null,this.events[i])};var go=0,mo=null;function yo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function bo(e){var t=yo(e);return t.x*=mo,t.y*=mo,t}function wo(e,t){v&&102==m&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var r=yo(t),o=r.x,l=r.y,c=mo;0===t.deltaMode&&(o=t.deltaX,l=t.deltaY,c=1);var f=e.display,d=f.scroller,w=d.scrollWidth>d.clientWidth,x=d.scrollHeight>d.clientHeight;if(o&&w||l&&x){if(l&&L&&h)e:for(var k=t.target,view=f.view;k!=d;k=k.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==k){e.display.currentWheelTarget=k;break e}if(o&&!n&&!y&&null!=c)return l&&x&&Ti(e,Math.max(0,d.scrollTop+l*c)),Ei(e,Math.max(0,d.scrollLeft+o*c)),(!l||l&&x)&&je(t),void(f.wheelStartX=null);if(l&&null!=c){var C=l*c,S=e.doc.scrollTop,O=S+f.wrapper.clientHeight;C<0?S=Math.max(0,S+C-50):O=Math.min(e.doc.height,O+C+50),oo(e,{top:S,bottom:O})}go<20&&0!==t.deltaMode&&(null==f.wheelStartX?(f.wheelStartX=d.scrollLeft,f.wheelStartY=d.scrollTop,f.wheelDX=o,f.wheelDY=l,setTimeout((function(){if(null!=f.wheelStartX){var e=d.scrollLeft-f.wheelStartX,t=d.scrollTop-f.wheelStartY,n=t&&f.wheelDY&&t/f.wheelDY||e&&f.wheelDX&&e/f.wheelDX;f.wheelStartX=f.wheelStartY=null,n&&(mo=(mo*go+n)/(go+1),++go)}}),200)):(f.wheelDX+=o,f.wheelDY+=l))}}c?mo=-.53:n?mo=15:v?mo=-.7:w&&(mo=-1/3);var xo=function(e,t){this.ranges=e,this.primIndex=t};xo.prototype.primary=function(){return this.ranges[this.primIndex]},xo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var t=this.ranges[i],n=e.ranges[i];if(!bt(t.anchor,n.anchor)||!bt(t.head,n.head))return!1}return!0},xo.prototype.deepCopy=function(){for(var e=[],i=0;i<this.ranges.length;i++)e[i]=new ko(wt(this.ranges[i].anchor),wt(this.ranges[i].head));return new xo(e,this.primIndex)},xo.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},xo.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(yt(t,n.from())>=0&&yt(e,n.to())<=0)return i}return-1};var ko=function(e,head){this.anchor=e,this.head=head};function Co(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(a,b){return yt(a.from(),b.from())})),n=J(t,o);for(var i=1;i<t.length;i++){var l=t[i],c=t[i-1],f=yt(c.to(),l.from());if(r&&!l.empty()?f>0:f>=0){var h=kt(c.from(),l.from()),d=xt(c.to(),l.to()),v=c.empty()?l.from()==l.head:c.from()==c.head;i<=n&&--n,t.splice(--i,2,new ko(v?d:h,v?h:d))}}return new xo(t,n)}function So(e,head){return new xo([new ko(e,head||e)],0)}function Oo(e){return e.text?mt(e.from.line+e.text.length-1,ae(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Lo(e,t){if(yt(e,t.from)<0)return e;if(yt(e,t.to)<=0)return Oo(t);var line=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Oo(t).ch-t.to.ch),mt(line,n)}function Mo(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new ko(Lo(r.anchor,t),Lo(r.head,t)))}return Co(e.cm,n,e.sel.primIndex)}function To(e,t,n){return e.line==t.line?mt(n.line,e.ch-t.ch+n.ch):mt(n.line+(e.line-t.line),e.ch)}function No(e,t,n){for(var r=[],o=mt(e.first,0),l=o,i=0;i<t.length;i++){var c=t[i],f=To(c.from,o,l),h=To(Oo(c),o,l);if(o=c.to,l=h,"around"==n){var d=e.sel.ranges[i],v=yt(d.head,d.anchor)<0;r[i]=new ko(v?h:f,v?f:h)}else r[i]=new ko(f,f)}return new xo(r,e.sel.primIndex)}function Eo(e){e.doc.mode=et(e.options,e.doc.modeOption),Ao(e)}function Ao(e){e.doc.iter((function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ji(e,100),e.state.modeGen++,e.curOp&&Xr(e)}function jo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ae(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Io(e,t,n,r){function o(e){return n?n[e]:null}function l(line,text,e){kn(line,text,e,r),zn(line,"change",line,t)}function c(e,t){for(var n=[],i=e;i<t;++i)n.push(new xn(text[i],o(i),r));return n}var f=t.from,h=t.to,text=t.text,d=lt(e,f.line),v=lt(e,h.line),m=ae(text),y=o(text.length-1),w=h.line-f.line;if(t.full)e.insert(0,c(0,text.length)),e.remove(text.length,e.size-text.length);else if(jo(e,t)){var x=c(0,text.length-1);l(v,v.text,y),w&&e.remove(f.line,w),x.length&&e.insert(f.line,x)}else if(d==v)if(1==text.length)l(d,d.text.slice(0,f.ch)+m+d.text.slice(h.ch),y);else{var k=c(1,text.length-1);k.push(new xn(m+d.text.slice(h.ch),y,r)),l(d,d.text.slice(0,f.ch)+text[0],o(0)),e.insert(f.line+1,k)}else if(1==text.length)l(d,d.text.slice(0,f.ch)+text[0]+v.text.slice(h.ch),o(0)),e.remove(f.line+1,w);else{l(d,d.text.slice(0,f.ch)+text[0],o(0)),l(v,m+v.text.slice(h.ch),y);var C=c(1,text.length-1);w>1&&e.remove(f.line+1,w-1),e.insert(f.line+1,C)}zn(e,"change",e,t)}function Po(e,t,n){function r(e,o,l){if(e.linked)for(var i=0;i<e.linked.length;++i){var c=e.linked[i];if(c.doc!=o){var f=l&&c.sharedHist;n&&!f||(t(c.doc,f),r(c.doc,e,f))}}}r(e,null,!0)}function Do(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Yr(e),Eo(e),Wo(e),e.options.direction=t.direction,e.options.lineWrapping||wn(e),e.options.mode=t.modeOption,Xr(e)}function Wo(e){("rtl"==e.doc.direction?z:P)(e.display.lineDiv,"CodeMirror-rtl")}function Ro(e){Gi(e,(function(){Wo(e),Xr(e)}))}function Fo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Bo(e,t){var n={from:wt(t.from),to:Oo(t),text:ct(e,t.from,t.to)};return $o(e,n,t.from.line,t.to.line+1),Po(e,(function(e){return $o(e,n,t.from.line,t.to.line+1)}),!0),n}function Ho(e){for(;e.length&&ae(e).ranges;)e.pop()}function zo(e,t){return t?(Ho(e.done),ae(e.done)):e.done.length&&!ae(e.done).ranges?ae(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ae(e.done)):void 0}function _o(e,t,n,r){var o=e.history;o.undone.length=0;var l,c,time=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>time-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(l=zo(o,o.lastOp==r)))c=ae(l.changes),0==yt(t.from,t.to)&&0==yt(t.from,c.to)?c.to=Oo(t):l.changes.push(Bo(e,t));else{var f=ae(o.done);for(f&&f.ranges||Ko(e.sel,o.done),l={changes:[Bo(e,t)],generation:o.generation},o.done.push(l);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=time,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,c||Me(e,"historyAdded")}function Uo(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Vo(e,t,n,r){var o=e.history,l=r&&r.origin;n==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||Uo(e,l,ae(o.done),t))?o.done[o.done.length-1]=t:Ko(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ho(o.undone)}function Ko(e,t){var n=ae(t);n&&n.ranges&&n.equals(e)||t.push(e)}function $o(e,t,n,r){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(line){line.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=line.markedSpans),++l}))}function Go(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function qo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Go(n[i]));return r}function Yo(e,t){var n=qo(e,t),r=Jt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],l=r[i];if(o&&l)e:for(var c=0;c<l.length;++c){for(var span=l[c],f=0;f<o.length;++f)if(o[f].marker==span.marker)continue e;o.push(span)}else l&&(n[i]=l)}return n}function Qo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?xo.prototype.deepCopy.call(o):o);else{var l=o.changes,c=[];r.push({changes:c});for(var f=0;f<l.length;++f){var h=l[f],d=void 0;if(c.push({from:h.from,to:h.to,text:h.text}),t)for(var v in h)(d=v.match(/^spans_(\d+)$/))&&J(t,Number(d[1]))>-1&&(ae(c)[v]=h[v],delete h[v])}}}return r}function Jo(e,head,t,n){if(n){var r=e.anchor;if(t){var o=yt(head,r)<0;o!=yt(t,r)<0?(r=head,head=t):o!=yt(head,t)<0&&(head=t)}return new ko(r,head)}return new ko(t||head,head)}function Xo(e,head,t,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),ia(e,new xo([Jo(e.sel.primary(),head,t,r)],0),n)}function Zo(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Jo(e.sel.ranges[i],t[i],null,o);ia(e,Co(e.cm,r,e.sel.primIndex),n)}function ea(e,i,t,n){var r=e.sel.ranges.slice(0);r[i]=t,ia(e,Co(e.cm,r,e.sel.primIndex),n)}function ta(e,t,head,n){ia(e,So(t,head),n)}function na(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new ko(St(e,t[i].anchor),St(e,t[i].head))},origin:n&&n.origin};return Me(e,"beforeSelectionChange",e,r),e.cm&&Me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Co(e.cm,r.ranges,r.ranges.length-1):t}function ra(e,t,n){var r=e.history.done,o=ae(r);o&&o.ranges?(r[r.length-1]=t,oa(e,t,n)):ia(e,t,n)}function ia(e,t,n){oa(e,t,n),Vo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function oa(e,t,n){(Ee(e,"beforeSelectionChange")||e.cm&&Ee(e.cm,"beforeSelectionChange"))&&(t=na(e,t,n));var r=n&&n.bias||(yt(t.primary().head,e.sel.primary().head)<0?-1:1);aa(e,la(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Ci(e.cm)}function aa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Ne(e.cm)),zn(e,"cursorActivity",e))}function sa(e){aa(e,la(e,e.sel,null,!1))}function la(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var l=t.ranges[i],c=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],f=ua(e,l.anchor,c&&c.anchor,n,r),h=l.head==l.anchor?f:ua(e,l.head,c&&c.head,n,r);(o||f!=l.anchor||h!=l.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new ko(f,h))}return o?Co(e.cm,o,t.primIndex):t}function ca(e,t,n,r,o){var line=lt(e,t.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var l=line.markedSpans[i],c=l.marker,f="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,h="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==l.from||(f?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(h?l.to>=t.ch:l.to>t.ch))){if(o&&(Me(c,"beforeCursorEnter"),c.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!c.atomic)continue;if(n){var d=c.find(r<0?1:-1),v=void 0;if((r<0?h:f)&&(d=fa(e,d,-r,d&&d.line==t.line?line:null)),d&&d.line==t.line&&(v=yt(d,n))&&(r<0?v<0:v>0))return ca(e,d,t,r,o)}var m=c.find(r<0?-1:1);return(r<0?f:h)&&(m=fa(e,m,r,m.line==t.line?line:null)),m?ca(e,m,t,r,o):null}}return t}function ua(e,t,n,r,o){var l=r||1,c=ca(e,t,n,l,o)||!o&&ca(e,t,n,l,!0)||ca(e,t,n,-l,o)||!o&&ca(e,t,n,-l,!0);return c||(e.cantEdit=!0,mt(e.first,0))}function fa(e,t,n,line){return n<0&&0==t.ch?t.line>e.first?St(e,mt(t.line-1)):null:n>0&&t.ch==(line||lt(e,t.line)).text.length?t.line<e.first+e.size-1?mt(t.line+1,0):null:new mt(t.line,t.ch+n)}function ha(e){e.setSelection(mt(e.firstLine(),0),mt(e.lastLine()),ee)}function da(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,text,o){t&&(r.from=St(e,t)),n&&(r.to=St(e,n)),text&&(r.text=text),void 0!==o&&(r.origin=o)}),Me(e,"beforeChange",e,r),e.cm&&Me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function pa(e,t,n){if(e.cm){if(!e.cm.curOp)return qi(e.cm,pa)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"))||(t=da(e,t,!0))){var r=zt&&!n&&Zt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)va(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else va(e,t)}}function va(e,t){if(1!=t.text.length||""!=t.text[0]||0!=yt(t.from,t.to)){var n=Mo(e,t);_o(e,t,n,e.cm?e.cm.curOp.id:NaN),ya(e,t,n,Jt(e,t));var r=[];Po(e,(function(e,n){n||-1!=J(r,e.history)||(Ca(e.history,t),r.push(e.history)),ya(e,t,null,Jt(e,t))}))}}function ga(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,l=e.history,c=e.sel,source="undo"==t?l.done:l.undone,f="undo"==t?l.undone:l.done,i=0;i<source.length&&(o=source[i],n?!o.ranges||o.equals(e.sel):o.ranges);i++);if(i!=source.length){for(l.lastOrigin=l.lastSelOrigin=null;;){if(!(o=source.pop()).ranges){if(r)return void source.push(o);break}if(Ko(o,f),n&&!o.equals(e.sel))return void ia(e,o,{clearRedo:!1});c=o}var h=[];Ko(c,f),f.push({changes:h,generation:l.generation}),l.generation=o.generation||++l.maxGeneration;for(var filter=Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"),d=function(i){var n=o.changes[i];if(n.origin=t,filter&&!da(e,n,!1))return source.length=0,{};h.push(Bo(e,n));var r=i?Mo(e,n):ae(source);ya(e,n,r,Yo(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Oo(n)});var l=[];Po(e,(function(e,t){t||-1!=J(l,e.history)||(Ca(e.history,n),l.push(e.history)),ya(e,n,null,Yo(e,n))}))},v=o.changes.length-1;v>=0;--v){var m=d(v);if(m)return m.v}}}}function ma(e,t){if(0!=t&&(e.first+=t,e.sel=new xo(map(e.sel.ranges,(function(e){return new ko(mt(e.anchor.line+t,e.anchor.ch),mt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Xr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Zr(e.cm,r,"gutter")}}function ya(e,t,n,r){if(e.cm&&!e.cm.curOp)return qi(e.cm,ya)(e,t,n,r);if(t.to.line<e.first)ma(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ma(e,o),t={from:mt(e.first,0),to:mt(t.to.line+o,t.to.ch),text:[ae(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:mt(l,lt(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ct(e,t.from,t.to),n||(n=Mo(e,t)),e.cm?ba(e.cm,t,r):Io(e,t,r),oa(e,n,ee),e.cantEdit&&ua(e,mt(e.firstLine(),0))&&(e.cantEdit=!1)}}function ba(e,t,n){var r=e.doc,o=e.display,l=t.from,c=t.to,f=!1,h=l.line;e.options.lineWrapping||(h=ht(fn(lt(r,l.line))),r.iter(h,c.line+1,(function(line){if(line==o.maxLine)return f=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&Ne(e),Io(r,t,n,qr(e)),e.options.lineWrapping||(r.iter(h,l.line+t.text.length,(function(line){var e=bn(line);e>o.maxLineLength&&(o.maxLine=line,o.maxLineLength=e,o.maxLineChanged=!0,f=!1)})),f&&(e.curOp.updateMaxLine=!0)),Ht(r,l.line),Ji(e,400);var d=t.text.length-(c.line-l.line)-1;t.full?Xr(e):l.line!=c.line||1!=t.text.length||jo(e.doc,t)?Xr(e,l.line,c.line+1,d):Zr(e,l.line,"text");var v=Ee(e,"changes"),m=Ee(e,"change");if(m||v){var y={from:l,to:c,text:t.text,removed:t.removed,origin:t.origin};m&&zn(e,"change",e,y),v&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(y)}e.display.selForContextMenu=null}function wa(e,code,t,n,r){var o;n||(n=t),yt(n,t)<0&&(t=(o=[n,t])[0],n=o[1]),"string"==typeof code&&(code=e.splitLines(code)),pa(e,{from:t,to:n,text:code,origin:r})}function xa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ka(e,t,n,r){for(var i=0;i<e.length;++i){var sub=e[i],o=!0;if(sub.ranges){sub.copied||((sub=e[i]=sub.deepCopy()).copied=!0);for(var l=0;l<sub.ranges.length;l++)xa(sub.ranges[l].anchor,t,n,r),xa(sub.ranges[l].head,t,n,r)}else{for(var c=0;c<sub.changes.length;++c){var f=sub.changes[c];if(n<f.from.line)f.from=mt(f.from.line+r,f.from.ch),f.to=mt(f.to.line+r,f.to.ch);else if(t<=f.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function Ca(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ka(e.done,n,r,o),ka(e.undone,n,r,o)}function Sa(e,t,n,r){var o=t,line=t;return"number"==typeof t?line=lt(e,Ct(e,t)):o=ht(t),null==o?null:(r(line,o)&&e.cm&&Zr(e.cm,o,n),line)}function Oa(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function La(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}ko.prototype.from=function(){return kt(this.anchor,this.head)},ko.prototype.to=function(){return xt(this.anchor,this.head)},ko.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Oa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var line=this.lines[i];this.height-=line.height,Cn(line),zn(line,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},La.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Oa))){var c=[];this.collapse(c),this.children=[new Oa(c)],this.children[0].parent=this}},collapse:function(e){for(var i=0;i<this.children.length;++i)this.children[i].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var l=r.lines.length%25+25,c=l;c<r.lines.length;){var f=new Oa(r.lines.slice(c,c+=25));r.height-=f.height,this.children.splice(++i,0,f),f.parent=this}r.lines=r.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new La(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=J(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new La(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var l=Math.min(t,o-e);if(r.iterN(e,l,n))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var Ma=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function Ta(e,line,t){yn(line)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ki(e,t)}function Na(e,t,n,r){var o=new Ma(e,n,r),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),Sa(e,t,"widget",(function(line){var t=line.widgets||(line.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length,Math.max(0,o.insertAt)),0,o),o.line=line,l&&!gn(e,line)){var n=yn(line)<e.scrollTop;ft(line,line.height+nr(o)),n&&ki(l,o.height),l.curOp.forceUpdate=!0}return!0})),l&&zn(l,"lineWidgetAdded",l,o,"number"==typeof t?t:ht(t)),o}Ma.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,line=this.line,n=ht(line);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(line.widgets=null);var r=nr(this);ft(line,Math.max(0,line.height-r)),e&&(Gi(e,(function(){Ta(e,line,-r),Zr(e,n,"widget")})),zn(e,"lineWidgetCleared",e,this,n))}},Ma.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,line=this.line;this.height=null;var r=nr(this)-t;r&&(gn(this.doc,line)||ft(line,line.height+r),n&&Gi(n,(function(){n.curOp.forceUpdate=!0,Ta(n,line,r),zn(n,"lineWidgetChanged",n,e,ht(line))})))},Ae(Ma);var Ea=0,Aa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ea};function ja(e,t,n,r,o){if(r&&r.shared)return Pa(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return qi(e.cm,ja)(e,t,n,r,o);var marker=new Aa(e,o),l=yt(t,n);if(r&&G(r,marker,!1),l>0||0==l&&!1!==marker.clearWhenEmpty)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=F("span",[marker.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||marker.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(un(e,t.line,t,n,marker)||t.line!=n.line&&un(e,n.line,t,n,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");Vt()}marker.addToHistory&&_o(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var c,f=t.line,h=e.cm;if(e.iter(f,n.line+1,(function(line){h&&marker.collapsed&&!h.options.lineWrapping&&fn(line)==h.display.maxLine&&(c=!0),marker.collapsed&&f!=t.line&&ft(line,0),qt(line,new Kt(marker,f==t.line?t.ch:null,f==n.line?n.ch:null),e.cm&&e.cm.curOp),++f})),marker.collapsed&&e.iter(t.line,n.line+1,(function(line){gn(e,line)&&ft(line,0)})),marker.clearOnEnter&&Se(marker,"beforeCursorEnter",(function(){return marker.clear()})),marker.readOnly&&(Ut(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),marker.collapsed&&(marker.id=++Ea,marker.atomic=!0),h){if(c&&(h.curOp.updateMaxLine=!0),marker.collapsed)Xr(h,t.line,n.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title)for(var i=t.line;i<=n.line;i++)Zr(h,i,"text");marker.atomic&&sa(h.doc),zn(h,"markerAdded",h,marker)}return marker}Aa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Bi(e),Ee(this,"clear")){var n=this.find();n&&zn(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=$t(line.markedSpans,this);e&&!this.collapsed?Zr(e,ht(line),"text"):e&&(null!=span.to&&(o=ht(line)),null!=span.from&&(r=ht(line))),line.markedSpans=Gt(line.markedSpans,span),null==span.from&&this.collapsed&&!gn(this.doc,line)&&e&&ft(line,Vr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=fn(this.lines[l]),f=bn(c);f>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=f,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Xr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&sa(e.doc)),e&&zn(e,"markerCleared",e,this,r,o),t&&Hi(e),this.parent&&this.parent.clear()}},Aa.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var line=this.lines[i],span=$t(line.markedSpans,this);if(null!=span.from&&(n=mt(t?line:ht(line),span.from),-1==e))return n;if(null!=span.to&&(r=mt(t?line:ht(line),span.to),1==e))return r}return n&&{from:n,to:r}},Aa.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Gi(r,(function(){var line=t.line,o=ht(t.line),view=vr(r,o);if(view&&(Or(view),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!gn(n.doc,line)&&null!=n.height){var l=n.height;n.height=null;var c=nr(n)-l;c&&ft(line,line.height+c)}zn(r,"markerChanged",r,e)}))},Aa.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=J(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},Aa.prototype.detachLine=function(line){if(this.lines.splice(J(this.lines,line),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Ae(Aa);var Ia=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function Pa(e,t,n,r,o){(r=G(r)).shared=!1;var l=[ja(e,t,n,r,o)],c=l[0],f=r.widgetNode;return Po(e,(function(e){f&&(r.widgetNode=f.cloneNode(!0)),l.push(ja(e,St(e,t),St(e,n),r,o));for(var i=0;i<e.linked.length;++i)if(e.linked[i].isParent)return;c=ae(l)})),new Ia(l,c)}function Da(e){return e.findMarks(mt(e.first,0),e.clipPos(mt(e.lastLine())),(function(e){return e.parent}))}function Wa(e,t){for(var i=0;i<t.length;i++){var marker=t[i],n=marker.find(),r=e.clipPos(n.from),o=e.clipPos(n.to);if(yt(r,o)){var l=ja(e,r,o,marker.primary,marker.primary.type);marker.markers.push(l),l.parent=marker}}}function Ra(e){for(var t=function(i){var marker=e[i],t=[marker.primary.doc];Po(marker.primary.doc,(function(e){return t.push(e)}));for(var n=0;n<marker.markers.length;n++){var r=marker.markers[n];-1==J(t,r.doc)&&(r.parent=null,marker.markers.splice(n--,1))}},i=0;i<e.length;i++)t(i)}Ia.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();zn(this,"clear")}},Ia.prototype.find=function(e,t){return this.primary.find(e,t)},Ae(Ia);var Fa=0,Ba=function(text,e,t,n,r){if(!(this instanceof Ba))return new Ba(text,e,t,n,r);null==t&&(t=0),La.call(this,[new Oa([new xn("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=t;var o=mt(t,0);this.sel=So(o),this.history=new Fo(null),this.id=++Fa,this.modeOption=e,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof text&&(text=this.splitLines(text)),Io(this,{from:o,to:o,text:text}),ia(this,So(o),ee)};Ba.prototype=ce(La.prototype,{constructor:Ba,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ut(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Qi((function(code){var e=mt(this.first,0),t=this.first+this.size-1;pa(this,{from:e,to:mt(t,lt(this,t).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0),this.cm&&Si(this.cm,0,0),ia(this,So(e),ee)})),replaceRange:function(code,e,t,n){wa(this,code,e=St(this,e),t=t?St(this,t):e,n)},getRange:function(e,t,n){var r=ct(this,St(this,e),St(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(line){var e=this.getLineHandle(line);return e&&e.text},getLineHandle:function(line){if(vt(this,line))return lt(this,line)},getLineNumber:function(line){return ht(line)},getLineHandleVisualStart:function(line){return"number"==typeof line&&(line=lt(this,line)),fn(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return St(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qi((function(line,e,t){ta(this,St(this,"number"==typeof line?mt(line,e||0):line),null,t)})),setSelection:Qi((function(e,head,t){ta(this,St(this,e),St(this,head||e),t)})),extendSelection:Qi((function(head,e,t){Xo(this,St(this,head),e&&St(this,e),t)})),extendSelections:Qi((function(e,t){Zo(this,Lt(this,e),t)})),extendSelectionsBy:Qi((function(e,t){Zo(this,Lt(this,map(this.sel.ranges,e)),t)})),setSelections:Qi((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new ko(St(this,e[i].anchor),St(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ia(this,Co(this.cm,r,t),n)}})),addSelection:Qi((function(e,head,t){var n=this.sel.ranges.slice(0);n.push(new ko(St(this,e),St(this,head||e))),ia(this,Co(this.cm,n,n.length-1),t)})),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=ct(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=ct(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(code,e,t){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=code;this.replaceSelections(n,e,t||"+input")},replaceSelections:Qi((function(code,e,t){for(var n=[],r=this.sel,i=0;i<r.ranges.length;i++){var o=r.ranges[i];n[i]={from:o.from(),to:o.to(),text:this.splitLines(code[i]),origin:t}}for(var l=e&&"end"!=e&&No(this,n,e),c=n.length-1;c>=0;c--)pa(this,n[c]);l?ra(this,l):this.cm&&Ci(this.cm)})),undo:Qi((function(){ga(this,"undo")})),redo:Qi((function(){ga(this,"redo")})),undoSelection:Qi((function(){ga(this,"undo",!0)})),redoSelection:Qi((function(){ga(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Fo(this.history),Po(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Qo(this.history.done),undone:Qo(this.history.undone)}},setHistory:function(e){var t=this.history=new Fo(this.history);t.done=Qo(e.done.slice(0),null,!0),t.undone=Qo(e.undone.slice(0),null,!0)},setGutterMarker:Qi((function(line,e,t){return Sa(this,line,"gutter",(function(line){var n=line.gutterMarkers||(line.gutterMarkers={});return n[e]=t,!t&&de(n)&&(line.gutterMarkers=null),!0}))})),clearGutter:Qi((function(e){var t=this;this.iter((function(line){line.gutterMarkers&&line.gutterMarkers[e]&&Sa(t,line,"gutter",(function(){return line.gutterMarkers[e]=null,de(line.gutterMarkers)&&(line.gutterMarkers=null),!0}))}))})),lineInfo:function(line){var e;if("number"==typeof line){if(!vt(this,line))return null;if(e=line,!(line=lt(this,line)))return null}else if(null==(e=ht(line)))return null;return{line:e,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:Qi((function(e,t,n){return Sa(this,e,"gutter"==t?"gutter":"class",(function(line){var e="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(line[e]){if(j(n).test(line[e]))return!1;line[e]+=" "+n}else line[e]=n;return!0}))})),removeLineClass:Qi((function(e,t,n){return Sa(this,e,"gutter"==t?"gutter":"class",(function(line){var e="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=line[e];if(!r)return!1;if(null==n)line[e]=null;else{var o=r.match(j(n));if(!o)return!1;var l=o.index+o[0].length;line[e]=r.slice(0,o.index)+(o.index&&l!=r.length?" ":"")+r.slice(l)||null}return!0}))})),addLineWidget:Qi((function(e,t,n){return Na(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ja(this,St(this,e),St(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ja(this,e=St(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=lt(this,(e=St(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var span=n[i];(null==span.from||span.from<=e.ch)&&(null==span.to||span.to>=e.ch)&&t.push(span.marker.parent||span.marker)}return t},findMarks:function(e,t,filter){e=St(this,e),t=St(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,(function(line){var o=line.markedSpans;if(o)for(var i=0;i<o.length;i++){var span=o[i];null!=span.to&&r==e.line&&e.ch>=span.to||null==span.from&&r!=e.line||null!=span.from&&r==t.line&&span.from>=t.ch||filter&&!filter(span.marker)||n.push(span.marker.parent||span.marker)}++r})),n},getAllMarks:function(){var e=[];return this.iter((function(line){var t=line.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&e.push(t[i].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(line){var o=line.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),St(this,mt(n,t))},indexFromPos:function(e){var t=(e=St(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(line){t+=line.text.length+n})),t},copy:function(e){var t=new Ba(ut(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ba(ut(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Wa(r,Da(this)),r},unlinkDoc:function(e){if(e instanceof Xs&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(this.linked[i].doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Ra(Da(this));break}if(e.history==this.history){var t=[e.id];Po(e,(function(e){return t.push(e.id)}),!0),e.history=new Fo(null),e.history.done=Qo(this.history.done,t),e.history.undone=Qo(this.history.undone,t)}},iterLinkedDocs:function(e){Po(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ve(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qi((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(line){return line.order=null})),this.cm&&Ro(this.cm))}))}),Ba.prototype.eachLine=Ba.prototype.iter;var Ha=0;function za(e){var t=this;if(Va(t),!Te(t,e)&&!rr(t.display,e)){je(e),c&&(Ha=+new Date);var n=Qr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,text=Array(o),l=0,f=function(){++l==o&&qi(t,(function(){var e={from:n=St(t.doc,n),to:n,text:t.doc.splitLines(text.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};pa(t.doc,e),ra(t.doc,So(St(t.doc,n),St(t.doc,Oo(e))))}))()},h=function(e,i){if(t.options.allowDropFileTypes&&-1==J(t.options.allowDropFileTypes,e.type))f();else{var n=new FileReader;n.onerror=function(){return f()},n.onload=function(){var content=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(content)||(text[i]=content),f()},n.readAsText(e)}},i=0;i<r.length;i++)h(r[i],i);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var v;if(t.state.draggingText&&!t.state.draggingText.copy&&(v=t.listSelections()),oa(t.doc,So(n,n)),v)for(var m=0;m<v.length;++m)wa(t.doc,"",v[m].anchor,v[m].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _a(e,t){if(c&&(!e.state.draggingText||+new Date-Ha<100))De(t);else if(!Te(e,t)&&!rr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!w)){var img=R("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",y&&(img.width=img.height=1,e.display.wrapper.appendChild(img),img._top=img.offsetTop),t.dataTransfer.setDragImage(img,0,0),y&&img.parentNode.removeChild(img)}}function Ua(e,t){var n=Qr(e,t);if(n){var r=document.createDocumentFragment();ai(e,n,r),e.display.dragCursor||(e.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),W(e.display.dragCursor,r)}}function Va(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ka(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<t.length;i++){var r=t[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var i=0;i<n.length;i++)e(n[i])}))}}var $a=!1;function Ga(){$a||(qa(),$a=!0)}function qa(){var e;Se(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ka(Ya)}),100))})),Se(window,"blur",(function(){return Ka(pi)}))}function Ya(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Qa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;i<10;i++)Qa[i+48]=Qa[i+96]=String(i);for(var Ja=65;Ja<=90;Ja++)Qa[Ja]=String.fromCharCode(Ja);for(var Xa=1;Xa<=12;Xa++)Qa[Xa+111]=Qa[Xa+63235]="F"+Xa;var Za={};function es(e){var t,n,r,o,l=e.split(/-(?!$)/);e=l[l.length-1];for(var i=0;i<l.length-1;i++){var c=l[i];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else{if(!/^s(hift)?$/i.test(c))throw new Error("Unrecognized modifier name: "+c);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function ts(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=map(n.split(" "),es),i=0;i<o.length;i++){var l=void 0,c=void 0;i==o.length-1?(c=o.join(" "),l=r):(c=o.slice(0,i+1).join(" "),l="...");var f=t[c];if(f){if(f!=l)throw new Error("Inconsistent bindings for "+c)}else t[c]=l}delete e[n]}for(var h in t)e[h]=t[h];return e}function ns(e,map,t,n){var r=(map=as(map)).call?map.call(e,n):map[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&t(r))return"handled";if(map.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map.fallthrough))return ns(e,map.fallthrough,t,n);for(var i=0;i<map.fallthrough.length;i++){var o=ns(e,map.fallthrough[i],t,n);if(o)return o}}}function rs(e){var t="string"==typeof e?e:Qa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function is(e,t,n){var base=e;return t.altKey&&"Alt"!=base&&(e="Alt-"+e),(E?t.metaKey:t.ctrlKey)&&"Ctrl"!=base&&(e="Ctrl-"+e),(E?t.ctrlKey:t.metaKey)&&"Mod"!=base&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=base&&(e="Shift-"+e),e}function os(e,t){if(y&&34==e.keyCode&&e.char)return!1;var n=Qa[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),is(n,e,t))}function as(e){return"string"==typeof e?Za[e]:e}function ss(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&yt(o.from,ae(r).to)<=0;){var l=r.pop();if(yt(l.from,o.from)<0){o.from=l.from;break}}r.push(o)}Gi(e,(function(){for(var i=r.length-1;i>=0;i--)wa(e.doc,"",r[i].from,r[i].to,"+delete");Ci(e)}))}function ls(line,e,t){var n=ge(line.text,e+t,t);return n<0||n>line.text.length?null:n}function cs(line,e,t){var n=ls(line,e.ch,t);return null==n?null:new mt(e.line,n,t<0?"after":"before")}function us(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var l=ke(n,t.doc.direction);if(l){var c,f=o<0?ae(l):l[0],h=o<0==(1==f.level)?"after":"before";if(f.level>0||"rtl"==t.doc.direction){var d=gr(t,n);c=o<0?n.text.length-1:0;var v=mr(t,d,c).top;c=me((function(e){return mr(t,d,e).top==v}),o<0==(1==f.level)?f.from:f.to-1,c),"before"==h&&(c=ls(n,c,1))}else c=o<0?f.to:f.from;return new mt(r,c,h)}}return new mt(r,o<0?n.text.length:0,o<0?"before":"after")}function fs(e,line,t,n){var r=ke(line,e.doc.direction);if(!r)return cs(line,t,n);t.ch>=line.text.length?(t.ch=line.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var o=we(r,t.ch,t.sticky),l=r[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>t.ch:l.from<t.ch))return cs(line,t,n);var c,f=function(e,t){return ls(line,e instanceof mt?e.ch:e,t)},h=function(t){return e.options.lineWrapping?(c=c||gr(e,line),Br(e,line,c,t)):{begin:0,end:line.text.length}},d=h("before"==t.sticky?f(t,-1):t.ch);if("rtl"==e.doc.direction||1==l.level){var v=1==l.level==n<0,m=f(t,v?1:-1);if(null!=m&&(v?m<=l.to&&m<=d.end:m>=l.from&&m>=d.begin)){var y=v?"before":"after";return new mt(t.line,m,y)}}var w=function(e,n,o){for(var l=function(e,n){return n?new mt(t.line,f(e,1),"before"):new mt(t.line,e,"after")};e>=0&&e<r.length;e+=n){var c=r[e],h=n>0==(1!=c.level),d=h?o.begin:f(o.end,-1);if(c.from<=d&&d<c.to)return l(d,h);if(d=h?c.from:f(c.to,-1),o.begin<=d&&d<o.end)return l(d,h)}},x=w(o+n,n,d);if(x)return x;var k=n>0?d.end:f(d.begin,-1);return null==k||n>0&&k==line.text.length||!(x=w(n>0?0:r.length-1,n,h(k)))?null:x}Za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Za.default=L?Za.macDefault:Za.pcDefault;var hs={selectAll:ha,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ee)},killLine:function(e){return ss(e,(function(t){if(t.empty()){var n=lt(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:mt(t.head.line+1,0)}:{from:t.head,to:mt(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return ss(e,(function(t){return{from:mt(t.from().line,0),to:St(e.doc,mt(t.to().line+1,0))}}))},delLineLeft:function(e){return ss(e,(function(e){return{from:mt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return ss(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return ss(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(mt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(mt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ds(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return vs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return ps(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),ne)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),ne)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?vs(e,t.head):r}),ne)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),col=Y(e.getLine(o.line),o.ch,r);t.push(oe(r-col%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Gi(e,(function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,line=lt(e.doc,r.line).text;if(line)if(r.ch==line.length&&(r=new mt(r.line,r.ch-1)),r.ch>0)r=new mt(r.line,r.ch+1),e.replaceRange(line.charAt(r.ch-1)+line.charAt(r.ch-2),mt(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=lt(e.doc,r.line-1).text;o&&(r=new mt(r.line,1),e.replaceRange(line.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),mt(r.line-1,o.length-1),r,"+transpose"))}n.push(new ko(r,r))}e.setSelections(n)}))},newlineAndIndent:function(e){return Gi(e,(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ci(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ds(e,t){var line=lt(e.doc,t),n=fn(line);return n!=line&&(t=ht(n)),us(!0,e,n,t,1)}function ps(e,t){var line=lt(e.doc,t),n=hn(line);return n!=line&&(t=ht(n)),us(!0,e,line,t,-1)}function vs(e,t){var n=ds(e,t.line),line=lt(e.doc,n.line),r=ke(line,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,line.text.search(/\S/)),l=t.line==n.line&&t.ch<=o&&t.ch;return mt(n.line,l?0:o,n.sticky)}return n}function gs(e,t,n){if("string"==typeof t&&!(t=hs[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=Z}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ms(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=ns(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&ns(t,e.options.extraKeys,n,e)||ns(t,e.options.keyMap,n,e)}var ys=new Q;function bs(e,t,n,r){var o=e.state.keySeq;if(o){if(rs(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ys.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),ws(e,o+" "+t,n,r))return!0}return ws(e,t,n,r)}function ws(e,t,n,r){var o=ms(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&zn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(je(n),ui(e)),!!o}function xs(e,t){var n=os(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?bs(e,"Shift-"+n,t,(function(b){return gs(e,b,!0)}))||bs(e,n,t,(function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return gs(e,b)})):bs(e,n,t,(function(b){return gs(e,b)})))}function ks(e,t,n){return bs(e,"'"+n+"'",t,(function(b){return gs(e,b,!0)}))}var Cs=null;function Ss(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=H(V(t)),Te(t,e)))){c&&f<11&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;t.display.shift=16==code||e.shiftKey;var r=xs(t,e);y&&(Cs=r?code:null,r||88!=code||$e||!(L?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!L&&!r&&46==code&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=code||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Os(t)}}function Os(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(P(t,"CodeMirror-crosshair"),Le(document,"keyup",n),Le(document,"mouseover",n))}z(t,"CodeMirror-crosshair"),Se(document,"keyup",n),Se(document,"mouseover",n)}function Ls(e){16==e.keyCode&&(this.doc.sel.shift=!1),Te(this,e)}function Ms(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||rr(t.display,e)||Te(t,e)||e.ctrlKey&&!e.altKey||L&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(y&&n==Cs)return Cs=null,void je(e);if(!y||e.which&&!(e.which<10)||!xs(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(ks(t,e,o)||t.display.input.onKeyPress(e))}}}var Ts,Ns,Es=400,As=function(time,e,button){this.time=time,this.pos=e,this.button=button};function js(e,button){var t=+new Date;return Ns&&Ns.compare(t,e,button)?(Ts=Ns=null,"triple"):Ts&&Ts.compare(t,e,button)?(Ns=new As(t,e,button),Ts=null,"double"):(Ts=new As(t,e,button),Ns=null,"single")}function Is(e){var t=this,n=t.display;if(!(Te(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,rr(n,e))h||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!_s(t,e)){var r=Qr(t,e),button=Re(e),o=r?js(r,button):"single";K(t).focus(),1==button&&t.state.selectingText&&t.state.selectingText(e),r&&Ps(t,button,r,o,e)||(1==button?r?Ws(t,r,o,e):We(e)==n.scroller&&je(e):2==button?(r&&Xo(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==button&&(A?t.display.input.onContextMenu(e):hi(t)))}}function Ps(e,button,t,n,r){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),bs(e,is(o=(1==button?"Left":2==button?"Middle":"Right")+o,r),r,(function(n){if("string"==typeof n&&(n=hs[n]),!n)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=n(e,t)!=Z}finally{e.state.suppressEdits=!1}return r}))}function Ds(e,t,n){var option=e.getOption("configureMouse"),r=option?option(e,t,n):{};if(null==r.unit){var rect=M?n.shiftKey&&n.metaKey:n.altKey;r.unit=rect?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=L?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(L?n.altKey:n.ctrlKey)),r}function Ws(e,t,n,r){c?setTimeout($(fi,e),0):e.curOp.focus=H(V(e));var o,l=Ds(e,n,r),f=e.doc.sel;e.options.dragDrop&&He&&!e.isReadOnly()&&"single"==n&&(o=f.contains(t))>-1&&(yt((o=f.ranges[o]).from(),t)<0||t.xRel>0)&&(yt(o.to(),t)>0||t.xRel<0)?Rs(e,r,t,l):Bs(e,r,t,l)}function Rs(e,t,n,r){var o=e.display,l=!1,d=qi(e,(function(t){h&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:hi(e)),Le(o.wrapper.ownerDocument,"mouseup",d),Le(o.wrapper.ownerDocument,"mousemove",v),Le(o.scroller,"dragstart",m),Le(o.scroller,"drop",d),l||(je(t),r.addNew||Xo(e.doc,n,null,null,r.extend),h&&!w||c&&9==f?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),v=function(e){l=l||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},m=function(){return l=!0};h&&(o.scroller.draggable=!0),e.state.draggingText=d,d.copy=!r.moveOnDrag,Se(o.wrapper.ownerDocument,"mouseup",d),Se(o.wrapper.ownerDocument,"mousemove",v),Se(o.scroller,"dragstart",m),Se(o.scroller,"drop",d),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Fs(e,t,n){if("char"==n)return new ko(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ko(mt(t.line,0),St(e.doc,mt(t.line+1,0)));var r=n(e,t);return new ko(r.from,r.to)}function Bs(e,t,n,r){c&&hi(e);var o=e.display,l=e.doc;je(t);var f,h,d=l.sel,v=d.ranges;if(r.addNew&&!r.extend?(h=l.sel.contains(n),f=h>-1?v[h]:new ko(n,n)):(f=l.sel.primary(),h=l.sel.primIndex),"rectangle"==r.unit)r.addNew||(f=new ko(n,n)),n=Qr(e,t,!0,!0),h=-1;else{var m=Fs(e,n,r.unit);f=r.extend?Jo(f,m.anchor,m.head,r.extend):m}r.addNew?-1==h?(h=v.length,ia(l,Co(e,v.concat([f]),h),{scroll:!1,origin:"*mouse"})):v.length>1&&v[h].empty()&&"char"==r.unit&&!r.extend?(ia(l,Co(e,v.slice(0,h).concat(v.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),d=l.sel):ea(l,h,f,te):(h=0,ia(l,new xo([f],0),te),d=l.sel);var y=n;function w(t){if(0!=yt(y,t))if(y=t,"rectangle"==r.unit){for(var o=[],c=e.options.tabSize,v=Y(lt(l,n.line).text,n.ch,c),m=Y(lt(l,t.line).text,t.ch,c),w=Math.min(v,m),x=Math.max(v,m),line=Math.min(n.line,t.line),k=Math.min(e.lastLine(),Math.max(n.line,t.line));line<=k;line++){var text=lt(l,line).text,C=re(text,w,c);w==x?o.push(new ko(mt(line,C),mt(line,C))):text.length>C&&o.push(new ko(mt(line,C),mt(line,re(text,x,c))))}o.length||o.push(new ko(n,n)),ia(l,Co(e,d.ranges.slice(0,h).concat(o),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var head,S=f,O=Fs(e,t,r.unit),L=S.anchor;yt(O.anchor,L)>0?(head=O.head,L=kt(S.from(),O.anchor)):(head=O.anchor,L=xt(S.to(),O.head));var M=d.ranges.slice(0);M[h]=Hs(e,new ko(St(l,L),head)),ia(l,Co(e,M,h),te)}}var x=o.wrapper.getBoundingClientRect(),k=0;function C(t){var n=++k,c=Qr(e,t,!0,"rectangle"==r.unit);if(c)if(0!=yt(c,y)){e.curOp.focus=H(V(e)),w(c);var f=mi(o,l);(c.line>=f.to||c.line<f.from)&&setTimeout(qi(e,(function(){k==n&&C(t)})),150)}else{var h=t.clientY<x.top?-20:t.clientY>x.bottom?20:0;h&&setTimeout(qi(e,(function(){k==n&&(o.scroller.scrollTop+=h,C(t))})),50)}}function S(t){e.state.selectingText=!1,k=1/0,t&&(je(t),o.input.focus()),Le(o.wrapper.ownerDocument,"mousemove",O),Le(o.wrapper.ownerDocument,"mouseup",L),l.history.lastSelOrigin=null}var O=qi(e,(function(e){0!==e.buttons&&Re(e)?C(e):S(e)})),L=qi(e,S);e.state.selectingText=L,Se(o.wrapper.ownerDocument,"mousemove",O),Se(o.wrapper.ownerDocument,"mouseup",L)}function Hs(e,t){var n=t.anchor,head=t.head,r=lt(e.doc,n.line);if(0==yt(n,head)&&n.sticky==head.sticky)return t;var o=ke(r);if(!o)return t;var l=we(o,n.ch,n.sticky),c=o[l];if(c.from!=n.ch&&c.to!=n.ch)return t;var f,h=l+(c.from==n.ch==(1!=c.level)?0:1);if(0==h||h==o.length)return t;if(head.line!=n.line)f=(head.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var d=we(o,head.ch,head.sticky),v=d-l||(head.ch-n.ch)*(1==c.level?-1:1);f=d==h-1||d==h?v<0:v>0}var m=o[h+(f?-1:0)],y=f==(1==m.level),w=y?m.from:m.to,x=y?"after":"before";return n.ch==w&&n.sticky==x?t:new ko(new mt(n.line,w,x),head)}function zs(e,t,n,r){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch(e){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&je(t);var c=e.display,f=c.lineDiv.getBoundingClientRect();if(l>f.bottom||!Ee(e,n))return Pe(t);l-=f.top-c.viewOffset;for(var i=0;i<e.display.gutterSpecs.length;++i){var g=c.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=o)return Me(e,n,e,pt(e.doc,l),e.display.gutterSpecs[i].className,t),Pe(t)}}function _s(e,t){return zs(e,t,"gutterClick",!0)}function Us(e,t){rr(e.display,t)||Vs(e,t)||Te(e,t,"contextmenu")||A||e.display.input.onContextMenu(t)}function Vs(e,t){return!!Ee(e,"gutterContextMenu")&&zs(e,t,"gutterContextMenu",!1)}function Ks(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mr(e)}As.prototype.compare=function(time,e,button){return this.time+Es>time&&0==yt(e,this.pos)&&button==this.button};var $s={toString:function(){return"CodeMirror.Init"}},Gs={},qs={};function Ys(e){var t=e.optionHandlers;function option(n,r,o,l){e.defaults[n]=r,o&&(t[n]=l?function(e,t,n){n!=$s&&o(e,t,n)}:o)}e.defineOption=option,e.Init=$s,option("value","",(function(e,t){return e.setValue(t)}),!0),option("mode",null,(function(e,t){e.doc.modeOption=t,Eo(e)}),!0),option("indentUnit",2,Eo,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,(function(e){Ao(e),Mr(e),Xr(e)}),!0),option("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(line){for(var e=0;;){var o=line.text.indexOf(t,e);if(-1==o)break;e=o+t.length,n.push(mt(r,o))}r++}));for(var i=n.length-1;i>=0;i--)wa(e.doc,t,n[i],mt(n[i].line,n[i].ch+t.length))}})),option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=$s&&e.refresh()})),option("specialCharPlaceholder",Tn,(function(e){return e.refresh()}),!0),option("electricChars",!0),option("inputStyle",O?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),option("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),option("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),option("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),option("rtlMoveVisually",!T),option("wholeLineUpdateBefore",!0),option("theme","default",(function(e){Ks(e),po(e)}),!0),option("keyMap","default",(function(e,t,n){var r=as(t),o=n!=$s&&as(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),option("extraKeys",null),option("configureMouse",null),option("lineWrapping",!1,Js,!0),option("gutters",[],(function(e,t){e.display.gutterSpecs=fo(t,e.options.lineNumbers),po(e)}),!0),option("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Gr(e.display)+"px":"0",e.refresh()}),!0),option("coverGutterNextToScrollbar",!1,(function(e){return Pi(e)}),!0),option("scrollbarStyle","native",(function(e){Ri(e),Pi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),option("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=fo(e.options.gutters,t),po(e)}),!0),option("firstLineNumber",1,po,!0),option("lineNumberFormatter",(function(e){return e}),po,!0),option("showCursorWhenSelecting",!1,ii,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("pasteLinesPerSelection",!0),option("selectionsMayTouch",!1),option("readOnly",!1,(function(e,t){"nocursor"==t&&(pi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),option("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),option("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),option("dragDrop",!0,Qs),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,ii,!0),option("singleCursorHeightPerLine",!0,ii,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,Ao,!0),option("addModeClass",!1,Ao,!0),option("pollInterval",100),option("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),option("historyEventDelay",1250),option("viewportMargin",10,(function(e){return e.refresh()}),!0),option("maxHighlightLength",1e4,Ao,!0),option("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),option("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),option("autofocus",null),option("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),option("phrases",null)}function Qs(e,t,n){if(!t!=!(n&&n!=$s)){var r=e.display.dragFunctions,o=t?Se:Le;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Js(e){e.options.lineWrapping?(z(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(P(e.display.wrapper,"CodeMirror-wrap"),wn(e)),Yr(e),Xr(e),Mr(e),setTimeout((function(){return Pi(e)}),100)}function Xs(e,t){var n=this;if(!(this instanceof Xs))return new Xs(e,t);this.options=t=t?G(t):{},G(Gs,t,!1);var r=t.value;"string"==typeof r?r=new Ba(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var input=new Xs.inputStyles[t.inputStyle](this),o=this.display=new vo(e,r,input,t);for(var l in o.wrapper.CodeMirror=this,Ks(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ri(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Q,keySeq:null,specialChars:null},t.autofocus&&!O&&o.input.focus(),c&&f<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Zs(this),Ga(),Bi(this),this.curOp.forceUpdate=!0,Do(this,r),t.autofocus&&!O||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&di(n)}),20):pi(this),qs)qs.hasOwnProperty(l)&&qs[l](this,t[l],$s);uo(this),t.finishInit&&t.finishInit(this);for(var i=0;i<el.length;++i)el[i](this);Hi(this),h&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Zs(e){var t=e.display;Se(t.scroller,"mousedown",qi(e,Is)),Se(t.scroller,"dblclick",c&&f<11?qi(e,(function(t){if(!Te(e,t)){var n=Qr(e,t);if(n&&!_s(e,t)&&!rr(e.display,t)){je(t);var r=e.findWordAt(n);Xo(e.doc,r.anchor,r.head)}}})):function(t){return Te(e,t)||je(t)}),Se(t.scroller,"contextmenu",(function(t){return Us(e,t)})),Se(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Us(e,n)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function l(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function h(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}Se(t.scroller,"touchstart",(function(o){if(!Te(e,o)&&!l(o)&&!_s(e,o)){t.input.ensurePolled(),clearTimeout(n);var c=+new Date;t.activeTouch={start:c,moved:!1,prev:c-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),Se(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),Se(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!rr(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var l,c=e.coordsChar(t.activeTouch,"page");l=!r.prev||h(r,r.prev)?new ko(c,c):!r.prev.prev||h(r,r.prev.prev)?e.findWordAt(c):new ko(mt(c.line,0),St(e.doc,mt(c.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),je(n)}o()})),Se(t.scroller,"touchcancel",o),Se(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Ti(e,t.scroller.scrollTop),Ei(e,t.scroller.scrollLeft,!0),Me(e,"scroll",e))})),Se(t.scroller,"mousewheel",(function(t){return wo(e,t)})),Se(t.scroller,"DOMMouseScroll",(function(t){return wo(e,t)})),Se(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){Te(e,t)||De(t)},over:function(t){Te(e,t)||(Ua(e,t),De(t))},start:function(t){return _a(e,t)},drop:qi(e,za),leave:function(t){Te(e,t)||Va(e)}};var d=t.input.getField();Se(d,"keyup",(function(t){return Ls.call(e,t)})),Se(d,"keydown",qi(e,Ss)),Se(d,"keypress",qi(e,Ms)),Se(d,"focus",(function(t){return di(e,t)})),Se(d,"blur",(function(t){return pi(e,t)}))}Xs.defaults=Gs,Xs.optionHandlers=qs;var el=[];function tl(e,t,n,r){var o,l=e.doc;null==n&&(n="add"),"smart"==n&&(l.mode.indent?o=At(e,t).state:n="prev");var c=e.options.tabSize,line=lt(l,t),f=Y(line.text,null,c);line.stateAfter&&(line.stateAfter=null);var h,d=line.text.match(/^\s*/)[0];if(r||/\S/.test(line.text)){if("smart"==n&&((h=l.mode.indent(o,line.text.slice(d.length),line.text))==Z||h>150)){if(!r)return;n="prev"}}else h=0,n="not";"prev"==n?h=t>l.first?Y(lt(l,t-1).text,null,c):0:"add"==n?h=f+e.options.indentUnit:"subtract"==n?h=f-e.options.indentUnit:"number"==typeof n&&(h=f+n),h=Math.max(0,h);var v="",m=0;if(e.options.indentWithTabs)for(var i=Math.floor(h/c);i;--i)m+=c,v+="\t";if(m<h&&(v+=oe(h-m)),v!=d)return wa(l,v,mt(t,0),mt(t,d.length),"+input"),line.stateAfter=null,!0;for(var y=0;y<l.sel.ranges.length;y++){var w=l.sel.ranges[y];if(w.head.line==t&&w.head.ch<d.length){var x=mt(t,d.length);ea(l,y,new ko(x,x));break}}}Xs.defineInitHook=function(e){return el.push(e)};var nl=null;function rl(e){nl=e}function il(e,t,n,r,o){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var c=+new Date-200,f="paste"==o||e.state.pasteIncoming>c,h=Ve(t),d=null;if(f&&r.ranges.length>1)if(nl&&nl.text.join("\n")==t){if(r.ranges.length%nl.text.length==0){d=[];for(var i=0;i<nl.text.length;i++)d.push(l.splitLines(nl.text[i]))}}else h.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(d=map(h,(function(e){return[e]})));for(var v=e.curOp.updateInput,m=r.ranges.length-1;m>=0;m--){var y=r.ranges[m],w=y.from(),x=y.to();y.empty()&&(n&&n>0?w=mt(w.line,w.ch-n):e.state.overwrite&&!f?x=mt(x.line,Math.min(lt(l,x.line).text.length,x.ch+ae(h).length)):f&&nl&&nl.lineWise&&nl.text.join("\n")==h.join("\n")&&(w=x=mt(w.line,0)));var k={from:w,to:x,text:d?d[m%d.length]:h,origin:o||(f?"paste":e.state.cutIncoming>c?"cut":"+input")};pa(e.doc,k),zn(e,"inputRead",e,k)}t&&!f&&sl(e,t),Ci(e),e.curOp.updateInput<2&&(e.curOp.updateInput=v),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function al(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Gi(t,(function(){return il(t,n,0,null,"paste")})),!0}function sl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),l=!1;if(o.electricChars){for(var c=0;c<o.electricChars.length;c++)if(t.indexOf(o.electricChars.charAt(c))>-1){l=tl(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(lt(e.doc,r.head.line).text.slice(0,r.head.ch))&&(l=tl(e,r.head.line,"smart"));l&&zn(e,"electricInput",e,r.head.line)}}}function ll(e){for(var text=[],t=[],i=0;i<e.doc.sel.ranges.length;i++){var line=e.doc.sel.ranges[i].head.line,n={anchor:mt(line,0),head:mt(line+1,0)};t.push(n),text.push(e.getRange(n.anchor,n.head))}return{text:text,ranges:t}}function cl(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function fl(){var e=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),div=R("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?e.style.width="1000px":e.setAttribute("wrap","off"),C&&(e.style.border="1px solid black"),cl(e),div}function hl(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){K(this).focus(),this.display.input.focus()},setOption:function(option,e){var n=this.options,r=n[option];n[option]==e&&"mode"!=option||(n[option]=e,t.hasOwnProperty(option)&&qi(this,t[option])(this,e,r),Me(this,"optionChange",this,option))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,e){this.state.keyMaps[e?"push":"unshift"](as(map))},removeKeyMap:function(map){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==map||e[i].name==map)return e.splice(i,1),!0},addOverlay:Yi((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");se(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Xr(this)})),removeOverlay:Yi((function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Xr(this)}})),indentLine:Yi((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),vt(this.doc,e)&&tl(this,e,t,n)})),indentSelection:Yi((function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(tl(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ci(this));else{var o=r.from(),l=r.to(),c=Math.max(n,o.line);n=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var f=c;f<n;++f)tl(this,f,e);var h=this.doc.sel.ranges;0==o.ch&&t.length==h.length&&h[i].from().ch>0&&ea(this.doc,i,new ko(o,h[i].to()),ee)}}})),getTokenAt:function(e,t){return Wt(this,e,t)},getLineTokens:function(line,e){return Wt(this,mt(line),e,!0)},getTokenTypeAt:function(e){e=St(this.doc,e);var t,n=Et(this,lt(this.doc,e.line)),r=0,o=(n.length-1)/2,l=e.ch;if(0==l)t=n[2];else for(;;){var c=r+o>>1;if((c?n[2*c-1]:0)>=l)o=c;else{if(!(n[2*c+1]<l)){t=n[2*c+2];break}r=c+1}}var f=t?t.indexOf("overlay "):-1;return f<0?t:0==f?null:t.slice(0,f-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&r.push(o[l[t]]);else if(l[t])for(var i=0;i<l[t].length;i++){var c=o[l[t][i]];c&&r.push(c)}else l.helperType&&o[l.helperType]?r.push(o[l.helperType]):o[l.name]&&r.push(o[l.name]);for(var f=0;f<o._global.length;f++){var h=o._global[f];h.pred(l,this)&&-1==J(r,h.val)&&r.push(h.val)}return r},getStateAfter:function(line,e){var t=this.doc;return At(this,(line=Ct(t,null==line?t.first+t.size-1:line))+1,e).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Pr(this,null==e?n.head:"object"==typeof e?St(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Ir(this,St(this.doc,e),t||"page")},coordsChar:function(e,t){return Rr(this,(e=jr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=jr(this,{top:e,left:0},t||"page").top,pt(this.doc,e+this.display.viewOffset)},heightAtLine:function(line,e,t){var n,r=!1;if("number"==typeof line){var o=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>o&&(line=o,r=!0),n=lt(this.doc,line)}else n=line;return Ar(this,n,{top:0,left:0},e||"page",t||r).top+(r?this.doc.height-yn(n):0)},defaultTextHeight:function(){return Vr(this.display)},defaultCharWidth:function(){return Kr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var l=this.display,c=(e=Pr(this,St(this.doc,e))).bottom,f=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)c=e.top;else if("above"==r||"near"==r){var h=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(c=e.bottom),f+t.offsetWidth>d&&(f=d-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==o?(f=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?f=0:"middle"==o&&(f=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=f+"px"),n&&wi(this,{left:f,top:c,right:f+t.offsetWidth,bottom:c+t.offsetHeight})},triggerOnKeyDown:Yi(Ss),triggerOnKeyPress:Yi(Ms),triggerOnKeyUp:Ls,triggerOnMouseDown:Yi(Is),execCommand:function(e){if(hs.hasOwnProperty(e))return hs[e].call(null,this)},triggerElectric:Yi((function(text){sl(this,text)})),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var l=St(this.doc,e),i=0;i<t&&!(l=pl(this.doc,l,o,n,r)).hitSide;++i);return l},moveH:Yi((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?pl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),ne)})),deleteH:Yi((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ss(this,(function(n){var o=pl(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=1,l=r;t<0&&(o=-1,t=-t);for(var c=St(this.doc,e),i=0;i<t;++i){var f=Pr(this,c,"div");if(null==l?l=f.left:f.left=l,(c=vl(this,f,o,n)).hitSide)break}return c},moveV:Yi((function(e,t){var n=this,r=this.doc,o=[],l=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(c){if(l)return e<0?c.from():c.to();var f=Pr(n,c.head,"div");null!=c.goalColumn&&(f.left=c.goalColumn),o.push(f.left);var h=vl(n,f,e,t);return"page"==t&&c==r.sel.primary()&&ki(n,Ir(n,h,"div").top-f.top),h}),ne),o.length)for(var i=0;i<r.sel.ranges.length;i++)r.sel.ranges[i].goalColumn=o[i]})),findWordAt:function(e){var line=lt(this.doc,e.line).text,t=e.ch,n=e.ch;if(line){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=line.length||!t?++n:--t;for(var o=line.charAt(t),l=he(o,r)?function(e){return he(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!he(e)};t>0&&l(line.charAt(t-1));)--t;for(;n<line.length&&l(line.charAt(n));)++n}return new ko(mt(e.line,t),mt(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?z(this.display.cursorDiv,"CodeMirror-overwrite"):P(this.display.cursorDiv,"CodeMirror-overwrite"),Me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==H(V(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Yi((function(e,t){Si(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-sr(this)-this.display.barHeight,width:e.scrollWidth-sr(this)-this.display.barWidth,clientHeight:cr(this),clientWidth:lr(this)}},scrollIntoView:Yi((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:mt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Oi(this,e):Mi(this,e.from,e.to,e.margin)})),setSize:Yi((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Lr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){Zr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,Me(this,"refresh",this)})),operation:function(e){return Gi(this,e)},startOperation:function(){return Bi(this)},endOperation:function(){return Hi(this)},refresh:Yi((function(){var e=this.display.cachedTextHeight;Xr(this),this.curOp.forceUpdate=!0,Mr(this),Si(this,this.doc.scrollLeft,this.doc.scrollTop),so(this.display),(null==e||Math.abs(e-Vr(this.display))>.5||this.options.lineWrapping)&&Yr(this),Me(this,"refresh",this)})),swapDoc:Yi((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Do(this,e),Mr(this),this.display.input.reset(),Si(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,zn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ae(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,l){e.registerHelper(t,r,l),n[t]._global.push({pred:o,val:l})}}function pl(e,t,n,r,o){var l=t,c=n,f=lt(e,t.line),h=o&&"rtl"==e.direction?-n:n;function d(){var n=t.line+h;return!(n<e.first||n>=e.first+e.size)&&(t=new mt(n,t.ch,t.sticky),f=lt(e,n))}function v(l){var c;if("codepoint"==r){var v=f.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(v))c=null;else{var m=n>0?v>=55296&&v<56320:v>=56320&&v<57343;c=new mt(t.line,Math.max(0,Math.min(f.text.length,t.ch+n*(m?2:1))),-n)}}else c=o?fs(e.cm,f,t,n):cs(f,t,n);if(null==c){if(l||!d())return!1;t=us(o,e.cm,f,t.line,h)}else t=c;return!0}if("char"==r||"codepoint"==r)v();else if("column"==r)v(!0);else if("word"==r||"group"==r)for(var m=null,y="group"==r,w=e.cm&&e.cm.getHelper(t,"wordChars"),x=!0;!(n<0)||v(!x);x=!1){var k=f.text.charAt(t.ch)||"\n",C=he(k,w)?"w":y&&"\n"==k?"n":!y||/\s/.test(k)?null:"p";if(!y||x||C||(C="s"),m&&m!=C){n<0&&(n=1,v(),t.sticky="after");break}if(C&&(m=C),n>0&&!v(!x))break}var S=ua(e,t,l,c,!0);return bt(l,S)&&(S.hitSide=!0),S}function vl(e,t,n,r){var o,l,c=e.doc,f=t.left;if("page"==r){var h=Math.min(e.display.wrapper.clientHeight,K(e).innerHeight||c(e).documentElement.clientHeight),d=Math.max(h-.5*Vr(e.display),3);o=(n>0?t.bottom:t.top)+n*d}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;(l=Rr(e,f,o)).outside;){if(n<0?o<=0:o>=c.height){l.hitSide=!0;break}o+=5*n}return l}var gl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Q,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function ml(e,t){var view=vr(e,t.line);if(!view||view.hidden)return null;var line=lt(e.doc,t.line),n=fr(view,line,t.line),r=ke(line,e.doc.direction),o="left";r&&(o=we(r,t.ch)%2?"right":"left");var l=xr(n.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function yl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function bl(e,t){return t&&(e.bad=!0),e}function wl(e,t,n,r,o){var text="",l=!1,c=e.doc.lineSeparator(),f=!1;function h(e){return function(marker){return marker.id==e}}function d(){l&&(text+=c,f&&(text+=c),l=f=!1)}function v(e){e&&(d(),text+=e)}function m(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void v(n);var y,w=t.getAttribute("cm-marker");if(w){var x=e.findMarks(mt(r,0),mt(o+1,0),h(+w));return void(x.length&&(y=x[0].find(0))&&v(ct(e.doc,y.from,y.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;var k=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;k&&d();for(var i=0;i<t.childNodes.length;i++)m(t.childNodes[i]);/^(pre|p)$/i.test(t.nodeName)&&(f=!0),k&&(l=!0)}else 3==t.nodeType&&v(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;m(t),t!=n;)t=t.nextSibling,f=!1;return text}function xl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return bl(e.clipPos(mt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return kl(o,t,n)}}function kl(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!B(r,t))return bl(mt(ht(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var line=e.rest?ae(e.rest):e.line;return bl(mt(ht(line),line.text.length),o)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=r;)c=c.parentNode;var f=e.measure,h=f.maps;function d(t,n,r){for(var i=-1;i<(h?h.length:0);i++)for(var map=i<0?f.map:h[i],o=0;o<map.length;o+=3){var l=map[o+2];if(l==t||l==n){var line=ht(i<0?e.line:e.rest[i]),c=map[o]+r;return(r<0||l!=t)&&(c=map[o+(r?1:0)]),mt(line,c)}}}var v=d(l,c,n);if(v)return bl(v,o);for(var m=c.nextSibling,y=l?l.nodeValue.length-n:0;m;m=m.nextSibling){if(v=d(m,m.firstChild,0))return bl(mt(v.line,v.ch-y),o);y+=m.textContent.length}for(var w=c.previousSibling,x=n;w;w=w.previousSibling){if(v=d(w,w.firstChild,-1))return bl(mt(v.line,v.ch+x),o);x+=w.textContent.length}}gl.prototype.init=function(e){var t=this,input=this,n=input.cm,div=input.div=e.lineDiv;function r(e){for(var t=e.target;t;t=t.parentNode){if(t==div)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function o(e){if(r(e)&&!Te(n,e)){if(n.somethingSelected())rl({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ll(n);rl({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,ee),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var content=nl.text.join("\n");if(e.clipboardData.setData("Text",content),e.clipboardData.getData("Text")==content)return void e.preventDefault()}var o=fl(),l=o.firstChild;n.display.lineSpace.insertBefore(o,n.display.lineSpace.firstChild),l.value=nl.text.join("\n");var c=H(div.ownerDocument);U(l),setTimeout((function(){n.display.lineSpace.removeChild(o),c.focus(),c==div&&input.showPrimarySelection()}),50)}}div.contentEditable=!0,cl(div,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),Se(div,"paste",(function(e){!r(e)||Te(n,e)||al(e,n)||f<=11&&setTimeout(qi(n,(function(){return t.updateFromDOM()})),20)})),Se(div,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),Se(div,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),Se(div,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),Se(div,"touchstart",(function(){return input.forceCompositionEnd()})),Se(div,"input",(function(){t.composing||t.readFromDOMSoon()})),Se(div,"copy",o),Se(div,"cut",o)},gl.prototype.screenReaderLabelChanged=function(label){label?this.div.setAttribute("aria-label",label):this.div.removeAttribute("aria-label")},gl.prototype.prepareSelection=function(){var e=oi(this.cm,!1);return e.focus=H(this.div.ownerDocument)==this.div,e},gl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},gl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},gl.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),l=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||l.line<t.display.viewFrom)e.removeAllRanges();else{var c=xl(t,e.anchorNode,e.anchorOffset),f=xl(t,e.focusNode,e.focusOffset);if(!c||c.bad||!f||f.bad||0!=yt(kt(c,f),o)||0!=yt(xt(c,f),l)){var view=t.display.view,h=o.line>=t.display.viewFrom&&ml(t,o)||{node:view[0].measure.map[2],offset:0},d=l.line<t.display.viewTo&&ml(t,l);if(!d){var v=view[view.length-1].measure,map=v.maps?v.maps[v.maps.length-1]:v.map;d={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}if(h&&d){var m,y=e.rangeCount&&e.getRangeAt(0);try{m=I(h.node,h.offset,d.offset,d.node)}catch(e){}m&&(!n&&t.state.focused?(e.collapse(h.node,h.offset),m.collapsed||(e.removeAllRanges(),e.addRange(m))):(e.removeAllRanges(),e.addRange(m)),y&&null==e.anchorNode?e.addRange(y):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},gl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},gl.prototype.showMultipleSelections=function(e){W(this.cm.display.cursorDiv,e.cursors),W(this.cm.display.selectionDiv,e.selection)},gl.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},gl.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return B(this.div,t)},gl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&H(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},gl.prototype.blur=function(){this.div.blur()},gl.prototype.getField=function(){return this.div},gl.prototype.supportsTouch=function(){return!0},gl.prototype.receivedFocus=function(){var e=this,input=this;function t(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,t))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Gi(this.cm,(function(){return input.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},gl.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},gl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(S&&v&&this.cm.display.gutterSpecs.length&&yl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=xl(t,e.anchorNode,e.anchorOffset),head=xl(t,e.focusNode,e.focusOffset);n&&head&&Gi(t,(function(){ia(t.doc,So(n,head),ee),(n.bad||head.bad)&&(t.curOp.selectionChanged=!0)}))}}},gl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,l=r.doc.sel.primary(),c=l.from(),f=l.to();if(0==c.ch&&c.line>r.firstLine()&&(c=mt(c.line-1,lt(r.doc,c.line-1).length)),f.ch==lt(r.doc,f.line).text.length&&f.line<r.lastLine()&&(f=mt(f.line+1,0)),c.line<o.viewFrom||f.line>o.viewTo-1)return!1;c.line==o.viewFrom||0==(e=Jr(r,c.line))?(t=ht(o.view[0].line),n=o.view[0].node):(t=ht(o.view[e].line),n=o.view[e-1].node.nextSibling);var h,d,v=Jr(r,f.line);if(v==o.view.length-1?(h=o.viewTo-1,d=o.lineDiv.lastChild):(h=ht(o.view[v+1].line)-1,d=o.view[v+1].node.previousSibling),!n)return!1;for(var m=r.doc.splitLines(wl(r,n,d,t,h)),y=ct(r.doc,mt(t,0),mt(h,lt(r.doc,h).text.length));m.length>1&&y.length>1;)if(ae(m)==ae(y))m.pop(),y.pop(),h--;else{if(m[0]!=y[0])break;m.shift(),y.shift(),t++}for(var w=0,x=0,k=m[0],C=y[0],S=Math.min(k.length,C.length);w<S&&k.charCodeAt(w)==C.charCodeAt(w);)++w;for(var O=ae(m),L=ae(y),M=Math.min(O.length-(1==m.length?w:0),L.length-(1==y.length?w:0));x<M&&O.charCodeAt(O.length-x-1)==L.charCodeAt(L.length-x-1);)++x;if(1==m.length&&1==y.length&&t==c.line)for(;w&&w>c.ch&&O.charCodeAt(O.length-x-1)==L.charCodeAt(L.length-x-1);)w--,x++;m[m.length-1]=O.slice(0,O.length-x).replace(/^\u200b+/,""),m[0]=m[0].slice(w).replace(/\u200b+$/,"");var T=mt(t,w),N=mt(h,y.length?ae(y).length-x:0);return m.length>1||m[0]||yt(T,N)?(wa(r.doc,m,T,N,"+input"),!0):void 0},gl.prototype.ensurePolled=function(){this.forceCompositionEnd()},gl.prototype.reset=function(){this.forceCompositionEnd()},gl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},gl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},gl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Gi(this.cm,(function(){return Xr(e.cm)}))},gl.prototype.setUneditable=function(e){e.contentEditable="false"},gl.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||qi(this.cm,il)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},gl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},gl.prototype.onContextMenu=function(){},gl.prototype.resetPosition=function(){},gl.prototype.needsContentAttribute=!0;var Cl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Q,this.hasSelection=!1,this.composing=null,this.resetting=!1};function Sl(textarea,e){if((e=e?G(e):{}).value=textarea.value,!e.tabindex&&textarea.tabIndex&&(e.tabindex=textarea.tabIndex),!e.placeholder&&textarea.placeholder&&(e.placeholder=textarea.placeholder),null==e.autofocus){var t=H(textarea.ownerDocument);e.autofocus=t==textarea||null!=textarea.getAttribute("autofocus")&&t==document.body}function n(){textarea.value=l.getValue()}var r;if(textarea.form&&(Se(textarea.form,"submit",n),!e.leaveSubmitMethodAlone)){var form=textarea.form;r=form.submit;try{var o=form.submit=function(){n(),form.submit=r,form.submit(),form.submit=o}}catch(e){}}e.finishInit=function(t){t.save=n,t.getTextArea=function(){return textarea},t.toTextArea=function(){t.toTextArea=isNaN,n(),textarea.parentNode.removeChild(t.getWrapperElement()),textarea.style.display="",textarea.form&&(Le(textarea.form,"submit",n),e.leaveSubmitMethodAlone||"function"!=typeof textarea.form.submit||(textarea.form.submit=r))}},textarea.style.display="none";var l=Xs((function(e){return textarea.parentNode.insertBefore(e,textarea.nextSibling)}),e);return l}function Ol(e){e.off=Le,e.on=Se,e.wheelEventPixels=bo,e.Doc=Ba,e.splitLines=Ve,e.countColumn=Y,e.findColumn=re,e.isWordChar=fe,e.Pass=Z,e.signal=Me,e.Line=xn,e.changeEnd=Oo,e.scrollbarModel=Wi,e.Pos=mt,e.cmpPos=yt,e.modes=Ye,e.mimeModes=Qe,e.resolveMode=Ze,e.getMode=et,e.modeExtensions=tt,e.extendMode=nt,e.copyState=it,e.startState=at,e.innerMode=ot,e.commands=hs,e.keyMap=Za,e.keyName=os,e.isModifierKey=rs,e.lookupKey=ns,e.normalizeKeyMap=ts,e.StringStream=st,e.SharedTextMarker=Ia,e.TextMarker=Aa,e.LineWidget=Ma,e.e_preventDefault=je,e.e_stopPropagation=Ie,e.e_stop=De,e.addClass=z,e.contains=B,e.rmClass=P,e.keyNames=Qa}Cl.prototype.init=function(e){var t=this,input=this,n=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!Te(n,e)){if(n.somethingSelected())rl({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=ll(n);rl({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,ee):(input.prevInput="",r.value=t.text.join("\n"),U(r))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),C&&(r.style.width="0px"),Se(r,"input",(function(){c&&f>=9&&t.hasSelection&&(t.hasSelection=null),input.poll()})),Se(r,"paste",(function(e){Te(n,e)||al(e,n)||(n.state.pasteIncoming=+new Date,input.fastPoll())})),Se(r,"cut",o),Se(r,"copy",o),Se(e.scroller,"paste",(function(t){if(!rr(e,t)&&!Te(n,t)){if(!r.dispatchEvent)return n.state.pasteIncoming=+new Date,void input.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}})),Se(e.lineSpace,"selectstart",(function(t){rr(e,t)||je(t)})),Se(r,"compositionstart",(function(){var e=n.getCursor("from");input.composing&&input.composing.range.clear(),input.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),Se(r,"compositionend",(function(){input.composing&&(input.poll(),input.composing.range.clear(),input.composing=null)}))},Cl.prototype.createField=function(e){this.wrapper=fl(),this.textarea=this.wrapper.firstChild},Cl.prototype.screenReaderLabelChanged=function(label){label?this.textarea.setAttribute("aria-label",label):this.textarea.removeAttribute("aria-label")},Cl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=oi(e);if(e.options.moveInputWithCursor){var o=Pr(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),c=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+c.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+c.left-l.left))}return r},Cl.prototype.showSelection=function(e){var t=this.cm.display;W(t.cursorDiv,e.cursors),W(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Cl.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var content=t.getSelection();this.textarea.value=content,t.state.focused&&U(this.textarea),c&&f>=9&&(this.hasSelection=content)}else e||(this.prevInput=this.textarea.value="",c&&f>=9&&(this.hasSelection=null));this.resetting=!1}},Cl.prototype.getField=function(){return this.textarea},Cl.prototype.supportsTouch=function(){return!1},Cl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!O||H(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},Cl.prototype.blur=function(){this.textarea.blur()},Cl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Cl.prototype.receivedFocus=function(){this.slowPoll()},Cl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Cl.prototype.fastPoll=function(){var e=!1,input=this;function p(){input.poll()||e?(input.pollingFast=!1,input.slowPoll()):(e=!0,input.polling.set(60,p))}input.pollingFast=!0,input.polling.set(20,p)},Cl.prototype.poll=function(){var e=this,t=this.cm,input=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Ke(input)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var text=input.value;if(text==n&&!t.somethingSelected())return!1;if(c&&f>=9&&this.hasSelection===text||L&&/[\uf700-\uf7ff]/.test(text))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=text.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(n.length,text.length);o<l&&n.charCodeAt(o)==text.charCodeAt(o);)++o;return Gi(t,(function(){il(t,text.slice(o),n.length-o,null,e.composing?"*compose":null),text.length>1e3||text.indexOf("\n")>-1?input.value=e.prevInput="":e.prevInput=text,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Cl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Cl.prototype.onKeyPress=function(){c&&f>=9&&(this.hasSelection=null),this.fastPoll()},Cl.prototype.onContextMenu=function(e){var input=this,t=input.cm,n=t.display,r=input.textarea;input.contextMenuPending&&input.contextMenuPending();var o=Qr(t,e),l=n.scroller.scrollTop;if(o&&!y){t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(o)&&qi(t,ia)(t.doc,So(o),ee);var d,v=r.style.cssText,m=input.wrapper.style.cssText,w=input.wrapper.offsetParent.getBoundingClientRect();if(input.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-w.top-5)+"px; left: "+(e.clientX-w.left-5)+"px;\n      z-index: 1000; background: "+(c?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",h&&(d=r.ownerDocument.defaultView.scrollY),n.input.focus(),h&&r.ownerDocument.defaultView.scrollTo(null,d),n.input.reset(),t.somethingSelected()||(r.value=input.prevInput=" "),input.contextMenuPending=C,n.selForContextMenu=t.doc.sel,clearTimeout(n.detectingSelectAll),c&&f>=9&&k(),A){De(e);var x=function(){Le(window,"mouseup",x),setTimeout(C,20)};Se(window,"mouseup",x)}else setTimeout(C,50)}function k(){if(null!=r.selectionStart){var e=t.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,input.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,n.selForContextMenu=t.doc.sel}}function C(){if(input.contextMenuPending==C&&(input.contextMenuPending=!1,input.wrapper.style.cssText=m,r.style.cssText=v,c&&f<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=l),null!=r.selectionStart)){(!c||c&&f<9)&&k();var i=0,e=function(){n.selForContextMenu==t.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==input.prevInput?qi(t,ha)(t):i++<10?n.detectingSelectAll=setTimeout(e,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(e,200)}}},Cl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Cl.prototype.setUneditable=function(){},Cl.prototype.needsContentAttribute=!1,Ys(Xs),hl(Xs);var Ll="iter insert remove copy getEditor constructor".split(" ");for(var Ml in Ba.prototype)Ba.prototype.hasOwnProperty(Ml)&&J(Ll,Ml)<0&&(Xs.prototype[Ml]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ba.prototype[Ml]));return Ae(Ba),Xs.inputStyles={textarea:Cl,contenteditable:gl},Xs.defineMode=function(e){Xs.defaults.mode||"null"==e||(Xs.defaults.mode=e),Je.apply(this,arguments)},Xs.defineMIME=Xe,Xs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Xs.defineMIME("text/plain","null"),Xs.defineExtension=function(e,t){Xs.prototype[e]=t},Xs.defineDocExtension=function(e,t){Ba.prototype[e]=t},Xs.fromTextArea=Sl,Ol(Xs),Xs.version="5.65.9",Xs}()},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return te})),n.d(t,"o",(function(){return re})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return Y})),n.d(t,"r",(function(){return U})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return N})),n.d(t,"u",(function(){return ee})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return c}));var r=n(226);function o(e,t,n){return n?-1===n.indexOf("\n")?"".concat(e," #").concat(n):"".concat(e,"\n")+n.replace(/^/gm,"".concat(t||"","#")):e}var l=function e(){Object(r.j)(this,e)};function c(e,t,n){if(Array.isArray(e))return e.map((function(e,i){return c(e,String(i),n)}));if(e&&"function"==typeof e.toJSON){var r=n&&n.anchors&&n.anchors.get(e);r&&(n.onCreate=function(e){r.res=e,delete n.onCreate});var o=e.toJSON(t,n);return r&&n.onCreate&&n.onCreate(o),o}return n&&n.keep||"bigint"!=typeof e?e:Number(e)}var f=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){var o;return Object(r.j)(this,n),(o=t.call(this)).value=e,o}return Object(r.i)(n,[{key:"toJSON",value:function(e,t){return t&&t.keep?this.value:c(this.value,e,t)}},{key:"toString",value:function(){return String(this.value)}}]),n}(l);function h(e,path,t){for(var n=t,i=path.length-1;i>=0;--i){var r=path[i];if(Number.isInteger(r)&&r>=0){var a=[];a[r]=n,n=a}else{var o={};Object.defineProperty(o,r,{value:n,writable:!0,enumerable:!0,configurable:!0}),n=o}}return e.createNode(n,!1)}var d=function(path){return null==path||"object"===Object(r.h)(path)&&path[Symbol.iterator]().next().done},v=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){var o;return Object(r.j)(this,n),o=t.call(this),Object(r.l)(Object(r.w)(o),"items",[]),o.schema=e,o}return Object(r.i)(n,[{key:"addIn",value:function(path,e){if(d(path))this.add(e);else{var t=Object(r.x)(path),o=t[0],l=t.slice(1),c=this.get(o,!0);if(c instanceof n)c.addIn(l,e);else{if(void 0!==c||!this.schema)throw new Error("Expected YAML collection at ".concat(o,". Remaining path: ").concat(l));this.set(o,h(this.schema,l,e))}}}},{key:"deleteIn",value:function(e){var t=Object(r.x)(e),o=t[0],l=t.slice(1);if(0===l.length)return this.delete(o);var c=this.get(o,!0);if(c instanceof n)return c.deleteIn(l);throw new Error("Expected YAML collection at ".concat(o,". Remaining path: ").concat(l))}},{key:"getIn",value:function(e,t){var o=Object(r.x)(e),l=o[0],c=o.slice(1),h=this.get(l,!0);return 0===c.length?!t&&h instanceof f?h.value:h:h instanceof n?h.getIn(c,t):void 0}},{key:"hasAllNullValues",value:function(){return this.items.every((function(e){if(!e||"PAIR"!==e.type)return!1;var t=e.value;return null==t||t instanceof f&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}},{key:"hasIn",value:function(e){var t=Object(r.x)(e),o=t[0],l=t.slice(1);if(0===l.length)return this.has(o);var c=this.get(o,!0);return c instanceof n&&c.hasIn(l)}},{key:"setIn",value:function(e,t){var o=Object(r.x)(e),l=o[0],c=o.slice(1);if(0===c.length)this.set(l,t);else{var f=this.get(l,!0);if(f instanceof n)f.setIn(c,t);else{if(void 0!==f||!this.schema)throw new Error("Expected YAML collection at ".concat(l,". Remaining path: ").concat(c));this.set(l,h(this.schema,c,t))}}}},{key:"toJSON",value:function(){return null}},{key:"toString",value:function(e,t,l,c){var f=this,h=t.blockItem,d=t.flowChars,v=t.isMap,m=t.itemIndent,y=e,w=y.indent,x=y.indentStep,k=y.stringify,C=this.type===r.e.FLOW_MAP||this.type===r.e.FLOW_SEQ||e.inFlow;C&&(m+=x);var S=v&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:S,indent:m,inFlow:C,type:null});var O,L=!1,M=!1,T=this.items.reduce((function(t,n,i){var r;n&&(!L&&n.spaceBefore&&t.push({type:"comment",str:""}),n.commentBefore&&n.commentBefore.match(/^.*$/gm).forEach((function(line){t.push({type:"comment",str:"#".concat(line)})})),n.comment&&(r=n.comment),C&&(!L&&n.spaceBefore||n.commentBefore||n.comment||n.key&&(n.key.commentBefore||n.key.comment)||n.value&&(n.value.commentBefore||n.value.comment))&&(M=!0)),L=!1;var l=k(n,e,(function(){return r=null}),(function(){return L=!0}));return C&&!M&&l.includes("\n")&&(M=!0),C&&i<f.items.length-1&&(l+=","),l=o(l,m,r),L&&(r||C)&&(L=!1),t.push({type:"item",str:l}),t}),[]);if(0===T.length)O=d.start+d.end;else if(C){var N=d.start,E=d.end,A=T.map((function(e){return e.str}));if(M||A.reduce((function(e,t){return e+t.length+2}),2)>n.maxFlowStringSingleLineLength){O=N;var j,I=Object(r.g)(A);try{for(I.s();!(j=I.n()).done;){var s=j.value;O+=s?"\n".concat(x).concat(w).concat(s):"\n"}}catch(e){I.e(e)}finally{I.f()}O+="\n".concat(w).concat(E)}else O="".concat(N," ").concat(A.join(" ")," ").concat(E)}else{var P=T.map(h);O=P.shift();var D,W=Object(r.g)(P);try{for(W.s();!(D=W.n()).done;){var R=D.value;O+=R?"\n".concat(w).concat(R):"\n"}}catch(e){W.e(e)}finally{W.f()}}return this.comment?(O+="\n"+this.comment.replace(/^/gm,"".concat(w,"#")),l&&l()):L&&c&&c(),O}}]),n}(l);function m(e){var t=e instanceof f?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}Object(r.l)(v,"maxFlowStringSingleLineLength",60);var y=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.apply(this,arguments)}return Object(r.i)(n,[{key:"add",value:function(e){this.items.push(e)}},{key:"delete",value:function(e){var t=m(e);return"number"==typeof t&&this.items.splice(t,1).length>0}},{key:"get",value:function(e,t){var n=m(e);if("number"==typeof n){var r=this.items[n];return!t&&r instanceof f?r.value:r}}},{key:"has",value:function(e){var t=m(e);return"number"==typeof t&&t<this.items.length}},{key:"set",value:function(e,t){var n=m(e);if("number"!=typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));this.items[n]=t}},{key:"toJSON",value:function(e,t){var n=[];t&&t.onCreate&&t.onCreate(n);var o,i=0,l=Object(r.g)(this.items);try{for(l.s();!(o=l.n()).done;){var f=o.value;n.push(c(f,String(i++),t))}}catch(e){l.e(e)}finally{l.f()}return n}},{key:"toString",value:function(e,t,o){return e?Object(r.s)(Object(r.t)(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return"comment"===e.type?e.str:"- ".concat(e.str)},flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,o):JSON.stringify(this)}}]),n}(v),w=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){var o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(r.j)(this,n),(o=t.call(this)).key=e,o.value=l,o.type=n.Type.PAIR,o}return Object(r.i)(n,[{key:"commentBefore",get:function(){return this.key instanceof l?this.key.commentBefore:void 0},set:function(e){if(null==this.key&&(this.key=new f(null)),!(this.key instanceof l)){throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.")}this.key.commentBefore=e}},{key:"addToJSMap",value:function(e,map){var t=c(this.key,"",e);if(map instanceof Map){var n=c(this.value,t,e);map.set(t,n)}else if(map instanceof Set)map.add(t);else{var o=function(e,t,n){return null===t?"":"object"!==Object(r.h)(t)?String(t):e instanceof l&&n&&n.doc?e.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(t)}(this.key,t,e),f=c(this.value,o,e);o in map?Object.defineProperty(map,o,{value:f,writable:!0,enumerable:!0,configurable:!0}):map[o]=f}return map}},{key:"toJSON",value:function(e,t){var n=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,n)}},{key:"toString",value:function(e,t,n){if(!e||!e.doc)return JSON.stringify(this);var c=e.doc.options,h=c.indent,d=c.indentSeq,m=c.simpleKeys,w=this.key,x=this.value,k=w instanceof l&&w.comment;if(m){if(k)throw new Error("With simple keys, key nodes cannot have comments");if(w instanceof v){throw new Error("With simple keys, collection cannot be used as a key value")}}var C=!m&&(!w||k||(w instanceof l?w instanceof v||w.type===r.e.BLOCK_FOLDED||w.type===r.e.BLOCK_LITERAL:"object"===Object(r.h)(w))),S=e,O=S.doc,L=S.indent,M=S.indentStep,T=S.stringify;e=Object.assign({},e,{implicitKey:!C,indent:L+M});var N=!1,E=T(w,e,(function(){return k=null}),(function(){return N=!0}));if(E=o(E,e.indent,k),!C&&E.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");C=!0}if(e.allNullValues&&!m)return this.comment?(E=o(E,e.indent,this.comment),t&&t()):N&&!k&&n&&n(),e.inFlow&&!C?E:"? ".concat(E);E=C?"? ".concat(E,"\n").concat(L,":"):"".concat(E,":"),this.comment&&(E=o(E,e.indent,this.comment),t&&t());var A="",j=null;if(x instanceof l){if(x.spaceBefore&&(A="\n"),x.commentBefore){var I=x.commentBefore.replace(/^/gm,"".concat(e.indent,"#"));A+="\n".concat(I)}j=x.comment}else x&&"object"===Object(r.h)(x)&&(x=O.schema.createNode(x,!0));e.implicitKey=!1,!C&&!this.comment&&x instanceof f&&(e.indentAtStart=E.length+1),N=!1,!d&&h>=2&&!e.inFlow&&!C&&x instanceof y&&x.type!==r.e.FLOW_SEQ&&!x.tag&&!O.anchors.getName(x)&&(e.indent=e.indent.substr(2));var P=T(x,e,(function(){return j=null}),(function(){return N=!0})),D=" ";if(A||this.comment)D="".concat(A,"\n").concat(e.indent);else if(!C&&x instanceof v){("["===P[0]||"{"===P[0])&&!P.includes("\n")||(D="\n".concat(e.indent))}else"\n"===P[0]&&(D="");return N&&!j&&n&&n(),o(E+D+P,e.indent,j)}}]),n}(l);Object(r.l)(w,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var x=function e(t,n){if(t instanceof k){var o=n.get(t.source);return o.count*o.aliasCount}if(t instanceof v){var l,c=0,f=Object(r.g)(t.items);try{for(f.s();!(l=f.n()).done;){var h=e(l.value,n);h>c&&(c=h)}}catch(e){f.e(e)}finally{f.f()}return c}if(t instanceof w){var d=e(t.key,n),m=e(t.value,n);return Math.max(d,m)}return 1},k=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(source){var e;return Object(r.j)(this,n),(e=t.call(this)).source=source,e.type=r.e.ALIAS,e}return Object(r.i)(n,[{key:"tag",set:function(e){throw new Error("Alias nodes cannot have tags")}},{key:"toJSON",value:function(e,t){if(!t)return c(this.source,e,t);var n=t.anchors,o=t.maxAliasCount,l=n.get(this.source);if(!l||void 0===l.res){var f="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new r.v(this.cstNode,f):new ReferenceError(f)}if(o>=0&&(l.count+=1,0===l.aliasCount&&(l.aliasCount=x(this.source,n)),l.count*l.aliasCount>o)){var h="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new r.v(this.cstNode,h):new ReferenceError(h)}return l.res}},{key:"toString",value:function(e){return n.stringify(this,e)}}],[{key:"stringify",value:function(e,t){var n=e.range,source=e.source,r=t.anchors,o=t.doc,l=t.implicitKey,c=t.inStringifyKey,f=Object.keys(r).find((function(a){return r[a]===source}));if(!f&&c&&(f=o.anchors.getName(source)||o.anchors.newName()),f)return"*".concat(f).concat(l?" ":"");var h=o.anchors.getName(source)?"Alias node must be after source node":"Source node not found for alias node";throw new Error("".concat(h," [").concat(n,"]"))}}]),n}(l);function C(e,t){var n,o=t instanceof f?t.value:t,l=Object(r.g)(e);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c instanceof w){if(c.key===t||c.key===o)return c;if(c.key&&c.key.value===o)return c}}}catch(e){l.e(e)}finally{l.f()}}Object(r.l)(k,"default",!0);var S=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.apply(this,arguments)}return Object(r.i)(n,[{key:"add",value:function(e,t){e?e instanceof w||(e=new w(e.key||e,e.value)):e=new w(e);var n=C(this.items,e.key),r=this.schema&&this.schema.sortMapEntries;if(n){if(!t)throw new Error("Key ".concat(e.key," already set"));n.value=e.value}else if(r){var i=this.items.findIndex((function(t){return r(e,t)<0}));-1===i?this.items.push(e):this.items.splice(i,0,e)}else this.items.push(e)}},{key:"delete",value:function(e){var t=C(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}},{key:"get",value:function(e,t){var n=C(this.items,e),r=n&&n.value;return!t&&r instanceof f?r.value:r}},{key:"has",value:function(e){return!!C(this.items,e)}},{key:"set",value:function(e,t){this.add(new w(e,t),!0)}},{key:"toJSON",value:function(e,t,n){var map=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(map);var o,l=Object(r.g)(this.items);try{for(l.s();!(o=l.n()).done;){o.value.addToJSMap(t,map)}}catch(e){l.e(e)}finally{l.f()}return map}},{key:"toString",value:function(e,t,o){if(!e)return JSON.stringify(this);var l,c=Object(r.g)(this.items);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!(f instanceof w))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(f)," instead"))}}catch(e){c.e(e)}finally{c.f()}return Object(r.s)(Object(r.t)(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return e.str},flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,o)}}]),n}(v),O=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){var o;if(Object(r.j)(this,n),e instanceof w){var l=e.value;l instanceof y||((l=new y).items.push(e.value),l.range=e.value.range),(o=t.call(this,e.key,l)).range=e.range}else o=t.call(this,new f("<<"),new y);return o.type=w.Type.MERGE_PAIR,Object(r.y)(o)}return Object(r.i)(n,[{key:"addToJSMap",value:function(e,map){var t,n=Object(r.g)(this.value.items);try{for(n.s();!(t=n.n()).done;){var source=t.value.source;if(!(source instanceof S))throw new Error("Merge sources must be maps");var o,l=source.toJSON(null,e,Map),c=Object(r.g)(l);try{for(c.s();!(o=c.n()).done;){var f=Object(r.o)(o.value,2),h=f[0],d=f[1];map instanceof Map?map.has(h)||map.set(h,d):map instanceof Set?map.add(h):Object.prototype.hasOwnProperty.call(map,h)||Object.defineProperty(map,h,{value:d,writable:!0,enumerable:!0,configurable:!0})}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}return map}},{key:"toString",value:function(e,t){var o=this.value;if(o.items.length>1)return Object(r.s)(Object(r.t)(n.prototype),"toString",this).call(this,e,t);this.value=o.items[0];var l=Object(r.s)(Object(r.t)(n.prototype),"toString",this).call(this,e,t);return this.value=o,l}}]),n}(w),L={defaultType:r.e.BLOCK_LITERAL,lineWidth:76},M={trueStr:"true",falseStr:"false"},T={asBigInt:!1},N={nullStr:"null"},E={defaultType:r.e.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function A(e,t,n){var o,l=Object(r.g)(t);try{for(l.s();!(o=l.n()).done;){var c=o.value,h=c.format,d=c.test,v=c.resolve;if(d){var m=e.match(d);if(m){var y=v.apply(null,m);return y instanceof f||(y=new f(y)),h&&(y.format=h),y}}}}catch(e){l.e(e)}finally{l.f()}return n&&(e=n(e)),new f(e)}var j="flow",I="block",P="quoted",D=function(text,i){for(var e=text[i+1];" "===e||"\t"===e;){do{e=text[i+=1]}while(e&&"\n"!==e);e=text[i+1]}return i};function W(text,e,t,n){var r=n.indentAtStart,o=n.lineWidth,l=void 0===o?80:o,c=n.minContentWidth,f=void 0===c?20:c,h=n.onFold,d=n.onOverflow;if(!l||l<0)return text;var v=Math.max(1+f,1+l-e.length);if(text.length<=v)return text;var m=[],y={},w=l-e.length;"number"==typeof r&&(r>l-Math.max(2,f)?m.push(0):w=l-r);var x,k=void 0,C=void 0,S=!1,i=-1,O=-1,L=-1;for(t===I&&-1!==(i=D(text,i))&&(w=i+v);x=text[i+=1];){if(t===P&&"\\"===x){switch(O=i,text[i+1]){case"x":i+=3;break;case"u":i+=5;break;case"U":i+=9;break;default:i+=1}L=i}if("\n"===x)t===I&&(i=D(text,i)),w=i+v,k=void 0;else{if(" "===x&&C&&" "!==C&&"\n"!==C&&"\t"!==C){var M=text[i+1];M&&" "!==M&&"\n"!==M&&"\t"!==M&&(k=i)}if(i>=w)if(k)m.push(k),w=k+v,k=void 0;else if(t===P){for(;" "===C||"\t"===C;)C=x,x=text[i+=1],S=!0;var T=i>L+1?i-2:O-1;if(y[T])return text;m.push(T),y[T]=!0,w=T+v,k=void 0}else S=!0}C=x}if(S&&d&&d(),0===m.length)return text;h&&h();for(var N=text.slice(0,m[0]),E=0;E<m.length;++E){var A=m[E],j=m[E+1]||text.length;0===A?N="\n".concat(e).concat(text.slice(0,j)):(t===P&&y[A]&&(N+="".concat(text[A],"\\")),N+="\n".concat(e).concat(text.slice(A+1,j)))}return N}var R=function(e){var t=e.indentAtStart;return t?Object.assign({indentAtStart:t},E.fold):E.fold},F=function(e){return/^(%|---|\.\.\.)/m.test(e)};function B(e,t){var n=t.implicitKey,r=E.doubleQuoted,o=r.jsonEncoding,l=r.minMultiLineLength,c=JSON.stringify(e);if(o)return c;for(var f=t.indent||(F(e)?"  ":""),h="",d=0,i=0,v=c[i];v;v=c[++i])if(" "===v&&"\\"===c[i+1]&&"n"===c[i+2]&&(h+=c.slice(d,i)+"\\ ",d=i+=1,v="\\"),"\\"===v)switch(c[i+1]){case"u":h+=c.slice(d,i);var code=c.substr(i+2,4);switch(code){case"0000":h+="\\0";break;case"0007":h+="\\a";break;case"000b":h+="\\v";break;case"001b":h+="\\e";break;case"0085":h+="\\N";break;case"00a0":h+="\\_";break;case"2028":h+="\\L";break;case"2029":h+="\\P";break;default:"00"===code.substr(0,2)?h+="\\x"+code.substr(2):h+=c.substr(i,6)}d=(i+=5)+1;break;case"n":if(n||'"'===c[i+2]||c.length<l)i+=1;else{for(h+=c.slice(d,i)+"\n\n";"\\"===c[i+2]&&"n"===c[i+3]&&'"'!==c[i+4];)h+="\n",i+=2;h+=f," "===c[i+2]&&(h+="\\"),d=(i+=1)+1}break;default:i+=1}return h=d?h+c.slice(d):c,n?h:W(h,f,P,R(t))}function H(e,t){if(t.implicitKey){if(/\n/.test(e))return B(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return B(e,t);var n=t.indent||(F(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?r:W(r,n,j,R(t))}function z(e,t,n,o){var l=e.comment,c=e.type,f=e.value;if(/\n[\t ]+$/.test(f)||/^\s*$/.test(f))return B(f,t);var h=t.indent||(t.forceBlockIndent||F(f)?"  ":""),d=h?"2":"1",v=c!==r.e.BLOCK_FOLDED&&(c===r.e.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;var r=t-n,o=e.length;if(o<=r)return!1;for(var i=0,l=0;i<o;++i)if("\n"===e[i]){if(i-l>r)return!0;if(o-(l=i+1)<=r)return!1}return!0}(f,E.fold.lineWidth,h.length)),header=v?"|":">";if(!f)return header+"\n";var m="",y="";if(f=f.replace(/[\n\t ]*$/,(function(e){var t=e.indexOf("\n");return-1===t?header+="-":f!==e&&t===e.length-1||(header+="+",o&&o()),y=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(function(e){-1!==e.indexOf(" ")&&(header+=d);var t=e.match(/ +$/);return t?(m=e.slice(0,-t[0].length),t[0]):(m=e,"")})),y&&(y=y.replace(/\n+(?!\n|$)/g,"$&".concat(h))),m&&(m=m.replace(/\n+/g,"$&".concat(h))),l&&(header+=" #"+l.replace(/ ?[\r\n]+/g," "),n&&n()),!f)return"".concat(header).concat(d,"\n").concat(h).concat(y);if(v)return f=f.replace(/\n+/g,"$&".concat(h)),"".concat(header,"\n").concat(h).concat(m).concat(f).concat(y);f=f.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(h));var body=W("".concat(m).concat(f).concat(y),h,I,E.fold);return"".concat(header,"\n").concat(h).concat(body)}function _(e,t,n,o){var l=E.defaultType,c=t.implicitKey,f=t.inFlow,h=e,d=h.type,v=h.value;"string"!=typeof v&&(v=String(v),e=Object.assign({},e,{value:v}));var m=function(l){switch(l){case r.e.BLOCK_FOLDED:case r.e.BLOCK_LITERAL:return z(e,t,n,o);case r.e.QUOTE_DOUBLE:return B(v,t);case r.e.QUOTE_SINGLE:return H(v,t);case r.e.PLAIN:return function(e,t,n,o){var l=e.comment,c=e.type,f=e.value,h=t.actualString,d=t.implicitKey,v=t.indent,m=t.inFlow;if(d&&/[\n[\]{},]/.test(f)||m&&/[[\]{},]/.test(f))return B(f,t);if(!f||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(f))return d||m||-1===f.indexOf("\n")?-1!==f.indexOf('"')&&-1===f.indexOf("'")?H(f,t):B(f,t):z(e,t,n,o);if(!d&&!m&&c!==r.e.PLAIN&&-1!==f.indexOf("\n"))return z(e,t,n,o);if(""===v&&F(f))return t.forceBlockIndent=!0,z(e,t,n,o);var y=f.replace(/\n+/g,"$&\n".concat(v));if(h){var w=t.doc.schema.tags;if("string"!=typeof A(y,w,w.scalarFallback).value)return B(f,t)}var body=d?y:W(y,v,j,R(t));return!l||m||-1===body.indexOf("\n")&&-1===l.indexOf("\n")?body:(n&&n(),function(e,t,n){if(!n)return e;var r=n.replace(/[\s\S]^/gm,"$&".concat(t,"#"));return"#".concat(r,"\n").concat(t).concat(e)}(body,v,l))}(e,t,n,o);default:return null}};d!==r.e.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(v)?d=r.e.QUOTE_DOUBLE:!c&&!f||d!==r.e.BLOCK_FOLDED&&d!==r.e.BLOCK_LITERAL||(d=r.e.QUOTE_DOUBLE);var y=m(d);if(null===y&&null===(y=m(l)))throw new Error("Unsupported default string type ".concat(l));return y}function U(e){var t=e.format,n=e.minFractionDigits,r=e.tag,o=e.value;if("bigint"==typeof o)return String(o);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";var l=JSON.stringify(o);if(!t&&n&&(!r||"tag:yaml.org,2002:float"===r)&&/^\d/.test(l)){var i=l.indexOf(".");i<0&&(i=l.length,l+=".");for(var c=n-(l.length-i-1);c-- >0;)l+="0"}return l}function V(e,t){var n,o,l;switch(t.type){case r.e.FLOW_MAP:n="}",o="flow map";break;case r.e.FLOW_SEQ:n="]",o="flow sequence";break;default:return void e.push(new r.n(t,"Not a flow collection!?"))}for(var i=t.items.length-1;i>=0;--i){var c=t.items[i];if(!c||c.type!==r.e.COMMENT){l=c;break}}if(l&&l.char!==n){var f,h="Expected ".concat(o," to end with ").concat(n);"number"==typeof l.offset?(f=new r.n(t,h)).offset=l.offset+1:(f=new r.n(l,h),l.range&&l.range.end&&(f.offset=l.range.end-l.range.start)),e.push(f)}}function K(e,t){var n=t.context.src[t.range.start-1];if("\n"!==n&&"\t"!==n&&" "!==n){e.push(new r.n(t,"Comments must be separated from other tokens by white space characters"))}}function $(source,e){var t=String(e),n=t.substr(0,8)+"..."+t.substr(-8);return new r.n(source,'The "'.concat(n,'" key is too long'))}function G(e,t){var n,o=Object(r.g)(t);try{for(o.s();!(n=o.n()).done;){var l=n.value,c=l.afterKey,f=l.before,h=l.comment,d=e.items[f];d?(c&&d.value&&(d=d.value),void 0===h?!c&&d.commentBefore||(d.spaceBefore=!0):d.commentBefore?d.commentBefore+="\n"+h:d.commentBefore=h):void 0!==h&&(e.comment?e.comment+="\n"+h:e.comment=h)}}catch(e){o.e(e)}finally{o.f()}}function Y(e,t){var n=t.strValue;return n?"string"==typeof n?n:(n.errors.forEach((function(n){n.source||(n.source=t),e.errors.push(n)})),n.str):""}function Q(e,t){var n=t.tag,o=t.type,l=!1;if(n){var c=n.handle,f=n.suffix,h=n.verbatim;if(h){if("!"!==h&&"!!"!==h)return h;var d="Verbatim tags aren't resolved, so ".concat(h," is invalid.");e.errors.push(new r.n(t,d))}else if("!"!==c||f)try{return function(e,t){var n=t.tag,o=n.handle,l=n.suffix,c=e.tagPrefixes.find((function(p){return p.handle===o}));if(!c){var f=e.getDefaults().tagPrefixes;if(f&&(c=f.find((function(p){return p.handle===o}))),!c)throw new r.n(t,"The ".concat(o," tag handle is non-default and was not declared."))}if(!l)throw new r.n(t,"The ".concat(o," tag has no suffix."));if("!"===o&&"1.0"===(e.version||e.options.version)){if("^"===l[0])return e.warnings.push(new r.m(t,"YAML 1.0 ^ tag expansion is not supported")),l;if(/[:/]/.test(l)){var h=l.match(/^([a-z0-9-]+)\/(.*)/i);return h?"tag:".concat(h[1],".yaml.org,2002:").concat(h[2]):"tag:".concat(l)}}return c.prefix+decodeURIComponent(l)}(e,t)}catch(t){e.errors.push(t)}else l=!0}switch(o){case r.e.BLOCK_FOLDED:case r.e.BLOCK_LITERAL:case r.e.QUOTE_DOUBLE:case r.e.QUOTE_SINGLE:return r.u.STR;case r.e.FLOW_MAP:case r.e.MAP:return r.u.MAP;case r.e.FLOW_SEQ:case r.e.SEQ:return r.u.SEQ;case r.e.PLAIN:return l?r.u.STR:null;default:return null}}function J(e,t,n){var o,l=e.schema.tags,c=[],h=Object(r.g)(l);try{for(h.s();!(o=h.n()).done;){var d=o.value;if(d.tag===n){if(!d.test){var m=d.resolve(e,t);return m instanceof v?m:new f(m)}c.push(d)}}}catch(e){h.e(e)}finally{h.f()}var y=Y(e,t);return"string"==typeof y&&c.length>0?A(y,c,l.scalarFallback):null}function X(e,t,n){try{var o=J(e,t,n);if(o)return n&&t.tag&&(o.tag=n),o}catch(n){return n.source||(n.source=t),e.errors.push(n),null}try{var l=function(e){switch(e.type){case r.e.FLOW_MAP:case r.e.MAP:return r.u.MAP;case r.e.FLOW_SEQ:case r.e.SEQ:return r.u.SEQ;default:return r.u.STR}}(t);if(!l)throw new Error("The tag ".concat(n," is unavailable"));var c="The tag ".concat(n," is unavailable, falling back to ").concat(l);e.warnings.push(new r.m(t,c));var f=J(e,t,l);return f.tag=n,f}catch(n){var h=new r.v(t,n.message);return h.stack=n.stack,e.errors.push(h),null}}function Z(e,t){var n,o={before:[],after:[]},l=!1,c=!1,f=function(e){if(!e)return!1;var t=e.type;return t===r.e.MAP_KEY||t===r.e.MAP_VALUE||t===r.e.SEQ_ITEM}(t.context.parent)?t.context.parent.props.concat(t.props):t.props,h=Object(r.g)(f);try{for(h.s();!(n=h.n()).done;){var d=n.value,v=d.start,m=d.end;switch(t.context.src[v]){case r.a.COMMENT:if(!t.commentHasRequiredWhitespace(v)){e.push(new r.n(t,"Comments must be separated from other tokens by white space characters"))}var header=t.header,y=t.valueRange;(y&&(v>y.start||header&&v>header.start)?o.after:o.before).push(t.context.src.slice(v+1,m));break;case r.a.ANCHOR:if(l){e.push(new r.n(t,"A node can have at most one anchor"))}l=!0;break;case r.a.TAG:if(c){e.push(new r.n(t,"A node can have at most one tag"))}c=!0}}}catch(e){h.e(e)}finally{h.f()}return{comments:o,hasAnchor:l,hasTag:c}}function ee(e,t){if(!t)return null;t.error&&e.errors.push(t.error);var n=Z(e.errors,t),o=n.comments,l=n.hasAnchor,c=n.hasTag;if(l){var f=e.anchors,h=t.anchor,d=f.getNode(h);d&&(f.map[f.newName(h)]=d),f.map[h]=t}if(t.type===r.e.ALIAS&&(l||c)){e.errors.push(new r.n(t,"An alias node must not specify any properties"))}var v=function(e,t){var n=e.anchors,o=e.errors,l=e.schema;if(t.type===r.e.ALIAS){var c=t.rawValue,f=n.getNode(c);if(!f){var h="Aliased anchor not found: ".concat(c);return o.push(new r.v(t,h)),null}var d=new k(f);return n._cstAliases.push(d),d}var v=Q(e,t);if(v)return X(e,t,v);if(t.type!==r.e.PLAIN){var m="Failed to resolve ".concat(t.type," node here");return o.push(new r.f(t,m)),null}try{return A(Y(e,t),l.tags,l.tags.scalarFallback)}catch(e){return e.source||(e.source=t),o.push(e),null}}(e,t);if(v){v.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(v.cstNode=t),e.options.keepNodeTypes&&(v.type=t.type);var m=o.before.join("\n");m&&(v.commentBefore=v.commentBefore?"".concat(v.commentBefore,"\n").concat(m):m);var y=o.after.join("\n");y&&(v.comment=v.comment?"".concat(v.comment,"\n").concat(y):y)}return t.resolved=v}function te(e,t){if(t.type!==r.e.MAP&&t.type!==r.e.FLOW_MAP){var n="A ".concat(t.type," node cannot be resolved as a mapping");return e.errors.push(new r.f(t,n)),null}var o=t.type===r.e.FLOW_MAP?function(e,t){for(var n=[],o=[],l=void 0,c=!1,f="{",i=0;i<t.items.length;++i){var h=t.items[i];if("string"==typeof h.char){var d=h.char,v=h.offset;if("?"===d&&void 0===l&&!c){c=!0,f=":";continue}if(":"===d){if(void 0===l&&(l=null),":"===f){f=",";continue}}else if(c&&(void 0===l&&","!==d&&(l=null),c=!1),void 0!==l&&(o.push(new w(l)),l=void 0,","===d)){f=":";continue}if("}"===d){if(i===t.items.length-1)continue}else if(d===f){f=":";continue}var m="Flow map contains an unexpected ".concat(d),y=new r.f(t,m);y.offset=v,e.errors.push(y)}else h.type===r.e.BLANK_LINE?n.push({afterKey:!!l,before:o.length}):h.type===r.e.COMMENT?(K(e.errors,h),n.push({afterKey:!!l,before:o.length,comment:h.comment})):void 0===l?(","===f&&e.errors.push(new r.n(h,"Separator , missing in flow map")),l=ee(e,h)):(","!==f&&e.errors.push(new r.n(h,"Indicator : missing in flow map entry")),o.push(new w(l,ee(e,h))),l=void 0,c=!1)}V(e.errors,t),void 0!==l&&o.push(new w(l));return{comments:n,items:o}}(e,t):function(e,t){for(var n=[],o=[],l=void 0,c=null,i=0;i<t.items.length;++i){var f=t.items[i];switch(f.type){case r.e.BLANK_LINE:n.push({afterKey:!!l,before:o.length});break;case r.e.COMMENT:n.push({afterKey:!!l,before:o.length,comment:f.comment});break;case r.e.MAP_KEY:void 0!==l&&o.push(new w(l)),f.error&&e.errors.push(f.error),l=ee(e,f.node),c=null;break;case r.e.MAP_VALUE:if(void 0===l&&(l=null),f.error&&e.errors.push(f.error),!f.context.atLineStart&&f.node&&f.node.type===r.e.MAP&&!f.node.context.atLineStart){var h="Nested mappings are not allowed in compact mappings";e.errors.push(new r.n(f.node,h))}var d=f.node;if(!d&&f.props.length>0){(d=new r.c(r.e.PLAIN,[])).context={parent:f,src:f.context.src};var v=f.range.start+1;if(d.range={start:v,end:v},d.valueRange={start:v,end:v},"number"==typeof f.range.origStart){var m=f.range.origStart+1;d.range.origStart=d.range.origEnd=m,d.valueRange.origStart=d.valueRange.origEnd=m}}var y=new w(l,ee(e,d));ne(f,y),o.push(y),l&&"number"==typeof c&&f.range.start>c+1024&&e.errors.push($(t,l)),l=void 0,c=null;break;default:void 0!==l&&o.push(new w(l)),l=ee(e,f),c=f.range.start,f.error&&e.errors.push(f.error);e:for(var x=i+1;;++x){var k=t.items[x];switch(k&&k.type){case r.e.BLANK_LINE:case r.e.COMMENT:continue e;case r.e.MAP_VALUE:break e;default:var C="Implicit map keys need to be followed by map values";e.errors.push(new r.n(f,C));break e}}if(f.valueRangeContainsNewline){var S="Implicit map keys need to be on a single line";e.errors.push(new r.n(f,S))}}}void 0!==l&&o.push(new w(l));return{comments:n,items:o}}(e,t),l=o.comments,c=o.items,map=new S;map.items=c,G(map,l);for(var f=!1,i=0;i<c.length;++i){var h=c[i].key;if(h instanceof v&&(f=!0),e.schema.merge&&h&&"<<"===h.value){c[i]=new O(c[i]);var d=c[i].value.items,m=null;d.some((function(e){if(e instanceof k){var t=e.source.type;return t!==r.e.MAP&&t!==r.e.FLOW_MAP&&(m="Merge nodes aliases can only point to maps")}return m="Merge nodes can only have Alias nodes as values"})),m&&e.errors.push(new r.n(t,m))}else for(var y=i+1;y<c.length;++y){var x=c[y].key;if(h===x||h&&x&&Object.prototype.hasOwnProperty.call(h,"value")&&h.value===x.value){var C='Map keys must be unique; "'.concat(h,'" is repeated');e.errors.push(new r.n(t,C));break}}}if(f&&!e.options.mapAsMap){e.warnings.push(new r.m(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=map,map}function ne(e,t){if(function(e){var t=e.context,n=t.lineStart,o=t.node,l=t.src,c=e.props;if(0===c.length)return!1;var f=c[0].start;if(o&&f>o.valueRange.start)return!1;if(l[f]!==r.a.COMMENT)return!1;for(var i=n;i<f;++i)if("\n"===l[i])return!1;return!0}(e)){var n=e.getPropValue(0,r.a.COMMENT,!0),o=!1,l=t.value.commentBefore;if(l&&l.startsWith(n))t.value.commentBefore=l.substr(n.length+1),o=!0;else{var c=t.value.comment;!e.node&&c&&c.startsWith(n)&&(t.value.comment=c.substr(n.length+1),o=!0)}o&&(t.comment=n)}}function re(e,t){if(t.type!==r.e.SEQ&&t.type!==r.e.FLOW_SEQ){var n="A ".concat(t.type," node cannot be resolved as a sequence");return e.errors.push(new r.f(t,n)),null}var o=t.type===r.e.FLOW_SEQ?function(e,t){for(var n=[],o=[],l=!1,c=void 0,f=null,h="[",d=null,i=0;i<t.items.length;++i){var v=t.items[i];if("string"==typeof v.char){var m=v.char,y=v.offset;if(":"===m||!l&&void 0===c||(l&&void 0===c&&(c=h?o.pop():null),o.push(new w(c)),l=!1,c=void 0,f=null),m===h)h=null;else if(h||"?"!==m){if("["!==h&&":"===m&&void 0===c){if(","===h){if((c=o.pop())instanceof w){var x="Chaining flow sequence pairs is invalid",k=new r.n(t,x);k.offset=y,e.errors.push(k)}if(!l&&"number"==typeof f){var C=v.range?v.range.start:v.offset;C>f+1024&&e.errors.push($(t,c));for(var S=d.context.src,O=f;O<C;++O)if("\n"===S[O]){var L="Implicit keys of flow sequence pairs need to be on a single line";e.errors.push(new r.n(d,L));break}}}else c=null;f=null,l=!1,h=null}else if("["===h||"]"!==m||i<t.items.length-1){var M="Flow sequence contains an unexpected ".concat(m),T=new r.f(t,M);T.offset=y,e.errors.push(T)}}else l=!0}else if(v.type===r.e.BLANK_LINE)n.push({before:o.length});else if(v.type===r.e.COMMENT)K(e.errors,v),n.push({comment:v.comment,before:o.length});else{if(h){var N="Expected a ".concat(h," in flow sequence");e.errors.push(new r.n(v,N))}var E=ee(e,v);void 0===c?(o.push(E),d=v):(o.push(new w(c,E)),c=void 0),f=v.range.start,h=","}}V(e.errors,t),void 0!==c&&o.push(new w(c));return{comments:n,items:o}}(e,t):function(e,t){for(var n=[],o=[],i=0;i<t.items.length;++i){var l=t.items[i];switch(l.type){case r.e.BLANK_LINE:n.push({before:o.length});break;case r.e.COMMENT:n.push({comment:l.comment,before:o.length});break;case r.e.SEQ_ITEM:if(l.error&&e.errors.push(l.error),o.push(ee(e,l.node)),l.hasProps){var c="Sequence items cannot have tags or anchors before the - indicator";e.errors.push(new r.n(l,c))}break;default:l.error&&e.errors.push(l.error),e.errors.push(new r.f(l,"Unexpected ".concat(l.type," node in sequence")))}}return{comments:n,items:o}}(e,t),l=o.comments,c=o.items,f=new y;if(f.items=c,G(f,l),!e.options.mapAsMap&&c.some((function(e){return e instanceof w&&e.key instanceof v}))){e.warnings.push(new r.m(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=f,f}},260:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return M}));var o=n(226),l=n(238),c={identify:function(e){return e instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(t,n){var r=Object(l.q)(t,n);if("function"==typeof e)return e.from(r,"base64");if("function"==typeof atob){for(var c=atob(r.replace(/[\n\r]/g,"")),f=new Uint8Array(c.length),i=0;i<c.length;++i)f[i]=c.charCodeAt(i);return f}return t.errors.push(new o.v(n,"This environment does not support reading binary tags; either Buffer or atob is required")),null},options:l.i,stringify:function(t,n,r,c){var f,h=t.comment,d=t.type,v=t.value;if("function"==typeof e)f=v instanceof e?v.toString("base64"):e.from(v.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");for(var s="",i=0;i<v.length;++i)s+=String.fromCharCode(v[i]);f=btoa(s)}if(d||(d=l.i.defaultType),d===o.e.QUOTE_DOUBLE)v=f;else{for(var m=l.i.lineWidth,y=Math.ceil(f.length/m),w=new Array(y),x=0,k=0;x<y;++x,k+=m)w[x]=f.substr(k,m);v=w.join(d===o.e.BLOCK_LITERAL?"\n":" ")}return Object(l.j)({comment:h,type:d,value:v},n,r,c)}};function f(e,t){for(var n=Object(l.o)(e,t),i=0;i<n.items.length;++i){var r=n.items[i];if(!(r instanceof l.e)){if(r instanceof l.k){if(r.items.length>1){throw new o.n(t,"Each pair must have its own sequence indicator")}var c=r.items[0]||new l.e;r.commentBefore&&(c.commentBefore=c.commentBefore?"".concat(r.commentBefore,"\n").concat(c.commentBefore):r.commentBefore),r.comment&&(c.comment=c.comment?"".concat(r.comment,"\n").concat(c.comment):r.comment),r=c}n.items[i]=r instanceof l.e?r:new l.e(r)}}return n}function h(e,t,n){var r=new l.g(e);r.tag="tag:yaml.org,2002:pairs";var c,f=Object(o.g)(t);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=void 0,v=void 0;if(Array.isArray(h)){if(2!==h.length)throw new TypeError("Expected [key, value] tuple: ".concat(h));d=h[0],v=h[1]}else if(h&&h instanceof Object){var m=Object.keys(h);if(1!==m.length)throw new TypeError("Expected { key: value } tuple: ".concat(h));v=h[d=m[0]]}else d=h;var y=e.createPair(d,v,n);r.items.push(y)}}catch(e){f.e(e)}finally{f.f()}return r}var d={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:f,createNode:h},v=function(e){Object(o.q)(n,e);var t=Object(o.r)(n);function n(){var e;return Object(o.j)(this,n),e=t.call(this),Object(o.l)(Object(o.w)(e),"add",l.k.prototype.add.bind(Object(o.w)(e))),Object(o.l)(Object(o.w)(e),"delete",l.k.prototype.delete.bind(Object(o.w)(e))),Object(o.l)(Object(o.w)(e),"get",l.k.prototype.get.bind(Object(o.w)(e))),Object(o.l)(Object(o.w)(e),"has",l.k.prototype.has.bind(Object(o.w)(e))),Object(o.l)(Object(o.w)(e),"set",l.k.prototype.set.bind(Object(o.w)(e))),e.tag=n.tag,e}return Object(o.i)(n,[{key:"toJSON",value:function(e,t){var map=new Map;t&&t.onCreate&&t.onCreate(map);var n,r=Object(o.g)(this.items);try{for(r.s();!(n=r.n()).done;){var c=n.value,f=void 0,h=void 0;if(c instanceof l.e?(f=Object(l.w)(c.key,"",t),h=Object(l.w)(c.value,f,t)):f=Object(l.w)(c,"",t),map.has(f))throw new Error("Ordered maps must not include duplicate keys");map.set(f,h)}}catch(e){r.e(e)}finally{r.f()}return map}}]),n}(l.g);Object(o.l)(v,"tag","tag:yaml.org,2002:omap");var m={identify:function(e){return e instanceof Map},nodeClass:v,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){var n,r=f(e,t),c=[],h=Object(o.g)(r.items);try{for(h.s();!(n=h.n()).done;){var d=n.value.key;if(d instanceof l.f){if(c.includes(d.value)){throw new o.n(t,"Ordered maps must not include duplicate keys")}c.push(d.value)}}}catch(e){h.e(e)}finally{h.f()}return Object.assign(new v,r)},createNode:function(e,t,n){var r=h(e,t,n),o=new v;return o.items=r.items,o}},y=function(e){Object(o.q)(n,e);var t=Object(o.r)(n);function n(){var e;return Object(o.j)(this,n),(e=t.call(this)).tag=n.tag,e}return Object(o.i)(n,[{key:"add",value:function(e){var t=e instanceof l.e?e:new l.e(e);Object(l.s)(this.items,t.key)||this.items.push(t)}},{key:"get",value:function(e,t){var n=Object(l.s)(this.items,e);return!t&&n instanceof l.e?n.key instanceof l.f?n.key.value:n.key:n}},{key:"set",value:function(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(Object(o.h)(t)));var n=Object(l.s)(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new l.e(e))}},{key:"toJSON",value:function(e,t){return Object(o.s)(Object(o.t)(n.prototype),"toJSON",this).call(this,e,t,Set)}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return Object(o.s)(Object(o.t)(n.prototype),"toString",this).call(this,e,t,r);throw new Error("Set items must all have null values")}}]),n}(l.k);Object(o.l)(y,"tag","tag:yaml.org,2002:set");var w={identify:function(e){return e instanceof Set},nodeClass:y,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){var map=Object(l.n)(e,t);if(!map.hasAllNullValues())throw new o.n(t,"Set items must all have null values");return Object.assign(new y,map)},createNode:function(e,t,n){var r,l=new y,c=Object(o.g)(t);try{for(c.s();!(r=c.n()).done;){var f=r.value;l.items.push(e.createPair(f,null,n))}}catch(e){c.e(e)}finally{c.f()}return l}},x=function(e,t){var n=t.split(":").reduce((function(e,p){return 60*e+Number(p)}),0);return"-"===e?-n:n},k=function(e){var t=e.value;if(isNaN(t)||!isFinite(t))return Object(l.r)(t);var n="";t<0&&(n="-",t=Math.abs(t));var r=[t%60];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),n+r.map((function(e){return e<10?"0"+String(e):String(e)})).join(":").replace(/000000\d*$/,"")},C={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:function(e,t,n){return x(t,n.replace(/_/g,""))},stringify:k},S={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:function(e,t,n){return x(t,n.replace(/_/g,""))},stringify:k},O={identify:function(e){return e instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:function(e,t,n,r,o,l,c,f,h){f&&(f=(f+"00").substr(1,3));var d=Date.UTC(t,n-1,r,o||0,l||0,c||0,f||0);if(h&&"Z"!==h){var v=x(h[0],h.slice(1));Math.abs(v)<30&&(v*=60),d-=6e4*v}return new Date(d)},stringify:function(e){return e.value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}};function L(e){var t=void 0!==r&&r.env||{};return e?"undefined"!=typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!=typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function M(e,t){if(L(!1)){var n=void 0!==r&&r.emitWarning;n?n(e,t):console.warn(t?"".concat(t,": ").concat(e):e)}}var T={};function N(e,t){if(!T[e]&&L(!0)){T[e]=!0;var n="The option '".concat(e,"' will be removed in a future release");M(n+=t?", use '".concat(t,"' instead."):".","DeprecationWarning")}}}).call(this,n(239).Buffer,n(156))},267:function(e,t,n){var r=n(44)(!1);r.push([e.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection, \n.cm-fat-cursor .CodeMirror-line > span > span::selection { background: transparent; }\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection { background: transparent; }\n.cm-fat-cursor { caret-color: transparent; }\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  z-index: 0;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""]),e.exports=r},268:function(e,t,n){var r=n(44)(!1);r.push([e.i,".CodeMirror-simplescroll-horizontal div, .CodeMirror-simplescroll-vertical div {\n  position: absolute;\n  background: #ccc;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n}\n\n.CodeMirror-simplescroll-horizontal, .CodeMirror-simplescroll-vertical {\n  position: absolute;\n  z-index: 6;\n  background: #eee;\n}\n\n.CodeMirror-simplescroll-horizontal {\n  bottom: 0; left: 0;\n  height: 8px;\n}\n.CodeMirror-simplescroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-simplescroll-vertical {\n  right: 0; top: 0;\n  width: 8px;\n}\n.CodeMirror-simplescroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n\n\n.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler, .CodeMirror-overlayscroll .CodeMirror-gutter-filler {\n  display: none;\n}\n\n.CodeMirror-overlayscroll-horizontal div, .CodeMirror-overlayscroll-vertical div {\n  position: absolute;\n  background: #bcd;\n  border-radius: 3px;\n}\n\n.CodeMirror-overlayscroll-horizontal, .CodeMirror-overlayscroll-vertical {\n  position: absolute;\n  z-index: 6;\n}\n\n.CodeMirror-overlayscroll-horizontal {\n  bottom: 0; left: 0;\n  height: 6px;\n}\n.CodeMirror-overlayscroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-overlayscroll-vertical {\n  right: 0; top: 0;\n  width: 6px;\n}\n.CodeMirror-overlayscroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n",""]),e.exports=r},283:function(e,t,n){"use strict";n.r(t),n.d(t,"YAML",(function(){return xe}));var r=n(226),o=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.call(this,r.e.BLANK_LINE)}return Object(r.i)(n,[{key:"includesTrailingLines",get:function(){return!0}},{key:"parse",value:function(e,t){return this.context=e,this.range=new r.d(t,t+1),t+1}}]),n}(r.b),l=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e,o){var l;return Object(r.j)(this,n),(l=t.call(this,e,o)).node=null,l}return Object(r.i)(n,[{key:"includesTrailingLines",get:function(){return!!this.node&&this.node.includesTrailingLines}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,l=e.src,c=e.atLineStart,f=e.lineStart;c||this.type!==r.e.SEQ_ITEM||(this.error=new r.n(this,"Sequence items must not have preceding content on the same line"));for(var h=c?t-f:e.indent,d=r.b.endOfWhiteSpace(l,t+1),v=l[d],m="#"===v,y=[],w=null;"\n"===v||"#"===v;){if("#"===v){var x=r.b.endOfLine(l,d+1);y.push(new r.d(d,x)),d=x}else{c=!0,f=d+1,"\n"===l[r.b.endOfWhiteSpace(l,f)]&&0===y.length&&(f=(w=new o).parse({src:l},f)),d=r.b.endOfIndent(l,f)}v=l[d]}if(r.b.nextNodeIsIndented(v,d-(f+h),this.type!==r.e.SEQ_ITEM)?this.node=n({atLineStart:c,inCollection:!1,indent:h,lineStart:f,parent:this},d):v&&f>t+1&&(d=f-1),this.node){if(w){var k=e.parent.items||e.parent.contents;k&&k.push(w)}y.length&&Array.prototype.push.apply(this.props,y),d=this.node.range.end}else if(m){var C=y[0];this.props.push(C),d=C.end}else d=r.b.endOfLine(l,t+1);var S=this.node?this.node.valueRange.end:d;return this.valueRange=new r.d(t,S),d}},{key:"setOrigRanges",value:function(e,t){return t=Object(r.s)(Object(r.t)(n.prototype),"setOrigRanges",this).call(this,e,t),this.node?this.node.setOrigRanges(e,t):t}},{key:"toString",value:function(){var e=this.context.src,t=this.node,n=this.range,o=this.value;if(null!=o)return o;var l=t?e.slice(n.start,t.range.start)+String(t):e.slice(n.start,n.end);return r.b.addStringTerminator(e,n.end,l)}}]),n}(r.b),c=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.call(this,r.e.COMMENT)}return Object(r.i)(n,[{key:"parse",value:function(e,t){this.context=e;var n=this.parseComment(t);return this.range=new r.d(t,n),n}}]),n}(r.b);function f(e){for(var t=e;t instanceof l;)t=t.node;if(!(t instanceof h))return null;for(var n=t.items.length,o=-1,i=n-1;i>=0;--i){var c=t.items[i];if(c.type===r.e.COMMENT){var f=c.context,d=f.indent,v=f.lineStart;if(d>0&&c.range.start>=v+d)break;o=i}else{if(c.type!==r.e.BLANK_LINE)break;o=i}}if(-1===o)return null;for(var m=t.items.splice(o,n-o),y=m[0].range.start;t.range.end=y,t.valueRange&&t.valueRange.end>y&&(t.valueRange.end=y),t!==e;)t=t.context.parent;return m}var h=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){var o;Object(r.j)(this,n),o=t.call(this,e.type===r.e.SEQ_ITEM?r.e.SEQ:r.e.MAP);for(var i=e.props.length-1;i>=0;--i)if(e.props[i].start<e.context.lineStart){o.props=e.props.slice(0,i+1),e.props=e.props.slice(i+1);var l=e.props[0]||e.valueRange;e.range.start=l.start;break}o.items=[e];var c=f(e);return c&&Array.prototype.push.apply(o.items,c),o}return Object(r.i)(n,[{key:"includesTrailingLines",get:function(){return this.items.length>0}},{key:"parse",value:function(e,t){this.context=e;var l=e.parseNode,h=e.src,d=r.b.startOfLine(h,t),v=this.items[0];v.context.parent=this,this.valueRange=r.d.copy(v.valueRange);for(var m=v.range.start-v.context.lineStart,y=t,w=h[y=r.b.normalizeOffset(h,y)],x=r.b.endOfWhiteSpace(h,d)===y,k=!1;w;){for(;"\n"===w||"#"===w;){if(x&&"\n"===w&&!k){var C=new o;if(y=C.parse({src:h},y),this.valueRange.end=y,y>=h.length){w=null;break}this.items.push(C),y-=1}else if("#"===w){if(y<d+m&&!n.nextContentHasIndent(h,y,m))return y;var S=new c;if(y=S.parse({indent:m,lineStart:d,src:h},y),this.items.push(S),this.valueRange.end=y,y>=h.length){w=null;break}}if(d=y+1,y=r.b.endOfIndent(h,d),r.b.atBlank(h,y)){var O=r.b.endOfWhiteSpace(h,y),L=h[O];L&&"\n"!==L&&"#"!==L||(y=O)}w=h[y],x=!0}if(!w)break;if(y!==d+m&&(x||":"!==w)){if(y<d+m){d>t&&(y=d);break}if(!this.error){this.error=new r.f(this,"All collection items must start at the same column")}}if(v.type===r.e.SEQ_ITEM){if("-"!==w){d>t&&(y=d);break}}else if("-"===w&&!this.error){var M=h[y+1];if(!M||"\n"===M||"\t"===M||" "===M){this.error=new r.f(this,"A collection cannot be both a mapping and a sequence")}}var T=l({atLineStart:x,inCollection:!0,indent:m,lineStart:d,parent:this},y);if(!T)return y;if(this.items.push(T),this.valueRange.end=T.valueRange.end,w=h[y=r.b.normalizeOffset(h,T.range.end)],x=!1,k=T.includesTrailingLines,w){for(var N=y-1,E=h[N];" "===E||"\t"===E;)E=h[--N];"\n"===E&&(d=N+1,x=!0)}var A=f(T);A&&Array.prototype.push.apply(this.items,A)}return y}},{key:"setOrigRanges",value:function(e,t){return t=Object(r.s)(Object(r.t)(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){t=n.setOrigRanges(e,t)})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,o=this.value;if(null!=o)return o;for(var l=e.slice(n.start,t[0].range.start)+String(t[0]),i=1;i<t.length;++i){var c=t[i],f=c.context,h=f.atLineStart,d=f.indent;if(h)for(var v=0;v<d;++v)l+=" ";l+=String(c)}return r.b.addStringTerminator(e,n.end,l)}}],[{key:"nextContentHasIndent",value:function(e,t,o){var l=r.b.endOfLine(e,t)+1,c=e[t=r.b.endOfWhiteSpace(e,l)];return!!c&&(t>=l+o||("#"===c||"\n"===c)&&n.nextContentHasIndent(e,t,o))}}]),n}(r.b),d=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){var e;return Object(r.j)(this,n),(e=t.call(this,r.e.DIRECTIVE)).name=null,e}return Object(r.i)(n,[{key:"parameters",get:function(){var e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}},{key:"parseName",value:function(e){for(var t=this.context.src,n=e,r=t[n];r&&"\n"!==r&&"\t"!==r&&" "!==r;)r=t[n+=1];return this.name=t.slice(e,n),n}},{key:"parseParameters",value:function(e){for(var t=this.context.src,n=e,o=t[n];o&&"\n"!==o&&"#"!==o;)o=t[n+=1];return this.valueRange=new r.d(e,n),n}},{key:"parse",value:function(e,t){this.context=e;var n=this.parseName(t+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new r.d(t,n),n}}]),n}(r.b),v=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){var e;return Object(r.j)(this,n),(e=t.call(this,r.e.DOCUMENT)).directives=null,e.contents=null,e.directivesEndMarker=null,e.documentEndMarker=null,e}return Object(r.i)(n,[{key:"parseDirectives",value:function(e){var t=this.context.src;this.directives=[];for(var l=!0,f=!1,h=e;!r.b.atDocumentBoundary(t,h,r.a.DIRECTIVES_END);)switch(t[h=n.startCommentOrEndBlankLine(t,h)]){case"\n":if(l){var v=new o;(h=v.parse({src:t},h))<t.length&&this.directives.push(v)}else h+=1,l=!0;break;case"#":var m=new c;h=m.parse({src:t},h),this.directives.push(m),l=!1;break;case"%":var y=new d;h=y.parse({parent:this,src:t},h),this.directives.push(y),f=!0,l=!1;break;default:return f?this.error=new r.n(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),h}return t[h]?(this.directivesEndMarker=new r.d(h,h+3),h+3):(f?this.error=new r.n(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),h)}},{key:"parseContents",value:function(e){var t=this.context,l=t.parseNode,h=t.src;this.contents||(this.contents=[]);for(var d=e;"-"===h[d-1];)d-=1;var v=r.b.endOfWhiteSpace(h,e),m=d===e;for(this.valueRange=new r.d(v);!r.b.atDocumentBoundary(h,v,r.a.DOCUMENT_END);){switch(h[v]){case"\n":if(m){var y=new o;(v=y.parse({src:h},v))<h.length&&this.contents.push(y)}else v+=1,m=!0;d=v;break;case"#":var w=new c;v=w.parse({src:h},v),this.contents.push(w),m=!1;break;default:var x=r.b.endOfIndent(h,v),k=l({atLineStart:m,indent:-1,inFlow:!1,inCollection:!1,lineStart:d,parent:this},x);if(!k)return this.valueRange.end=x;this.contents.push(k),v=k.range.end,m=!1;var C=f(k);C&&Array.prototype.push.apply(this.contents,C)}v=n.startCommentOrEndBlankLine(h,v)}if(this.valueRange.end=v,h[v]&&(this.documentEndMarker=new r.d(v,v+3),h[v+=3])){if("#"===h[v=r.b.endOfWhiteSpace(h,v)]){var S=new c;v=S.parse({src:h},v),this.contents.push(S)}switch(h[v]){case"\n":v+=1;break;case void 0:break;default:this.error=new r.f(this,"Document end marker line cannot have a non-comment suffix")}}return v}},{key:"parse",value:function(e,t){e.root=this,this.context=e;var n=65279===e.src.charCodeAt(t)?t+1:t;return n=this.parseDirectives(n),n=this.parseContents(n)}},{key:"setOrigRanges",value:function(e,t){return t=Object(r.s)(Object(r.t)(n.prototype),"setOrigRanges",this).call(this,e,t),this.directives.forEach((function(n){t=n.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((function(n){t=n.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}},{key:"toString",value:function(){var e=this.contents,t=this.directives,n=this.value;if(null!=n)return n;var o=t.join("");return e.length>0&&((t.length>0||e[0].type===r.e.COMMENT)&&(o+="---\n"),o+=e.join("")),"\n"!==o[o.length-1]&&(o+="\n"),o}}],[{key:"startCommentOrEndBlankLine",value:function(e,t){var n=r.b.endOfWhiteSpace(e,t),o=e[n];return"#"===o||"\n"===o?n:t}}]),n}(r.b),m=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.apply(this,arguments)}return Object(r.i)(n,[{key:"parse",value:function(e,t){this.context=e;var n=e.src,o=r.b.endOfIdentifier(n,t+1);return this.valueRange=new r.d(t+1,o),o=r.b.endOfWhiteSpace(n,o),o=this.parseComment(o)}}]),n}(r.b),y="CLIP",w="KEEP",x="STRIP",k=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e,o){var l;return Object(r.j)(this,n),(l=t.call(this,e,o)).blockIndent=null,l.chomping=y,l.header=null,l}return Object(r.i)(n,[{key:"includesTrailingLines",get:function(){return this.chomping===w}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end,o=this.context,l=o.indent,c=o.src;if(this.valueRange.isEmpty())return"";for(var f=null,h=c[n-1];"\n"===h||"\t"===h||" "===h;){if((n-=1)<=t){if(this.chomping===w)break;return""}"\n"===h&&(f=n),h=c[n-1]}var d=n+1;f&&(this.chomping===w?(d=f,n=this.valueRange.end):n=f);for(var v=l+this.blockIndent,m=this.type===r.e.BLOCK_FOLDED,y=!0,k="",C="",S=!1,i=t;i<n;++i){for(var O=0;O<v&&" "===c[i];++O)i+=1;var L=c[i];if("\n"===L)"\n"===C?k+="\n":C="\n";else{var M=r.b.endOfLine(c,i),line=c.slice(i,M);i=M,m&&(" "===L||"\t"===L)&&i<d?(" "===C?C="\n":S||y||"\n"!==C||(C="\n\n"),k+=C+line,C=M<n&&c[M]||"",S=!0):(k+=C+line,C=m&&i<d?" ":"\n",S=!1),y&&""!==line&&(y=!1)}}return this.chomping===x?k:k+"\n"}},{key:"parseBlockHeader",value:function(e){for(var t=this.context.src,n=e+1,o="";;){var l=t[n];switch(l){case"-":this.chomping=x;break;case"+":this.chomping=w;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o+=l;break;default:return this.blockIndent=Number(o)||null,this.header=new r.d(e,n),n}n+=1}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,n=t.indent,o=t.src,l=!!this.blockIndent,c=e,f=e,h=1,d=o[c];"\n"===d&&(c+=1,!r.b.atDocumentBoundary(o,c));d=o[c]){var v=r.b.endOfBlockIndent(o,n,c);if(null===v)break;var m=o[v],y=v-(c+n);if(this.blockIndent){if(m&&"\n"!==m&&y<this.blockIndent){if("#"===o[v])break;if(!this.error){var x="Block scalars must not be less indented than their ".concat(l?"explicit indentation indicator":"first line");this.error=new r.n(this,x)}}}else if("\n"!==o[v]){if(y<h){this.error=new r.n(this,"Block scalars with more-indented leading empty lines must use an explicit indentation indicator")}this.blockIndent=y}else y>h&&(h=y);c="\n"===o[v]?v:f=r.b.endOfLine(o,v)}return this.chomping!==w&&(c=o[f]?f+1:f),this.valueRange=new r.d(e+1,c),c}},{key:"parse",value:function(e,t){this.context=e;var n=e.src,o=this.parseBlockHeader(t);return o=r.b.endOfWhiteSpace(n,o),o=this.parseComment(o),o=this.parseBlockValue(o)}},{key:"setOrigRanges",value:function(e,t){return t=Object(r.s)(Object(r.t)(n.prototype),"setOrigRanges",this).call(this,e,t),this.header?this.header.setOrigRange(e,t):t}}]),n}(r.b),C=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e,o){var l;return Object(r.j)(this,n),(l=t.call(this,e,o)).items=null,l}return Object(r.i)(n,[{key:"prevNodeIsJsonLike",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.items[e-1];return!!t&&(t.jsonLike||t.type===r.e.COMMENT&&this.prevNodeIsJsonLike(e-1))}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,l=e.src,f=e.indent,h=e.lineStart,d=l[t];this.items=[{char:d,offset:t}];var v=r.b.endOfWhiteSpace(l,t+1);for(d=l[v];d&&"]"!==d&&"}"!==d;){switch(d){case"\n":if(h=v+1,"\n"===l[r.b.endOfWhiteSpace(l,h)]){var m=new o;h=m.parse({src:l},h),this.items.push(m)}if((v=r.b.endOfIndent(l,h))<=h+f&&(d=l[v],v<h+f||"]"!==d&&"}"!==d)){this.error=new r.n(this,"Insufficient indentation in flow collection")}break;case",":this.items.push({char:d,offset:v}),v+=1;break;case"#":var y=new c;v=y.parse({src:l},v),this.items.push(y);break;case"?":case":":var w=l[v+1];if("\n"===w||"\t"===w||" "===w||","===w||":"===d&&this.prevNodeIsJsonLike()){this.items.push({char:d,offset:v}),v+=1;break}default:var x=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:h,parent:this},v);if(!x)return this.valueRange=new r.d(t,v),v;this.items.push(x),v=r.b.normalizeOffset(l,x.range.end)}d=l[v=r.b.endOfWhiteSpace(l,v)]}return this.valueRange=new r.d(t,v+1),d&&(this.items.push({char:d,offset:v}),v=r.b.endOfWhiteSpace(l,v+1),v=this.parseComment(v)),v}},{key:"setOrigRanges",value:function(e,t){return t=Object(r.s)(Object(r.t)(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){if(n instanceof r.b)t=n.setOrigRanges(e,t);else if(0===e.length)n.origOffset=n.offset;else{for(var i=t;i<e.length&&!(e[i]>n.offset);)++i;n.origOffset=n.offset+i,t=i}})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,o=this.value;if(null!=o)return o;var l=t.filter((function(e){return e instanceof r.b})),c="",f=n.start;return l.forEach((function(t){var n=e.slice(f,t.range.start);f=t.range.end,"\n"===(c+=n+String(t))[c.length-1]&&"\n"!==e[f-1]&&"\n"===e[f]&&(f+=1)})),c+=e.slice(f,n.end),r.b.addStringTerminator(e,n.end,c)}}]),n}(r.b),S=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.apply(this,arguments)}return Object(r.i)(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,o=t.end,l=this.context,c=l.indent,f=l.src;'"'!==f[o-1]&&e.push(new r.f(this,'Missing closing "quote'));for(var h="",i=n+1;i<o-1;++i){var d=f[i];if("\n"===d){r.b.atDocumentBoundary(f,i+1)&&e.push(new r.n(this,"Document boundary indicators are not allowed within string values"));var v=r.b.foldNewline(f,i,c);h+=v.fold,i=v.offset,v.error&&e.push(new r.n(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if("\\"===d)switch(f[i+=1]){case"0":h+="\0";break;case"a":h+="";break;case"b":h+="\b";break;case"e":h+="";break;case"f":h+="\f";break;case"n":h+="\n";break;case"r":h+="\r";break;case"t":case"\t":h+="\t";break;case"v":h+="\v";break;case"N":h+="";break;case"_":h+=" ";break;case"L":h+="\u2028";break;case"P":h+="\u2029";break;case" ":h+=" ";break;case'"':h+='"';break;case"/":h+="/";break;case"\\":h+="\\";break;case"x":h+=this.parseCharCode(i+1,2,e),i+=2;break;case"u":h+=this.parseCharCode(i+1,4,e),i+=4;break;case"U":h+=this.parseCharCode(i+1,8,e),i+=8;break;case"\n":for(;" "===f[i+1]||"\t"===f[i+1];)i+=1;break;default:e.push(new r.f(this,"Invalid escape sequence ".concat(f.substr(i-1,2)))),h+="\\"+f[i]}else if(" "===d||"\t"===d){for(var m=i,y=f[i+1];" "===y||"\t"===y;)y=f[(i+=1)+1];"\n"!==y&&(h+=i>m?f.slice(m,i+1):d)}else h+=d}return e.length>0?{errors:e,str:h}:h}},{key:"parseCharCode",value:function(e,t,n){var o=this.context.src,l=o.substr(e,t),code=l.length===t&&/^[0-9a-fA-F]+$/.test(l)?parseInt(l,16):NaN;return isNaN(code)?(n.push(new r.f(this,"Invalid escape sequence ".concat(o.substr(e-2,t+2)))),o.substr(e-2,t+2)):String.fromCodePoint(code)}},{key:"parse",value:function(e,t){this.context=e;var o=e.src,l=n.endOfQuote(o,t+1);return this.valueRange=new r.d(t,l),l=r.b.endOfWhiteSpace(o,l),l=this.parseComment(l)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n&&'"'!==n;)n=e[t+="\\"===n?2:1];return t+1}}]),n}(r.b),O=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(){return Object(r.j)(this,n),t.apply(this,arguments)}return Object(r.i)(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,o=t.end,l=this.context,c=l.indent,f=l.src;"'"!==f[o-1]&&e.push(new r.f(this,"Missing closing 'quote"));for(var h="",i=n+1;i<o-1;++i){var d=f[i];if("\n"===d){r.b.atDocumentBoundary(f,i+1)&&e.push(new r.n(this,"Document boundary indicators are not allowed within string values"));var v=r.b.foldNewline(f,i,c);h+=v.fold,i=v.offset,v.error&&e.push(new r.n(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if("'"===d)h+=d,"'"!==f[i+=1]&&e.push(new r.f(this,"Unescaped single quote? This should not happen."));else if(" "===d||"\t"===d){for(var m=i,y=f[i+1];" "===y||"\t"===y;)y=f[(i+=1)+1];"\n"!==y&&(h+=i>m?f.slice(m,i+1):d)}else h+=d}return e.length>0?{errors:e,str:h}:h}},{key:"parse",value:function(e,t){this.context=e;var o=e.src,l=n.endOfQuote(o,t+1);return this.valueRange=new r.d(t,l),l=r.b.endOfWhiteSpace(o,l),l=this.parseComment(l)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n;)if("'"===n){if("'"!==e[t+1])break;n=e[t+=2]}else n=e[t+=1];return t+1}}]),n}(r.b);function L(e,t){switch(e){case r.e.ALIAS:return new m(e,t);case r.e.BLOCK_FOLDED:case r.e.BLOCK_LITERAL:return new k(e,t);case r.e.FLOW_MAP:case r.e.FLOW_SEQ:return new C(e,t);case r.e.MAP_KEY:case r.e.MAP_VALUE:case r.e.SEQ_ITEM:return new l(e,t);case r.e.COMMENT:case r.e.PLAIN:return new r.c(e,t);case r.e.QUOTE_DOUBLE:return new S(e,t);case r.e.QUOTE_SINGLE:return new O(e,t);default:return null}}var M=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=o.atLineStart,c=o.inCollection,f=o.inFlow,d=o.indent,v=o.lineStart,m=o.parent;Object(r.j)(this,e),Object(r.l)(this,"parseNode",(function(n,o){if(r.b.atDocumentBoundary(t.src,o))return null;var l=new e(t,n),c=l.parseProps(o),f=c.props,d=c.type,v=c.valueStart,m=L(d,f),y=m.parse(l,v);if(m.range=new r.d(o,y),y<=o&&(m.error=new Error("Node#parse consumed no characters"),m.error.parseEnd=y,m.error.source=m,m.range.end=o+1),l.nodeStartsCollection(m)){m.error||l.atLineStart||l.parent.type!==r.e.DOCUMENT||(m.error=new r.f(m,"Block collection must not have preceding content here (e.g. directives-end indicator)"));var w=new h(m);return y=w.parse(new e(l),y),w.range=new r.d(o,y),w}return m})),this.atLineStart=null!=l?l:n.atLineStart||!1,this.inCollection=null!=c?c:n.inCollection||!1,this.inFlow=null!=f?f:n.inFlow||!1,this.indent=null!=d?d:n.indent,this.lineStart=null!=v?v:n.lineStart,this.parent=null!=m?m:n.parent||{},this.root=n.root,this.src=n.src}return Object(r.i)(e,[{key:"nodeStartsCollection",value:function(e){var t=this.inCollection,n=this.inFlow,o=this.src;if(t||n)return!1;if(e instanceof l)return!0;var c=e.range.end;return"\n"!==o[c]&&"\n"!==o[c-1]&&":"===o[c=r.b.endOfWhiteSpace(o,c)]}},{key:"parseProps",value:function(t){for(var n=this.inFlow,o=this.parent,l=this.src,c=[],f=!1,h=l[t=this.atLineStart?r.b.endOfIndent(l,t):r.b.endOfWhiteSpace(l,t)];h===r.a.ANCHOR||h===r.a.COMMENT||h===r.a.TAG||"\n"===h;){if("\n"===h){var d=t,v=void 0;do{v=d+1,d=r.b.endOfIndent(l,v)}while("\n"===l[d]);var m=d-(v+this.indent),y=o.type===r.e.SEQ_ITEM&&o.context.atLineStart;if("#"!==l[d]&&!r.b.nextNodeIsIndented(l[d],m,!y))break;this.atLineStart=!0,this.lineStart=v,f=!1,t=d}else if(h===r.a.COMMENT){var w=r.b.endOfLine(l,t+1);c.push(new r.d(t,w)),t=w}else{var x=r.b.endOfIdentifier(l,t+1);h===r.a.TAG&&","===l[x]&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(l.slice(t+1,x+13))&&(x=r.b.endOfIdentifier(l,x+5)),c.push(new r.d(t,x)),f=!0,t=r.b.endOfWhiteSpace(l,x)}h=l[t]}return f&&":"===h&&r.b.atBlank(l,t+1,!0)&&(t-=1),{props:c,type:e.parseType(l,t,n),valueStart:t}}}],[{key:"parseType",value:function(e,t,n){switch(e[t]){case"*":return r.e.ALIAS;case">":return r.e.BLOCK_FOLDED;case"|":return r.e.BLOCK_LITERAL;case"{":return r.e.FLOW_MAP;case"[":return r.e.FLOW_SEQ;case"?":return!n&&r.b.atBlank(e,t+1,!0)?r.e.MAP_KEY:r.e.PLAIN;case":":return!n&&r.b.atBlank(e,t+1,!0)?r.e.MAP_VALUE:r.e.PLAIN;case"-":return!n&&r.b.atBlank(e,t+1,!0)?r.e.SEQ_ITEM:r.e.PLAIN;case'"':return r.e.QUOTE_DOUBLE;case"'":return r.e.QUOTE_SINGLE;default:return r.e.PLAIN}}}]),e}();function T(e){var t=[];-1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,(function(e,n){return e.length>1&&t.push(n),"\n"})));var n=[],r=0;do{var o=new v,l=new M({src:e});r=o.parse(l,r),n.push(o)}while(r<e.length);return n.setOrigRanges=function(){if(0===t.length)return!1;for(var i=1;i<t.length;++i)t[i]-=i;for(var e=0,r=0;r<n.length;++r)e=n[r].setOrigRanges(t,e);return t.splice(0,t.length),!0},n.toString=function(){return n.join("...\n")},n}var N=n(238),E=n(260);var A={createNode:function(e,t,n){var map=new N.k(e);if(t instanceof Map){var o,l=Object(r.g)(t);try{for(l.s();!(o=l.n()).done;){var c=Object(r.o)(o.value,2),f=c[0],h=c[1];map.items.push(e.createPair(f,h,n))}}catch(e){l.e(e)}finally{l.f()}}else if(t&&"object"===Object(r.h)(t))for(var d=0,v=Object.keys(t);d<v.length;d++){var m=v[d];map.items.push(e.createPair(m,t[m],n))}return"function"==typeof e.sortMapEntries&&map.items.sort(e.sortMapEntries),map},default:!0,nodeClass:N.k,tag:"tag:yaml.org,2002:map",resolve:N.n};var j={createNode:function(e,t,n){var o=new N.g(e);if(t&&t[Symbol.iterator]){var l,c=Object(r.g)(t);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=e.createNode(f,n.wrapScalars,null,n);o.items.push(h)}}catch(e){c.e(e)}finally{c.f()}}return o},default:!0,nodeClass:N.g,tag:"tag:yaml.org,2002:seq",resolve:N.o},I={identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:N.q,stringify:function(e,t,n,r){return t=Object.assign({actualString:!0},t),Object(N.j)(e,t,n,r)},options:N.v},P=[A,j,I],D=function(e){return"bigint"==typeof e||Number.isInteger(e)},W=function(e,t,n){return N.p.asBigInt?BigInt(e):parseInt(t,n)};function R(e,t,n){var r=e.value;return D(r)&&r>=0?n+r.toString(t):Object(N.r)(e)}var F={identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new N.f(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:N.t,stringify:function(){return N.t.nullStr}},B={identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(e){return"t"===e[0]||"T"===e[0]},options:N.h,stringify:function(e){return e.value?N.h.trueStr:N.h.falseStr}},H={identify:function(e){return D(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:function(e,t){return W(e,t,8)},options:N.p,stringify:function(e){return R(e,8,"0o")}},z={identify:D,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(e){return W(e,e,10)},options:N.p,stringify:N.r},_={identify:function(e){return D(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:function(e,t){return W(e,t,16)},options:N.p,stringify:function(e){return R(e,16,"0x")}},U={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:N.r},V={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e)},stringify:function(e){var t=e.value;return Number(t).toExponential()}},K={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve:function(e,t,n){var r=t||n,o=new N.f(parseFloat(e));return r&&"0"===r[r.length-1]&&(o.minFractionDigits=r.length),o},stringify:N.r},$=P.concat([F,B,H,z,_,U,V,K]),G=function(e){return"bigint"==typeof e||Number.isInteger(e)},Y=function(e){var t=e.value;return JSON.stringify(t)},Q=[A,j,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:N.q,stringify:Y},{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new N.f(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Y},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(e){return"true"===e},stringify:Y},{identify:G,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(e){return N.p.asBigInt?BigInt(e):parseInt(e,10)},stringify:function(e){var t=e.value;return G(t)?t.toString():JSON.stringify(t)}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(e){return parseFloat(e)},stringify:Y}];Q.scalarFallback=function(e){throw new SyntaxError("Unresolved plain scalar ".concat(JSON.stringify(e)))};var J=function(e){return e.value?N.h.trueStr:N.h.falseStr},X=function(e){return"bigint"==typeof e||Number.isInteger(e)};function Z(e,t,n){var r=t.replace(/_/g,"");if(N.p.asBigInt){switch(n){case 2:r="0b".concat(r);break;case 8:r="0o".concat(r);break;case 16:r="0x".concat(r)}var o=BigInt(r);return"-"===e?BigInt(-1)*o:o}var l=parseInt(r,n);return"-"===e?-1*l:l}function ee(e,t,n){var r=e.value;if(X(r)){var o=r.toString(t);return r<0?"-"+n+o.substr(1):n+o}return Object(N.r)(e)}var te=P.concat([{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new N.f(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:N.t,stringify:function(){return N.t.nullStr}},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return!0},options:N.h,stringify:J},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return!1},options:N.h,stringify:J},{identify:X,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:function(e,t,n){return Z(t,n,2)},stringify:function(e){return ee(e,2,"0b")}},{identify:X,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:function(e,t,n){return Z(t,n,8)},stringify:function(e){return ee(e,8,"0")}},{identify:X,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:function(e,t,n){return Z(t,n,10)},stringify:N.r},{identify:X,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:function(e,t,n){return Z(t,n,16)},stringify:function(e){return ee(e,16,"0x")}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:N.r},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e.replace(/_/g,""))},stringify:function(e){var t=e.value;return Number(t).toExponential()}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve:function(e,t){var n=new N.f(parseFloat(e.replace(/_/g,"")));if(t){var r=t.replace(/_/g,"");"0"===r[r.length-1]&&(n.minFractionDigits=r.length)}return n},stringify:N.r}],E.b,E.e,E.f,E.g,E.d,E.c,E.h),ne={core:$,failsafe:P,json:Q,yaml11:te},re={binary:E.b,bool:B,float:K,floatExp:V,floatNaN:U,floatTime:E.c,int:z,intHex:_,intOct:H,intTime:E.d,map:A,null:F,omap:E.e,pairs:E.f,seq:j,set:E.g,timestamp:E.h};function ie(e,t,n){if(e instanceof N.d)return e;var o=n.defaultPrefix,l=n.onTagObj,c=n.prevObjects,f=n.schema,h=n.wrapScalars;t&&t.startsWith("!!")&&(t=o+t.slice(2));var d=function(e,t,n){if(t){var r=n.filter((function(e){return e.tag===t})),o=r.find((function(e){return!e.format}))||r[0];if(!o)throw new Error("Tag ".concat(t," not found"));return o}return n.find((function(t){return(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format}))}(e,t,f.tags);if(!d){if("function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==Object(r.h)(e))return h?new N.f(e):e;d=e instanceof Map?A:e[Symbol.iterator]?j:A}l&&(l(d),delete n.onTagObj);var v={value:void 0,node:void 0};if(e&&"object"===Object(r.h)(e)&&c){var m=c.get(e);if(m){var y=new N.a(m);return n.aliasNodes.push(y),y}v.value=e,c.set(e,v)}return v.node=d.createNode?d.createNode(n.schema,e,n):h?new N.f(e):e,t&&v.node instanceof N.d&&(v.node.tag=t),v.node}var oe=function(a,b){return a.key<b.key?-1:a.key>b.key?1:0},ae=function(){function e(t){var n=t.customTags,o=t.merge,l=t.schema,c=t.sortMapEntries,f=t.tags;Object(r.j)(this,e),this.merge=!!o,this.name=l,this.sortMapEntries=!0===c?oe:c||null,!n&&f&&Object(E.a)("tags","customTags"),this.tags=function(e,t,n,o){var l=e[o.replace(/\W/g,"")];if(!l){var c=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown schema "'.concat(o,'"; use one of ').concat(c))}if(Array.isArray(n)){var f,h=Object(r.g)(n);try{for(h.s();!(f=h.n()).done;){var d=f.value;l=l.concat(d)}}catch(e){h.e(e)}finally{h.f()}}else"function"==typeof n&&(l=n(l.slice()));for(var i=0;i<l.length;++i){var v=l[i];if("string"==typeof v){var m=t[v];if(!m){var y=Object.keys(t).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown custom tag "'.concat(v,'"; use one of ').concat(y))}l[i]=m}}return l}(ne,re,n||f,l)}return Object(r.i)(e,[{key:"createNode",value:function(t,n,r,o){var l={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:n};return ie(t,r,o?Object.assign(o,l):l)}},{key:"createPair",value:function(e,t,n){n||(n={wrapScalars:!0});var r=this.createNode(e,n.wrapScalars,null,n),o=this.createNode(t,n.wrapScalars,null,n);return new N.e(r,o)}}]),e}();Object(r.l)(ae,"defaultPrefix",r.k),Object(r.l)(ae,"defaultTags",r.u);var se={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},le={get binary(){return N.i},set binary(e){Object.assign(N.i,e)},get bool(){return N.h},set bool(e){Object.assign(N.h,e)},get int(){return N.p},set int(e){Object.assign(N.p,e)},get null(){return N.t},set null(e){Object.assign(N.t,e)},get str(){return N.v},set str(e){Object.assign(N.v,e)}},ce={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:r.k},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:r.k}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:r.k}]}};function ue(e,t){if("1.0"===(e.version||e.options.version)){var n=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];var r=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return r?"!".concat(r[1],"/").concat(r[2]):"!".concat(t.replace(/^tag:/,""))}var p=e.tagPrefixes.find((function(p){return 0===t.indexOf(p.prefix)}));if(!p){var o=e.getDefaults().tagPrefixes;p=o&&o.find((function(p){return 0===t.indexOf(p.prefix)}))}if(!p)return"!"===t[0]?t:"!<".concat(t,">");var l=t.substr(p.prefix.length).replace(/[!,[\]{}]/g,(function(e){return{"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[e]}));return p.handle+l}function fe(e,t,n,o){var l,c=t.doc,f=c.anchors,h=c.schema;if(!(e instanceof N.d)){var d={aliasNodes:[],onTagObj:function(e){return l=e},prevObjects:new Map};e=h.createNode(e,!0,null,d);var v,m=Object(r.g)(d.aliasNodes);try{for(m.s();!(v=m.n()).done;){var y=v.value;y.source=y.source.node;var w=f.getName(y.source);w||(w=f.newName(),f.map[w]=y.source)}}catch(e){m.e(e)}finally{m.f()}}if(e instanceof N.e)return e.toString(t,n,o);l||(l=function(e,t){if(t instanceof N.a)return N.a;if(t.tag){var n=e.filter((function(e){return e.tag===t.tag}));if(n.length>0)return n.find((function(e){return e.format===t.format}))||n[0]}var o,l;if(t instanceof N.f){l=t.value;var c=e.filter((function(e){return e.identify&&e.identify(l)||e.class&&l instanceof e.class}));o=c.find((function(e){return e.format===t.format}))||c.find((function(e){return!e.format}))}else l=t,o=e.find((function(e){return e.nodeClass&&l instanceof e.nodeClass}));if(!o){var f=l&&l.constructor?l.constructor.name:Object(r.h)(l);throw new Error("Tag not resolved for ".concat(f," value"))}return o}(h.tags,e));var x=function(e,t,n){var r=n.anchors,o=n.doc,l=[],c=o.anchors.getName(e);return c&&(r[c]=e,l.push("&".concat(c))),e.tag?l.push(ue(o,e.tag)):t.default||l.push(ue(o,t.tag)),l.join(" ")}(e,l,t);x.length>0&&(t.indentAtStart=(t.indentAtStart||0)+x.length+1);var k="function"==typeof l.stringify?l.stringify(e,t,n,o):e instanceof N.f?Object(N.j)(e,t,n,o):e.toString(t,n,o);return x?e instanceof N.f||"{"===k[0]||"["===k[0]?"".concat(x," ").concat(k):"".concat(x,"\n").concat(t.indent).concat(k):k}var he=function(){function e(t){Object(r.j)(this,e),Object(r.l)(this,"map",Object.create(null)),this.prefix=t}return Object(r.i)(e,[{key:"createAlias",value:function(e,t){return this.setAnchor(e,t),new N.a(e)}},{key:"createMergePair",value:function(){for(var e=this,t=new N.c,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.value.items=r.map((function(s){if(s instanceof N.a){if(s.source instanceof N.k)return s}else if(s instanceof N.k)return e.createAlias(s);throw new Error("Merge sources must be Map nodes or their Aliases")})),t}},{key:"getName",value:function(e){var map=this.map;return Object.keys(map).find((function(a){return map[a]===e}))}},{key:"getNames",value:function(){return Object.keys(this.map)}},{key:"getNode",value:function(e){return this.map[e]}},{key:"newName",value:function(e){e||(e=this.prefix);for(var t=Object.keys(this.map),i=1;;++i){var n="".concat(e).concat(i);if(!t.includes(n))return n}}},{key:"resolveNodes",value:function(){var map=this.map,e=this._cstAliases;Object.keys(map).forEach((function(a){map[a]=map[a].resolved})),e.forEach((function(a){a.source=a.source.resolved})),delete this._cstAliases}},{key:"setAnchor",value:function(t,n){if(null!=t&&!e.validAnchorNode(t))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");var map=this.map,r=t&&Object.keys(map).find((function(a){return map[a]===t}));if(r){if(!n)return r;r!==n&&(delete map[r],map[n]=t)}else{if(!n){if(!t)return null;n=this.newName()}map[n]=t}return n}}],[{key:"validAnchorNode",value:function(e){return e instanceof N.f||e instanceof N.g||e instanceof N.k}}]),e}(),de=function e(t,n){if(t&&"object"===Object(r.h)(t)){var o=t.tag;t instanceof N.b?(o&&(n[o]=!0),t.items.forEach((function(t){return e(t,n)}))):t instanceof N.e?(e(t.key,n),e(t.value,n)):t instanceof N.f&&o&&(n[o]=!0)}return n},pe=function(e){return Object.keys(de(e,{}))};function ve(e,t){var n=e.tagPrefixes,o=Object(r.o)(t.parameters,2),l=o[0],c=o[1];if(!l||!c){throw new r.n(t,"Insufficient parameters given for %TAG directive")}if(n.some((function(p){return p.handle===l}))){throw new r.n(t,"The %TAG directive must only be given at most once per handle in the same document.")}return{handle:l,prefix:c}}function ge(e,t){var n=Object(r.o)(t.parameters,1)[0];if("YAML:1.0"===t.name&&(n="1.0"),!n){throw new r.n(t,"Insufficient parameters given for %YAML directive")}if(!ce[n]){var o=e.version||e.options.version,l="Document will be parsed as YAML ".concat(o," rather than YAML ").concat(n);e.warnings.push(new r.m(t,l))}return n}function me(e){if(e instanceof N.b)return!0;throw new Error("Expected a YAML collection as document contents")}var ye=function(){function e(t){Object(r.j)(this,e),this.anchors=new he(t.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=t,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}return Object(r.i)(e,[{key:"add",value:function(e){return me(this.contents),this.contents.add(e)}},{key:"addIn",value:function(path,e){me(this.contents),this.contents.addIn(path,e)}},{key:"delete",value:function(e){return me(this.contents),this.contents.delete(e)}},{key:"deleteIn",value:function(path){return Object(N.l)(path)?null!=this.contents&&(this.contents=null,!0):(me(this.contents),this.contents.deleteIn(path))}},{key:"getDefaults",value:function(){return e.defaults[this.version]||e.defaults[this.options.version]||{}}},{key:"get",value:function(e,t){return this.contents instanceof N.b?this.contents.get(e,t):void 0}},{key:"getIn",value:function(path,e){return Object(N.l)(path)?!e&&this.contents instanceof N.f?this.contents.value:this.contents:this.contents instanceof N.b?this.contents.getIn(path,e):void 0}},{key:"has",value:function(e){return this.contents instanceof N.b&&this.contents.has(e)}},{key:"hasIn",value:function(path){return Object(N.l)(path)?void 0!==this.contents:this.contents instanceof N.b&&this.contents.hasIn(path)}},{key:"set",value:function(e,t){me(this.contents),this.contents.set(e,t)}},{key:"setIn",value:function(path,e){Object(N.l)(path)?this.contents=e:(me(this.contents),this.contents.setIn(path,e))}},{key:"setSchema",value:function(e,t){if(e||t||!this.schema){"number"==typeof e&&(e=e.toFixed(1)),"1.0"===e||"1.1"===e||"1.2"===e?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&"string"==typeof e&&(this.options.schema=e),Array.isArray(t)&&(this.options.customTags=t);var n=Object.assign({},this.getDefaults(),this.options);this.schema=new ae(n)}}},{key:"parse",value:function(e,t){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");var n=e.directives,o=void 0===n?[]:n,l=e.contents,c=void 0===l?[]:l,f=e.directivesEndMarker,h=e.error,d=e.valueRange;if(h&&(h.source||(h.source=this),this.errors.push(h)),function(e,t,n){var o,l=[],c=!1,f=Object(r.g)(t);try{for(f.s();!(o=f.n()).done;){var h=o.value,d=h.comment,v=h.name;switch(v){case"TAG":try{e.tagPrefixes.push(ve(e,h))}catch(t){e.errors.push(t)}c=!0;break;case"YAML":case"YAML:1.0":e.version&&e.errors.push(new r.n(h,"The %YAML directive must only be given at most once per document."));try{e.version=ge(e,h)}catch(t){e.errors.push(t)}c=!0;break;default:if(v){var m="YAML only supports %TAG and %YAML directives, and not %".concat(v);e.warnings.push(new r.m(h,m))}}d&&l.push(d)}}catch(e){f.e(e)}finally{f.f()}n&&!c&&"1.1"===(e.version||n.version||e.options.version)&&(e.tagPrefixes=n.tagPrefixes.map((function(e){return{handle:e.handle,prefix:e.prefix}})),e.version=n.version);e.commentBefore=l.join("\n")||null}(this,o,t),f&&(this.directivesEndMarker=!0),this.range=d?[d.start,d.end]:null,this.setSchema(),this.anchors._cstAliases=[],function(e,t){var n,o={before:[],after:[]},body=void 0,l=!1,c=Object(r.g)(t);try{for(c.s();!(n=c.n()).done;){var f=n.value;if(f.valueRange){if(void 0!==body){e.errors.push(new r.f(f,"Document contains trailing content not separated by a ... or --- line"));break}var h=Object(N.u)(e,f);l&&(h.spaceBefore=!0,l=!1),body=h}else null!==f.comment?(void 0===body?o.before:o.after).push(f.comment):f.type===r.e.BLANK_LINE&&(l=!0,void 0===body&&o.before.length>0&&!e.commentBefore&&(e.commentBefore=o.before.join("\n"),o.before=[]))}}catch(e){c.e(e)}finally{c.f()}if(e.contents=body||null,body){var d=o.before.join("\n");if(d){var v=body instanceof N.b&&body.items[0]?body.items[0]:body;v.commentBefore=v.commentBefore?"".concat(d,"\n").concat(v.commentBefore):d}e.comment=o.after.join("\n")||null}else e.comment=o.before.concat(o.after).join("\n")||null}(this,c),this.anchors.resolveNodes(),this.options.prettyErrors){var v,m=Object(r.g)(this.errors);try{for(m.s();!(v=m.n()).done;){var y=v.value;y instanceof r.p&&y.makePretty()}}catch(e){m.e(e)}finally{m.f()}var w,x=Object(r.g)(this.warnings);try{for(x.s();!(w=x.n()).done;){var k=w.value;k instanceof r.p&&k.makePretty()}}catch(e){x.e(e)}finally{x.f()}}return this}},{key:"listNonDefaultTags",value:function(){return pe(this.contents).filter((function(e){return 0!==e.indexOf(ae.defaultPrefix)}))}},{key:"setTagPrefix",value:function(e,t){if("!"!==e[0]||"!"!==e[e.length-1])throw new Error("Handle must start and end with !");if(t){var n=this.tagPrefixes.find((function(p){return p.handle===e}));n?n.prefix=t:this.tagPrefixes.push({handle:e,prefix:t})}else this.tagPrefixes=this.tagPrefixes.filter((function(p){return p.handle!==e}))}},{key:"toJSON",value:function(e,t){var n=this,o=this.options,l=o.keepBlobsInJSON,c=o.mapAsMap,f=o.maxAliasCount,h=l&&("string"!=typeof e||!(this.contents instanceof N.f)),d={doc:this,indentStep:"  ",keep:h,mapAsMap:h&&!!c,maxAliasCount:f,stringify:fe},v=Object.keys(this.anchors.map);v.length>0&&(d.anchors=new Map(v.map((function(e){return[n.anchors.map[e],{alias:[],aliasCount:0,count:1}]}))));var m=Object(N.w)(this.contents,e,d);if("function"==typeof t&&d.anchors){var y,w=Object(r.g)(d.anchors.values());try{for(w.s();!(y=w.n()).done;){var x=y.value,k=x.count;t(x.res,k)}}catch(e){w.e(e)}finally{w.f()}}return m}},{key:"toString",value:function(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");var e=this.options.indent;if(!Number.isInteger(e)||e<=0){var s=JSON.stringify(e);throw new Error('"indent" option must be a positive integer, not '.concat(s))}this.setSchema();var t=[],n=!1;if(this.version){var r="%YAML 1.2";"yaml-1.1"===this.schema.name&&("1.0"===this.version?r="%YAML:1.0":"1.1"===this.version&&(r="%YAML 1.1")),t.push(r),n=!0}var o=this.listNonDefaultTags();this.tagPrefixes.forEach((function(e){var r=e.handle,l=e.prefix;o.some((function(e){return 0===e.indexOf(l)}))&&(t.push("%TAG ".concat(r," ").concat(l)),n=!0)})),(n||this.directivesEndMarker)&&t.push("---"),this.commentBefore&&(!n&&this.directivesEndMarker||t.unshift(""),t.unshift(this.commentBefore.replace(/^/gm,"#")));var l={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:fe},c=!1,f=null;if(this.contents){this.contents instanceof N.d&&(this.contents.spaceBefore&&(n||this.directivesEndMarker)&&t.push(""),this.contents.commentBefore&&t.push(this.contents.commentBefore.replace(/^/gm,"#")),l.forceBlockIndent=!!this.comment,f=this.contents.comment);var h=f?null:function(){return c=!0},body=fe(this.contents,l,(function(){return f=null}),h);t.push(Object(N.m)(body,"",f))}else void 0!==this.contents&&t.push(fe(this.contents,l));return this.comment&&(c&&!f||""===t[t.length-1]||t.push(""),t.push(this.comment.replace(/^/gm,"#"))),t.join("\n")+"\n"}}]),e}();Object(r.l)(ye,"defaults",ce);var be=function(e){Object(r.q)(n,e);var t=Object(r.r)(n);function n(e){return Object(r.j)(this,n),t.call(this,Object.assign({},se,e))}return n}(ye);function we(e,t){var n=T(e),o=new be(t).parse(n[0]);if(n.length>1){o.errors.unshift(new r.n(n[1],"Source contains multiple documents; please use YAML.parseAllDocuments()"))}return o}var xe={createNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;void 0===n&&"string"==typeof t&&(n=t,t=!0);var r=Object.assign({},ye.defaults[se.version],se),o=new ae(r);return o.createNode(e,t,n)},defaultOptions:se,Document:be,parse:function(e,t){var n=we(e,t);if(n.warnings.forEach((function(e){return Object(E.i)(e)})),n.errors.length>0)throw n.errors[0];return n.toJSON()},parseAllDocuments:function(e,t){var n,o,l=[],c=Object(r.g)(T(e));try{for(c.s();!(o=c.n()).done;){var f=o.value,h=new be(t);h.parse(f,n),l.push(h),n=h}}catch(e){c.e(e)}finally{c.f()}return l},parseCST:T,parseDocument:we,scalarOptions:le,stringify:function(e,t){var n=new be(t);return n.contents=e,String(n)}}}}]);